Last login: Wed Oct 15 16:17:12 on ttys006
pstewart@Patricks-MacBook-Pro-2 ~ % cd bcos 
pstewart@Patricks-MacBook-Pro-2 bcos % ./dev.sh restart
================================
  BCOS Development Helper
================================
[INFO] Restarting BCOS application...
[INFO] Killing processes on port 4001...
[INFO] No processes found on port 4001
[INFO] Starting fresh development server...
[INFO] Starting development server on port 4001...

> bendcare-os@0.1.0 dev /Users/pstewart/bcos
> next dev -p ${PORT:-4001}

   ▲ Next.js 15.5.3
   - Local:        http://localhost:4001
   - Network:      http://192.168.4.53:4001
   - Environments: .env.local, .env
   - Experiments (use with caution):
     · optimizePackageImports

 ✓ Starting...
 ✓ Ready in 1638ms
 ✓ Compiled /middleware in 332ms (407 modules)
 ○ Compiling /api/auth/oidc/login ...
 ✓ Compiled /api/auth/oidc/login in 1200ms (737 modules)
{"@timestamp":"2025-10-15T20:35:21.448Z","level":"INFO","message":"Connecting to Redis","service":"bendcare-os","env":"development","file":"redis.ts","line":78,"function":"RedisClientManager.connect","component":"redis","host":"bcos-redis-dev-rt5vbv.serverless.use1.cache.amazonaws.com","port":6379,"username":"[REDACTED]","keyPrefix":"[REDACTED]","tls":true}
{"@timestamp":"2025-10-15T20:35:21.589Z","level":"INFO","message":"Redis connected successfully","service":"bendcare-os","env":"development","file":"redis.ts","line":109,"function":"EventEmitter.eval","component":"redis","host":"[REDACTED]","port":6379}
{"@timestamp":"2025-10-15T20:35:21.628Z","level":"INFO","message":"Redis ready for commands","service":"bendcare-os","env":"development","file":"redis.ts","line":119,"function":"EventEmitter.eval","component":"redis"}
{"@timestamp":"2025-10-15T20:35:21.691Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","type":"auth","identifier":"::1","current":1,"remaining":19,"limit":20}
{"@timestamp":"2025-10-15T20:35:21.692Z","level":"INFO","message":"GET /api/auth/oidc/login - OIDC login initiated","service":"bendcare-os","env":"development","file":"route.ts","line":55,"function":"oidcLoginHandler","correlationId":"cor_mgsg9ze5_8p4axfqg","component":"api","method":"GET","path":"/api/auth/oidc/login","request":{}}
{"@timestamp":"2025-10-15T20:35:21.697Z","level":"INFO","message":"OIDC login initiation started","service":"bendcare-os","env":"development","file":"route.ts","line":75,"function":"oidcLoginHandler","requestId":"unknown","ipAddress":"[REDACTED]","returnUrl":"/dashboard","fingerprint":"13b197eeb712468a..."}
{"@timestamp":"2025-10-15T20:35:21.700Z","level":"DEBUG","message":"OIDC configuration loaded","service":"bendcare-os","env":"development","file":"config.ts","line":48,"function":"buildOIDCConfig","tenantId":"[UUID]","clientId":"44ae5aae...","redirectUri":"http://localhost:4001/api/auth/oidc/callback","scopes":["openid","profile","email"],"allowedDomains":["aara.care","sparc.care","illumination.health","bendcare.com","oasis.care"],"strictFingerprint":false}
{"@timestamp":"2025-10-15T20:35:21.701Z","level":"INFO","message":"Fetching OIDC discovery document","service":"bendcare-os","env":"development","file":"client.ts","line":65,"function":"OIDCClient.initialize","tenantId":"[UUID]"}
{"@timestamp":"2025-10-15T20:35:22.021Z","level":"INFO","message":"OIDC configuration discovered successfully","service":"bendcare-os","env":"development","file":"client.ts","line":72,"function":"OIDCClient.initialize","issuer":"https://login.microsoftonline.com/e0268fe2-3176-4ac0-8cef-5f1925dd490e/v2.0"}
{"@timestamp":"2025-10-15T20:35:22.025Z","level":"DEBUG","message":"Authorization URL created","service":"bendcare-os","env":"development","file":"client.ts","line":120,"function":"OIDCClient.createAuthUrl","state":"ON3z_j1b...","nonce":"QKCH9sQA...","scopes":["openid","profile","email"]}
Query: insert into "oidc_states" ("state", "nonce", "user_fingerprint", "is_used", "created_at", "expires_at", "used_at") values ($1, $2, $3, $4, default, $5, default) -- params: ["ON3z_j1bZvi68csm_mhzButDGMg8as8_hDq6ddtoqyo", "QKCH9sQAi7P4xJHouaskYM6-TY9d3UkHIA-kN8mxun0", "13b197eeb712468ac5b56dbf7be43c43", false, "2025-10-15T20:40:52.026Z"]
{"@timestamp":"2025-10-15T20:35:22.045Z","level":"DEBUG","message":"State token registered in database","service":"bendcare-os","env":"development","file":"database-state-manager.ts","line":72,"function":"DatabaseStateManager.registerState","state":"ON3z_j1b...","expiresAt":"2025-10-15T20:40:52.026Z"}
{"@timestamp":"2025-10-15T20:35:22.045Z","level":"DEBUG","message":"OIDC state token registered","service":"bendcare-os","env":"development","file":"route.ts","line":88,"function":"oidcLoginHandler","state":"ON3z_j1b..."}
{"@timestamp":"2025-10-15T20:35:22.050Z","level":"INFO","message":"OIDC login audit","service":"bendcare-os","env":"development","file":"route.ts","line":118,"function":"oidcLoginHandler","ipAddress":"[REDACTED]","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","returnUrl":"/dashboard"}
{"@timestamp":"2025-10-15T20:35:22.050Z","level":"INFO","message":"OIDC login redirect","service":"bendcare-os","env":"development","file":"route.ts","line":124,"function":"oidcLoginHandler","duration":358,"authEndpoint":"https://login.microsoftonline.com/e0268fe2-3176-4ac0-8cef-5f1925dd490e/oauth2/v2.0/authorize"}
 GET /api/auth/oidc/login?returnUrl=%2Fdashboard 307 in 2002ms
 ○ Compiling /api/auth/oidc/callback ...
 ✓ Compiled /api/auth/oidc/callback in 672ms (740 modules)
{"@timestamp":"2025-10-15T20:35:23.392Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","type":"auth","identifier":"::1","current":2,"remaining":18,"limit":20}
{"@timestamp":"2025-10-15T20:35:23.393Z","level":"INFO","message":"GET /api/auth/oidc/callback - OIDC callback received","service":"bendcare-os","env":"development","file":"route.ts","line":70,"function":"oidcCallbackHandler","correlationId":"cor_mgsga1a3_mpxjjt9u","component":"api","method":"GET","path":"/api/auth/oidc/callback","request":{}}
Query: select "state", "nonce", "user_fingerprint", "is_used", "created_at", "expires_at", "used_at" from "oidc_states" where ("oidc_states"."state" = $1 and "oidc_states"."expires_at" > $2) for update -- params: ["ON3z_j1bZvi68csm_mhzButDGMg8as8_hDq6ddtoqyo", "2025-10-15T20:35:23.397Z"]
Query: update "oidc_states" set "is_used" = $1, "used_at" = $2 where "oidc_states"."state" = $3 -- params: [true, "2025-10-15T20:35:23.402Z", "ON3z_j1bZvi68csm_mhzButDGMg8as8_hDq6ddtoqyo"]
{"@timestamp":"2025-10-15T20:35:23.404Z","level":"INFO","message":"State token validated and marked as used","service":"bendcare-os","env":"development","file":"database-state-manager.ts","line":135,"function":"eval","state":"ON3z_j1b...","age":1362}
{"@timestamp":"2025-10-15T20:35:23.405Z","level":"DEBUG","message":"OIDC configuration loaded","service":"bendcare-os","env":"development","file":"config.ts","line":48,"function":"buildOIDCConfig","tenantId":"[UUID]","clientId":"44ae5aae...","redirectUri":"http://localhost:4001/api/auth/oidc/callback","scopes":["openid","profile","email"],"allowedDomains":["aara.care","sparc.care","illumination.health","bendcare.com","oasis.care"],"strictFingerprint":false}
{"@timestamp":"2025-10-15T20:35:23.406Z","level":"INFO","message":"Fetching OIDC discovery document","service":"bendcare-os","env":"development","file":"client.ts","line":65,"function":"OIDCClient.initialize","tenantId":"[UUID]"}
{"@timestamp":"2025-10-15T20:35:23.528Z","level":"INFO","message":"OIDC configuration discovered successfully","service":"bendcare-os","env":"development","file":"client.ts","line":72,"function":"OIDCClient.initialize","issuer":"https://login.microsoftonline.com/e0268fe2-3176-4ac0-8cef-5f1925dd490e/v2.0"}
{"@timestamp":"2025-10-15T20:35:23.834Z","level":"DEBUG","message":"Token exchange successful","service":"bendcare-os","env":"development","file":"client.ts","line":183,"function":"OIDCClient.handleCallback","hasAccessToken":"[REDACTED]","hasIdToken":"[REDACTED]","hasRefreshToken":"[REDACTED]"}
{"@timestamp":"2025-10-15T20:35:23.834Z","level":"INFO","message":"ID token validation successful","service":"bendcare-os","env":"development","file":"client.ts","line":310,"function":"OIDCClient.handleCallback","email":"[REDACTED]","iat":"2025-10-15T20:30:23.000Z","exp":"2025-10-15T21:35:23.000Z","tokenAge":"[REDACTED]"}
{"@timestamp":"2025-10-15T20:35:23.835Z","level":"INFO","message":"OIDC token exchange successful","service":"bendcare-os","env":"development","file":"route.ts","line":244,"function":"oidcCallbackHandler","email":"[REDACTED]","emailVerified":"[REDACTED]"}
Query: select "user_id", "email", "first_name", "last_name", "password_hash", "email_verified", "is_active", "provider_uid", "created_at", "updated_at", "deleted_at" from "users" where "users"."email" = $1 limit $2 -- params: ["pj@illumination.health", 1]
Query: insert into "refresh_tokens" ("token_id", "user_id", "token_hash", "device_fingerprint", "ip_address", "user_agent", "remember_me", "issued_at", "expires_at", "last_used", "is_active", "revoked_at", "revoked_reason", "rotation_count", "created_at") values ($1, $2, $3, $4, $5, $6, $7, default, $8, default, default, default, default, $9, default) -- params: ["AAsOBq1d7GFIPQ8zpju_W8lNyhVgvHJj", "cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", "78a84f6f901ad6260879d6de4b687116d6df707b74148efcfc59f9baf2782e8a", "13b197eeb712468ac5b56dbf7be43c43", "::1", "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36", false, "2025-10-22T20:35:23.838Z", 0]
Query: insert into "user_sessions" ("session_id", "user_id", "refresh_token_id", "device_fingerprint", "device_name", "ip_address", "user_agent", "remember_me", "is_active", "last_activity", "created_at", "ended_at", "end_reason") values ($1, $2, $3, $4, $5, $6, $7, $8, default, default, default, default, default) -- params: ["2vQBp_rVd8A_DaGh9-DDEQSW9sseDi-c", "cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", "AAsOBq1d7GFIPQ8zpju_W8lNyhVgvHJj", "13b197eeb712468ac5b56dbf7be43c43", "Chrome Browser", "::1", "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36", false]
Query: insert into "login_attempts" ("attempt_id", "email", "user_id", "ip_address", "user_agent", "device_fingerprint", "success", "failure_reason", "remember_me_requested", "session_id", "attempted_at") values ($1, $2, $3, $4, $5, $6, $7, default, $8, $9, default) -- params: ["gr40lHD5yEE51kzi7p5nd", "pj@illumination.health", "cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", "::1", "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36", "13b197eeb712468ac5b56dbf7be43c43", true, false, "2vQBp_rVd8A_DaGh9-DDEQSW9sseDi-c"]
{"@timestamp":"2025-10-15T20:35:23.848Z","level":"INFO","message":"Auth: login","service":"bendcare-os","env":"development","file":"audit.ts","line":17,"function":"AuditLoggerService.logAuth","component":"auth","action":"login","success":true,"userId":"[UUID]","ipAddress":"[REDACTED]","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","email":"[REDACTED]","authMethod":"oidc","sessionId":"2vQBp_rVd8A_DaGh9-DDEQSW9sseDi-c","refreshTokenId":"[REDACTED]","rememberMe":false,"deviceFingerprint":"13b197eeb712468ac5b56dbf7be43c43","deviceName":"Chrome Browser"}
{"@timestamp":"2025-10-15T20:35:23.849Z","level":"INFO","message":"Audit event processed","service":"bendcare-os","env":"development","file":"audit.ts","line":25,"function":"AuditLoggerService.logAuth","eventType":"auth","action":"login","severity":"medium","complianceFramework":"HIPAA","retentionPeriod":"7_years"}
Query: insert into "audit_logs" ("audit_log_id", "event_type", "action", "user_id", "ip_address", "user_agent", "resource_type", "resource_id", "old_values", "new_values", "metadata", "severity", "created_at") values ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13) -- params: ["iCHlJSUzK-L3OqyRTED42", "auth", "login", "cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", "::1", "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36", null, null, null, null, "{\"email\":\"pj@illumination.health\",\"authMethod\":\"oidc\",\"sessionId\":\"2vQBp_rVd8A_DaGh9-DDEQSW9sseDi-c\",\"refreshTokenId\":\"AAsOBq1d7GFIPQ8zpju_W8lNyhVgvHJj\",\"rememberMe\":false,\"deviceFingerprint\":\"13b197eeb712468ac5b56dbf7be43c43\",\"deviceName\":\"Chrome Browser\"}", "medium", "2025-10-15T20:35:23.849Z"]
{"@timestamp":"2025-10-15T20:35:23.850Z","level":"DEBUG","message":"Audit log created","service":"bendcare-os","env":"development","file":"audit.ts","line":145,"function":"AuditLoggerService.log","eventType":"auth","action":"login","userId":"[UUID]","severity":"medium","operation":"createAuditLog","component":"audit-system","feature":"compliance-logging"}
{"@timestamp":"2025-10-15T20:35:23.851Z","level":"INFO","message":"OIDC callback successful - user authenticated","service":"bendcare-os","env":"development","file":"route.ts","line":348,"function":"oidcCallbackHandler","operation":"oidc_callback","success":true,"userId":"[UUID]","email":"[REDACTED]","authMethod":"oidc","sessionId":"2vQBp_rVd8A_DaGh9-DDEQSW9sseDi-c","ipAddress":"[REDACTED]","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","deviceName":"Chrome Browser","deviceFingerprint":"13b197ee","securityValidations":{"sessionDecryption":"passed","stateCsrfProtection":"passed","stateReplayPrevention":"passed","deviceFingerprintCheck":"passed","pkceValidation":"passed","emailVerification":"[REDACTED]","emailDomain":"[REDACTED]","profileSanitization":"passed","userProvisioning":"existing","userActiveStatus":"active"},"duration":459,"component":"auth","severity":"info"}
{"@timestamp":"2025-10-15T20:35:23.851Z","level":"INFO","message":"OIDC callback redirect","service":"bendcare-os","env":"development","file":"route.ts","line":405,"function":"oidcCallbackHandler","requestedReturnUrl":"/dashboard","resolvedReturnUrl":"/dashboard","baseUrl":"http://localhost:4001/api/auth/oidc/callback?code=1.ASkA4o8m4HYxwEqM718ZJd1JDq5arkSCS7dDreiVxdfAXZUpAE0pAA.AgABBAIAAABlMNzVhAPUTrARzfQjWPtKAwDs_wUA9P_3r16fXEd7o7RZ33EteZrsZAMOdD80mcFd8K_KxU-ZQ4WjUog23_5yh6E0xdbFXHDZ1_mN1Obn2svt19SWKVh-ZKHYm2nlQdrv-DCCQhqVmrj1nh-Ggj2nGJi1yFUwr4v99s_7oKwOBuSA0syOy_sbnTe8Hf2_0hDx2LsJN6y-_bpNXpPuDlflpPr7b2xbtf2HyK16EhizxcfEUAFi2Fj6AZ_kgv4HP2fE6gwrCnw_hPbyZH6zvnQLxCOZzKkhVqeftQ6LvPIRSwjZLw_6KhcwmM5fY9QYzmQf2IYihi2ZOH5vABHN3T_xl1G3K5hN2TLKfA3w7gdMT9EnaekI7dM_3pIbAP0_2670xmUPs8Od3-qgYhenBDpl3xYyZ43Yn_f8eHac6fYgrbMbYXeeEaFmzrvI5maXNkOsN-Li3P5jXStKTZajgicKdea5z_918ZXMfMPMiYPqWTY8TTyfahWNLEo7RBaHk5K96lu6XG57qXHqHiC9ghZv7mY_IFlh6vGmPR8-vFqUojYYtlROSeFCaLfoBaXLdeZbB1DTK0qcd_IJL2_SgdnOQXW-FTgywg0OJc8FCPaozRqk8atX3sGAU9uSsnAcK2KYgeGcPa2GZTwY6GBq25Kc4eZnCpIJEkaGKcdpZDEPOYmB6SSnglMSBnoWU_1kJDztTc8OZxJkmNG3Ghd0AcFYV53gtpYthwLYwO-5c5w4EByx5m5adp_egj4l8hgyX0u6RBxXR8uvhZWssmF2YsWEez3Q0uzSYfYojO-ZWV_ptRbtp5BeRgIvBTxOGjJ1hrIGs0XZFFrhReC7qrC3YpNBcNKvBy_Q6OaSbahqM-9UprUHrsi4LT9ZCPgcTKjdbXDVlGxC3tFAuyrfvLQZHB-z20ruvenB2yscA48WdTzUPygBJekoztiVZA&state=ON3z_j1bZvi68csm_mhzButDGMg8as8_hDq6ddtoqyo&session_state=008cb789-1185-0cdd-3831-9608c634a050","finalRedirect":"http://localhost:4001/authenticating?returnUrl=%2Fdashboard"}
 GET /api/auth/oidc/callback?code=1.ASkA4o8m4HYxwEqM718ZJd1JDq5arkSCS7dDreiVxdfAXZUpAE0pAA.AgABBAIAAABlMNzVhAPUTrARzfQjWPtKAwDs_wUA9P_3r16fXEd7o7RZ33EteZrsZAMOdD80mcFd8K_KxU-ZQ4WjUog23_5yh6E0xdbFXHDZ1_mN1Obn2svt19SWKVh-ZKHYm2nlQdrv-DCCQhqVmrj1nh-Ggj2nGJi1yFUwr4v99s_7oKwOBuSA0syOy_sbnTe8Hf2_0hDx2LsJN6y-_bpNXpPuDlflpPr7b2xbtf2HyK16EhizxcfEUAFi2Fj6AZ_kgv4HP2fE6gwrCnw_hPbyZH6zvnQLxCOZzKkhVqeftQ6LvPIRSwjZLw_6KhcwmM5fY9QYzmQf2IYihi2ZOH5vABHN3T_xl1G3K5hN2TLKfA3w7gdMT9EnaekI7dM_3pIbAP0_2670xmUPs8Od3-qgYhenBDpl3xYyZ43Yn_f8eHac6fYgrbMbYXeeEaFmzrvI5maXNkOsN-Li3P5jXStKTZajgicKdea5z_918ZXMfMPMiYPqWTY8TTyfahWNLEo7RBaHk5K96lu6XG57qXHqHiC9ghZv7mY_IFlh6vGmPR8-vFqUojYYtlROSeFCaLfoBaXLdeZbB1DTK0qcd_IJL2_SgdnOQXW-FTgywg0OJc8FCPaozRqk8atX3sGAU9uSsnAcK2KYgeGcPa2GZTwY6GBq25Kc4eZnCpIJEkaGKcdpZDEPOYmB6SSnglMSBnoWU_1kJDztTc8OZxJkmNG3Ghd0AcFYV53gtpYthwLYwO-5c5w4EByx5m5adp_egj4l8hgyX0u6RBxXR8uvhZWssmF2YsWEez3Q0uzSYfYojO-ZWV_ptRbtp5BeRgIvBTxOGjJ1hrIGs0XZFFrhReC7qrC3YpNBcNKvBy_Q6OaSbahqM-9UprUHrsi4LT9ZCPgcTKjdbXDVlGxC3tFAuyrfvLQZHB-z20ruvenB2yscA48WdTzUPygBJekoztiVZA&state=ON3z_j1bZvi68csm_mhzButDGMg8as8_hDq6ddtoqyo&session_state=008cb789-1185-0cdd-3831-9608c634a050 307 in 1361ms
🌐 MIDDLEWARE: Processing request for: /authenticating
🌐 MIDDLEWARE: Public path detected, allowing through: /authenticating
 ○ Compiling /authenticating ...
 ✓ Compiled /authenticating in 1151ms (1991 modules)
 GET /authenticating?returnUrl=%2Fdashboard 200 in 1497ms
 ○ Compiling /api/auth/me ...
 ✓ Compiled /api/auth/me in 1202ms (1996 modules)
🌐 MIDDLEWARE: Processing request for: /authenticating
🌐 MIDDLEWARE: Public path detected, allowing through: /authenticating
 GET /authenticating?returnUrl=%2Fdashboard 200 in 78ms
{"@timestamp":"2025-10-15T20:35:27.433Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","type":"api","identifier":"::1","current":1,"remaining":199,"limit":200}
{"@timestamp":"2025-10-15T20:35:27.434Z","level":"INFO","message":"JWT authentication middleware initiated","service":"bendcare-os","env":"development","file":"jwt-auth.ts","line":100,"function":"requireJWTAuth","url":"http://localhost:4001/api/auth/me","method":"GET","hasAuthHeader":false,"hasCookieHeader":"[REDACTED]"}
🔐 AUTH: Using access token from httpOnly cookie
Query: select "jti", "user_id", "token_type", "blacklisted_at", "expires_at", "reason", "blacklisted_by", "ip_address", "user_agent" from "token_blacklist" where "token_blacklist"."jti" = $1 limit $2 -- params: ["LCD1RM4B6CseZ8MRSCSuj", 1]
{"@timestamp":"2025-10-15T20:35:27.469Z","level":"INFO","message":"Auth: jwt_validation","service":"bendcare-os","env":"development","file":"jwt-auth.ts","line":153,"function":"requireJWTAuth","component":"auth","action":"jwt_validation","success":true,"userId":"[UUID]","sessionId":"2vQBp_rVd8A_DaGh9-DDEQSW9sseDi-c","tokenSource":"[REDACTED]","validationDuration":35}
🔐 AUTH: JWT cache miss, falling back to database query
Query: select "user_id", "email", "first_name", "last_name", "is_active", "email_verified", "provider_uid", "created_at", "updated_at" from "users" where "users"."user_id" = $1 limit $2 -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", 1]
Query: select "user_organizations"."user_organization_id", "user_organizations"."user_id", "user_organizations"."organization_id", "user_organizations"."is_active", "user_organizations"."joined_at", "user_organizations"."created_at", "organizations"."name", "organizations"."slug", "organizations"."parent_organization_id", "organizations"."practice_uids", "organizations"."is_active", "organizations"."created_at", "organizations"."updated_at", "organizations"."deleted_at" from "user_organizations" inner join "organizations" on "user_organizations"."organization_id" = "organizations"."organization_id" where ("user_organizations"."user_id" = $1 and "user_organizations"."is_active" = $2 and "organizations"."is_active" = $3) -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", true, true]
Query: select "user_roles"."user_role_id", "user_roles"."user_id", "user_roles"."role_id", "user_roles"."organization_id", "user_roles"."granted_by", "user_roles"."granted_at", "user_roles"."expires_at", "user_roles"."is_active", "user_roles"."created_at", "roles"."name", "roles"."description", "roles"."organization_id", "roles"."is_system_role", "roles"."is_active", "roles"."created_at", "roles"."updated_at", "roles"."deleted_at" from "user_roles" inner join "roles" on "user_roles"."role_id" = "roles"."role_id" where ("user_roles"."user_id" = $1 and "user_roles"."is_active" = $2 and "roles"."is_active" = $3) -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", true, true]
{"@timestamp":"2025-10-15T20:35:27.581Z","level":"DEBUG","message":"Cached user context loaded successfully","service":"bendcare-os","env":"development","file":"cached-user-context.ts","line":277,"function":"eval","userId":"[UUID]","rolesCount":1,"permissionsCount":90,"organizationsCount":0}
{"@timestamp":"2025-10-15T20:35:27.582Z","level":"INFO","message":"JWT authentication completed","service":"bendcare-os","env":"development","file":"jwt-auth.ts","line":189,"function":"requireJWTAuth","userId":"[UUID]","sessionId":"2vQBp_rVd8A_DaGh9-DDEQSW9sseDi-c","tokenSource":"[REDACTED]","cacheHit":true,"roleCount":1,"permissionCount":90,"duration":147}
{"@timestamp":"2025-10-15T20:35:27.582Z","level":"WARN","message":"Security: jwt_authentication_successful","service":"bendcare-os","env":"development","file":"jwt-auth.ts","line":199,"function":"requireJWTAuth","component":"security","event":"jwt_authentication_successful","severity":"low","action":"jwt_middleware_success","userId":"[UUID]","tokenValidated":"[REDACTED]","rbacContextLoaded":true,"cacheOptimized":true}
{"@timestamp":"2025-10-15T20:35:27.582Z","level":"INFO","message":"JWT middleware completed","service":"bendcare-os","env":"development","file":"jwt-auth.ts","line":207,"function":"requireJWTAuth","duration":148,"performanceTiming":true,"tokenValidationTime":"[REDACTED]","cacheEnabled":true,"totalOperations":91}
{"@timestamp":"2025-10-15T20:35:27.582Z","level":"INFO","message":"user context retrieved successfully from JWT token","service":"bendcare-os","env":"development","file":"route.ts","line":41,"function":"GET","operation":"get_user_context","userId":"[UUID]","email":"[REDACTED]","rbac":{"roles":1,"permissions":90,"isSuperAdmin":true,"orgAdminFor":0},"organizations":{"direct":0,"accessible":0,"current":null},"duration":264,"slow":false,"component":"auth","cached":true}
 GET /api/auth/me 200 in 1674ms
🌐 MIDDLEWARE: Processing request for: /dashboard
🌐 MIDDLEWARE: Protected route detected
🌐 MIDDLEWARE: Checking auth - access token: true, refresh token: true
🌐 MIDDLEWARE: Access token valid - allowing access
🌐 MIDDLEWARE: User authenticated (or has refresh token) - allowing request to proceed
 ○ Compiling /dashboard ...
 ✓ Compiled /dashboard in 1114ms (2529 modules)
 GET /dashboard 200 in 1279ms
 ○ Compiling /api/admin/analytics/dashboards/default ...
 ✓ Compiled /api/admin/analytics/dashboards/default in 728ms (2540 modules)
{"@timestamp":"2025-10-15T20:35:29.997Z","level":"INFO","message":"GET /api/admin/analytics/dashboards - RBAC route","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":47,"function":"eval","correlationId":"cor_mgsga6by_qbud5d86","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1,"component":"api","request":{},"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:29.997Z","level":"INFO","message":"RBAC route initiated","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":48,"function":"eval","correlationId":"cor_mgsga6by_qbud5d86","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1,"endpoint":"/api/admin/analytics/dashboards","requiredPermissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"requireAllPermissions":false,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:30.000Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","type":"api","identifier":"::1","current":2,"remaining":198,"limit":200}
{"@timestamp":"2025-10-15T20:35:30.001Z","level":"INFO","message":"Default dashboard query initiated","service":"bendcare-os","env":"development","file":"route.ts","line":21,"function":"getDefaultDashboardHandler"}
Query: select "dashboard_id" from "dashboards" where ("dashboards"."is_default" = $1 and "dashboards"."is_published" = $2 and "dashboards"."is_active" = $3) limit $4 -- params: [true, true, true, 1]
{"@timestamp":"2025-10-15T20:35:30.004Z","level":"DEBUG","message":"DB: SELECT on dashboards","service":"bendcare-os","env":"development","file":"route.ts","line":25,"function":"getDefaultDashboardHandler","component":"database","operation":"SELECT","table":"dashboards","duration":3,"rowCount":1}
{"@timestamp":"2025-10-15T20:35:30.004Z","level":"INFO","message":"Default dashboard found","service":"bendcare-os","env":"development","file":"route.ts","line":34,"function":"getDefaultDashboardHandler","dashboardId":"[UUID]"}
 GET /api/admin/analytics/dashboards/default 200 in 966ms
🌐 MIDDLEWARE: Processing request for: /dashboard/view/6db475e1-ad7b-45ca-8845-226a0d9a3b0a
🌐 MIDDLEWARE: Protected route detected
🌐 MIDDLEWARE: Checking auth - access token: true, refresh token: true
🌐 MIDDLEWARE: Access token valid - allowing access
🌐 MIDDLEWARE: User authenticated (or has refresh token) - allowing request to proceed
{"@timestamp":"2025-10-15T20:35:30.030Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgsga6by_qbud5d86","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":34,"type":"api","identifier":"::1","current":3,"remaining":197,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:30.030Z","level":"INFO","message":"Rate limit check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":61,"function":"eval","correlationId":"cor_mgsga6by_qbud5d86","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":33,"limitType":"api","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:30.030Z","level":"DEBUG","message":"API auth check initiated","service":"bendcare-os","env":"development","file":"global-auth.ts","line":65,"function":"applyGlobalAuth","correlationId":"cor_mgsga6by_qbud5d86","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":34,"pathname":"/api/admin/analytics/dashboards","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:30.070Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgsga6by_qbud5d86","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":74,"type":"api","identifier":"::1","current":4,"remaining":196,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:30.070Z","level":"DEBUG","message":"Using httpOnly cookie for authentication","service":"bendcare-os","env":"development","file":"global-auth.ts","line":100,"function":"applyGlobalAuth","correlationId":"cor_mgsga6by_qbud5d86","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":74,"pathname":"/api/admin/analytics/dashboards","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:30.070Z","level":"DEBUG","message":"Using access token from httpOnly cookie","service":"bendcare-os","env":"development","file":"auth.ts","line":36,"function":"requireAuth","correlationId":"cor_mgsga6by_qbud5d86","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":74,"component":"auth","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:30.071Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","type":"api","identifier":"::1","current":5,"remaining":195,"limit":200}
{"@timestamp":"2025-10-15T20:35:30.071Z","level":"INFO","message":"Default dashboard query initiated","service":"bendcare-os","env":"development","file":"route.ts","line":21,"function":"getDefaultDashboardHandler"}
Query: select "dashboard_id" from "dashboards" where ("dashboards"."is_default" = $1 and "dashboards"."is_published" = $2 and "dashboards"."is_active" = $3) limit $4 -- params: [true, true, true, 1]
{"@timestamp":"2025-10-15T20:35:30.073Z","level":"DEBUG","message":"DB: SELECT on dashboards","service":"bendcare-os","env":"development","file":"route.ts","line":25,"function":"getDefaultDashboardHandler","component":"database","operation":"SELECT","table":"dashboards","duration":2,"rowCount":1}
{"@timestamp":"2025-10-15T20:35:30.073Z","level":"INFO","message":"Default dashboard found","service":"bendcare-os","env":"development","file":"route.ts","line":34,"function":"getDefaultDashboardHandler","dashboardId":"[UUID]"}
 GET /api/admin/analytics/dashboards/default 200 in 62ms
Query: select "user_id", "email", "first_name", "last_name", "password_hash", "email_verified", "is_active", "created_at", "updated_at", "deleted_at" from "users" where "users"."user_id" = $1 limit $2 -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", 1]
{"@timestamp":"2025-10-15T20:35:30.144Z","level":"DEBUG","message":"Loading user context","service":"bendcare-os","env":"development","file":"user-context.ts","line":304,"function":"getUserContextSafe","correlationId":"cor_mgsga6by_qbud5d86","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":148,"userId":"[UUID]","operation":"getUserContext","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
Query: select "user_id", "email", "first_name", "last_name", "is_active", "email_verified", "created_at", "updated_at" from "users" where "users"."user_id" = $1 limit $2 -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", 1]
Query: select "user_organizations"."user_organization_id", "user_organizations"."user_id", "user_organizations"."organization_id", "user_organizations"."is_active", "user_organizations"."joined_at", "user_organizations"."created_at", "organizations"."name", "organizations"."slug", "organizations"."parent_organization_id", "organizations"."is_active", "organizations"."created_at", "organizations"."updated_at", "organizations"."deleted_at" from "user_organizations" inner join "organizations" on "user_organizations"."organization_id" = "organizations"."organization_id" where ("user_organizations"."user_id" = $1 and "user_organizations"."is_active" = $2 and "organizations"."is_active" = $3) -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", true, true]
Query: select distinct "user_roles"."user_role_id", "user_roles"."user_id", "user_roles"."role_id", "user_roles"."organization_id", "user_roles"."granted_by", "user_roles"."granted_at", "user_roles"."expires_at", "user_roles"."is_active", "user_roles"."created_at", "roles"."name", "roles"."description", "roles"."organization_id", "roles"."is_system_role", "roles"."is_active", "roles"."created_at", "roles"."updated_at", "roles"."deleted_at", "permissions"."permission_id", "permissions"."name", "permissions"."description", "permissions"."resource", "permissions"."action", "permissions"."scope", "permissions"."is_active", "permissions"."created_at", "permissions"."updated_at" from "user_roles" inner join "roles" on "user_roles"."role_id" = "roles"."role_id" inner join "role_permissions" on "roles"."role_id" = "role_permissions"."role_id" inner join "permissions" on "role_permissions"."permission_id" = "permissions"."permission_id" where ("user_roles"."user_id" = $1 and "user_roles"."is_active" = $2 and "roles"."is_active" = $3 and "permissions"."is_active" = $4) -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", true, true, true]
{"@timestamp":"2025-10-15T20:35:30.160Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"user-context.ts","line":314,"function":"eval","correlationId":"cor_mgsga6by_qbud5d86","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":164,"userId":"[UUID]","rolesCount":1,"permissionsCount":90,"organizationsCount":0,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:30.160Z","level":"INFO","message":"API authentication successful","service":"bendcare-os","env":"development","file":"global-auth.ts","line":122,"function":"applyGlobalAuth","correlationId":"cor_mgsga6by_qbud5d86","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","pathname":"/api/admin/analytics/dashboards","userId":"[UUID]","userEmail":"[REDACTED]","authMethod":"httponly_cookie","duration":90,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:30.160Z","level":"INFO","message":"Global auth check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":71,"function":"eval","correlationId":"cor_mgsga6by_qbud5d86","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":130,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:30.160Z","level":"DEBUG","message":"Global authentication completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":74,"function":"eval","correlationId":"cor_mgsga6by_qbud5d86","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":164,"hasSession":true,"hasUser":true,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:30.160Z","level":"INFO","message":"User context retrieved from session","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":145,"function":"eval","correlationId":"cor_mgsga6by_qbud5d86","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","cached":true,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:30.160Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":167,"function":"eval","correlationId":"cor_mgsga6by_qbud5d86","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":164,"userId":"[UUID]","roleCount":1,"permissionCount":90,"isSuperAdmin":true,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:30.161Z","level":"INFO","message":"RBAC permission check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":183,"function":"eval","correlationId":"cor_mgsga6by_qbud5d86","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1,"userId":"[UUID]","permissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"requireAll":false,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:30.161Z","level":"INFO","message":"RBAC permission check passed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":192,"function":"eval","correlationId":"cor_mgsga6by_qbud5d86","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":165,"userId":"[UUID]","permissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"rbacDuration":1,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:30.161Z","level":"INFO","message":"Auth: rbac_check","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":199,"function":"eval","correlationId":"cor_mgsga6by_qbud5d86","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":165,"component":"auth","action":"rbac_check","success":true,"userId":"[UUID]","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
Query: select "dashboards"."dashboard_id", "dashboards"."dashboard_name", "dashboards"."dashboard_description", "dashboards"."layout_config", "dashboards"."dashboard_category_id", "dashboards"."organization_id", "dashboards"."created_by", "dashboards"."created_at", "dashboards"."updated_at", "dashboards"."is_active", "dashboards"."is_published", "dashboards"."is_default", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "users"."user_id", "users"."first_name", "users"."last_name", "users"."email", count("dashboard_charts"."chart_definition_id") from "dashboards" left join "chart_categories" on "dashboards"."dashboard_category_id" = "chart_categories"."chart_category_id" left join "users" on "dashboards"."created_by" = "users"."user_id" left join "dashboard_charts" on "dashboards"."dashboard_id" = "dashboard_charts"."dashboard_id" where ("dashboards"."is_active" = $1 and "dashboards"."is_published" = $2) group by "dashboards"."dashboard_id", "dashboards"."dashboard_name", "dashboards"."dashboard_description", "dashboards"."layout_config", "dashboards"."dashboard_category_id", "dashboards"."organization_id", "dashboards"."created_by", "dashboards"."created_at", "dashboards"."updated_at", "dashboards"."is_active", "dashboards"."is_published", "dashboards"."is_default", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "users"."user_id", "users"."first_name", "users"."last_name", "users"."email" order by "dashboards"."created_at" desc limit $3 -- params: [true, true, 1000000]
{"@timestamp":"2025-10-15T20:35:30.173Z","level":"INFO","message":"dashboards list query completed - returned 8 of 8","service":"bendcare-os","env":"development","file":"rbac-dashboards-service.ts","line":211,"function":"RBACDashboardsServiceImpl.getDashboards","correlationId":"cor_mgsga6by_qbud5d86","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","operation":"list_dashboards","resourceType":"dashboards","userId":"[UUID]","filters":{"is_active":true,"is_published":true},"filterCount":2,"results":{"returned":8,"total":8,"page":1},"empty":false,"duration":11,"slow":false,"component":"service","query":{"duration":11,"slow":false},"rbacScope":"all","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
Query: select count(*) from "dashboards" where ("dashboards"."is_active" = $1 and "dashboards"."is_published" = $2) -- params: [true, true]
{"@timestamp":"2025-10-15T20:35:30.183Z","level":"INFO","message":"dashboards counted","service":"bendcare-os","env":"development","file":"rbac-dashboards-service.ts","line":366,"function":"RBACDashboardsServiceImpl.getDashboardCount","correlationId":"cor_mgsga6by_qbud5d86","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","operation":"count_dashboards","userId":"[UUID]","filters":{"is_active":true,"is_published":true},"count":8,"duration":10,"metadata":{"query":{"duration":10,"slow":false},"rbacScope":"all","component":"service"},"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:30.183Z","level":"INFO","message":"dashboards list query completed - returned 8 of 8","service":"bendcare-os","env":"development","file":"route.ts","line":63,"function":"getDashboardsHandler","correlationId":"cor_mgsga6by_qbud5d86","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","operation":"list_dashboards","resourceType":"dashboards","userId":"[UUID]","filters":{"is_active":true,"is_published":true},"filterCount":2,"results":{"returned":8,"total":8,"published":8,"draft":0,"hasDefault":true,"defaultDashboardId":"[UUID]","totalCharts":30,"averageChartsPerDashboard":4,"page":1,"pageSize":8},"duration":22,"slow":false,"component":"analytics","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:30.184Z","level":"INFO","message":"Handler execution completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":205,"function":"eval","correlationId":"cor_mgsga6by_qbud5d86","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":22,"userId":"[UUID]","statusCode":200,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:30.184Z","level":"INFO","message":"RBAC route completed successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":211,"function":"eval","correlationId":"cor_mgsga6by_qbud5d86","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":188,"userId":"[UUID]","statusCode":200,"totalDuration":188,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
 GET /api/admin/analytics/dashboards?is_published=true&is_active=true 200 in 1147ms
 ○ Compiling /dashboard/view/[dashboardId] ...
 ✓ Compiled /dashboard/view/[dashboardId] in 1022ms (2713 modules)
{"@timestamp":"2025-10-15T20:35:31.289Z","level":"INFO","message":"GET /api/admin/analytics/dashboards - RBAC route","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":47,"function":"eval","correlationId":"cor_mgsga7az_3s7s8b2d","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"component":"api","request":{},"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:31.290Z","level":"INFO","message":"RBAC route initiated","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":48,"function":"eval","correlationId":"cor_mgsga7az_3s7s8b2d","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1,"endpoint":"/api/admin/analytics/dashboards","requiredPermissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"requireAllPermissions":false,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
(node:71115) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 SIGINT listeners added to [process]. MaxListeners is 10. Use emitter.setMaxListeners() to increase limit
(Use `node --trace-warnings ...` to show where the warning was created)
(node:71115) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 SIGTERM listeners added to [process]. MaxListeners is 10. Use emitter.setMaxListeners() to increase limit
{"@timestamp":"2025-10-15T20:35:31.386Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgsga7az_3s7s8b2d","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":97,"type":"api","identifier":"::1","current":6,"remaining":194,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:31.386Z","level":"INFO","message":"Rate limit check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":61,"function":"eval","correlationId":"cor_mgsga7az_3s7s8b2d","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":96,"limitType":"api","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:31.386Z","level":"DEBUG","message":"API auth check initiated","service":"bendcare-os","env":"development","file":"global-auth.ts","line":65,"function":"applyGlobalAuth","correlationId":"cor_mgsga7az_3s7s8b2d","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":97,"pathname":"/api/admin/analytics/dashboards","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:31.416Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgsga7az_3s7s8b2d","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":127,"type":"api","identifier":"::1","current":7,"remaining":193,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:31.416Z","level":"DEBUG","message":"Using httpOnly cookie for authentication","service":"bendcare-os","env":"development","file":"global-auth.ts","line":100,"function":"applyGlobalAuth","correlationId":"cor_mgsga7az_3s7s8b2d","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":127,"pathname":"/api/admin/analytics/dashboards","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:31.416Z","level":"DEBUG","message":"Using access token from httpOnly cookie","service":"bendcare-os","env":"development","file":"auth.ts","line":36,"function":"requireAuth","correlationId":"cor_mgsga7az_3s7s8b2d","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":127,"component":"auth","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:31.478Z","level":"DEBUG","message":"Loading user context","service":"bendcare-os","env":"development","file":"user-context.ts","line":304,"function":"getUserContextSafe","correlationId":"cor_mgsga7az_3s7s8b2d","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":189,"userId":"[UUID]","operation":"getUserContext","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
Query: select "user_id", "email", "first_name", "last_name", "is_active", "email_verified", "created_at", "updated_at" from "users" where "users"."user_id" = $1 limit $2 -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", 1]
Query: select "user_organizations"."user_organization_id", "user_organizations"."user_id", "user_organizations"."organization_id", "user_organizations"."is_active", "user_organizations"."joined_at", "user_organizations"."created_at", "organizations"."name", "organizations"."slug", "organizations"."parent_organization_id", "organizations"."is_active", "organizations"."created_at", "organizations"."updated_at", "organizations"."deleted_at" from "user_organizations" inner join "organizations" on "user_organizations"."organization_id" = "organizations"."organization_id" where ("user_organizations"."user_id" = $1 and "user_organizations"."is_active" = $2 and "organizations"."is_active" = $3) -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", true, true]
Query: select distinct "user_roles"."user_role_id", "user_roles"."user_id", "user_roles"."role_id", "user_roles"."organization_id", "user_roles"."granted_by", "user_roles"."granted_at", "user_roles"."expires_at", "user_roles"."is_active", "user_roles"."created_at", "roles"."name", "roles"."description", "roles"."organization_id", "roles"."is_system_role", "roles"."is_active", "roles"."created_at", "roles"."updated_at", "roles"."deleted_at", "permissions"."permission_id", "permissions"."name", "permissions"."description", "permissions"."resource", "permissions"."action", "permissions"."scope", "permissions"."is_active", "permissions"."created_at", "permissions"."updated_at" from "user_roles" inner join "roles" on "user_roles"."role_id" = "roles"."role_id" inner join "role_permissions" on "roles"."role_id" = "role_permissions"."role_id" inner join "permissions" on "role_permissions"."permission_id" = "permissions"."permission_id" where ("user_roles"."user_id" = $1 and "user_roles"."is_active" = $2 and "roles"."is_active" = $3 and "permissions"."is_active" = $4) -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", true, true, true]
{"@timestamp":"2025-10-15T20:35:31.486Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"user-context.ts","line":314,"function":"eval","correlationId":"cor_mgsga7az_3s7s8b2d","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":197,"userId":"[UUID]","rolesCount":1,"permissionsCount":90,"organizationsCount":0,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:31.487Z","level":"INFO","message":"API authentication successful","service":"bendcare-os","env":"development","file":"global-auth.ts","line":122,"function":"applyGlobalAuth","correlationId":"cor_mgsga7az_3s7s8b2d","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","pathname":"/api/admin/analytics/dashboards","userId":"[UUID]","userEmail":"[REDACTED]","authMethod":"httponly_cookie","duration":71,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:31.487Z","level":"INFO","message":"Global auth check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":71,"function":"eval","correlationId":"cor_mgsga7az_3s7s8b2d","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":101,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:31.487Z","level":"DEBUG","message":"Global authentication completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":74,"function":"eval","correlationId":"cor_mgsga7az_3s7s8b2d","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":198,"hasSession":true,"hasUser":true,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:31.487Z","level":"INFO","message":"User context retrieved from session","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":145,"function":"eval","correlationId":"cor_mgsga7az_3s7s8b2d","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","cached":true,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:31.487Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":167,"function":"eval","correlationId":"cor_mgsga7az_3s7s8b2d","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":198,"userId":"[UUID]","roleCount":1,"permissionCount":90,"isSuperAdmin":true,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:31.487Z","level":"INFO","message":"RBAC permission check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":183,"function":"eval","correlationId":"cor_mgsga7az_3s7s8b2d","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","permissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"requireAll":false,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:31.487Z","level":"INFO","message":"RBAC permission check passed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":192,"function":"eval","correlationId":"cor_mgsga7az_3s7s8b2d","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":198,"userId":"[UUID]","permissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"rbacDuration":0,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:31.487Z","level":"INFO","message":"Auth: rbac_check","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":199,"function":"eval","correlationId":"cor_mgsga7az_3s7s8b2d","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":198,"component":"auth","action":"rbac_check","success":true,"userId":"[UUID]","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
Query: select "dashboards"."dashboard_id", "dashboards"."dashboard_name", "dashboards"."dashboard_description", "dashboards"."layout_config", "dashboards"."dashboard_category_id", "dashboards"."organization_id", "dashboards"."created_by", "dashboards"."created_at", "dashboards"."updated_at", "dashboards"."is_active", "dashboards"."is_published", "dashboards"."is_default", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "users"."user_id", "users"."first_name", "users"."last_name", "users"."email", count("dashboard_charts"."chart_definition_id") from "dashboards" left join "chart_categories" on "dashboards"."dashboard_category_id" = "chart_categories"."chart_category_id" left join "users" on "dashboards"."created_by" = "users"."user_id" left join "dashboard_charts" on "dashboards"."dashboard_id" = "dashboard_charts"."dashboard_id" where ("dashboards"."is_active" = $1 and "dashboards"."is_published" = $2) group by "dashboards"."dashboard_id", "dashboards"."dashboard_name", "dashboards"."dashboard_description", "dashboards"."layout_config", "dashboards"."dashboard_category_id", "dashboards"."organization_id", "dashboards"."created_by", "dashboards"."created_at", "dashboards"."updated_at", "dashboards"."is_active", "dashboards"."is_published", "dashboards"."is_default", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "users"."user_id", "users"."first_name", "users"."last_name", "users"."email" order by "dashboards"."created_at" desc limit $3 -- params: [true, true, 1000000]
{"@timestamp":"2025-10-15T20:35:31.492Z","level":"INFO","message":"dashboards list query completed - returned 8 of 8","service":"bendcare-os","env":"development","file":"rbac-dashboards-service.ts","line":211,"function":"RBACDashboardsServiceImpl.getDashboards","correlationId":"cor_mgsga7az_3s7s8b2d","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","operation":"list_dashboards","resourceType":"dashboards","userId":"[UUID]","filters":{"is_active":true,"is_published":true},"filterCount":2,"results":{"returned":8,"total":8,"page":1},"empty":false,"duration":3,"slow":false,"component":"service","query":{"duration":3,"slow":false},"rbacScope":"all","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
Query: select count(*) from "dashboards" where ("dashboards"."is_active" = $1 and "dashboards"."is_published" = $2) -- params: [true, true]
{"@timestamp":"2025-10-15T20:35:31.493Z","level":"INFO","message":"dashboards counted","service":"bendcare-os","env":"development","file":"rbac-dashboards-service.ts","line":366,"function":"RBACDashboardsServiceImpl.getDashboardCount","correlationId":"cor_mgsga7az_3s7s8b2d","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","operation":"count_dashboards","userId":"[UUID]","filters":{"is_active":true,"is_published":true},"count":8,"duration":1,"metadata":{"query":{"duration":1,"slow":false},"rbacScope":"all","component":"service"},"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:31.493Z","level":"INFO","message":"dashboards list query completed - returned 8 of 8","service":"bendcare-os","env":"development","file":"route.ts","line":63,"function":"getDashboardsHandler","correlationId":"cor_mgsga7az_3s7s8b2d","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","operation":"list_dashboards","resourceType":"dashboards","userId":"[UUID]","filters":{"is_active":true,"is_published":true},"filterCount":2,"results":{"returned":8,"total":8,"published":8,"draft":0,"hasDefault":true,"defaultDashboardId":"[UUID]","totalCharts":30,"averageChartsPerDashboard":4,"page":1,"pageSize":8},"duration":5,"slow":false,"component":"analytics","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:31.493Z","level":"INFO","message":"Handler execution completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":205,"function":"eval","correlationId":"cor_mgsga7az_3s7s8b2d","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":6,"userId":"[UUID]","statusCode":200,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:31.493Z","level":"INFO","message":"RBAC route completed successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":211,"function":"eval","correlationId":"cor_mgsga7az_3s7s8b2d","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":204,"userId":"[UUID]","statusCode":200,"totalDuration":204,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
 GET /api/admin/analytics/dashboards?is_published=true&is_active=true 200 in 1181ms
 GET /dashboard/view/6db475e1-ad7b-45ca-8845-226a0d9a3b0a 200 in 1722ms
🌐 MIDDLEWARE: Processing request for: /dashboard/view/6db475e1-ad7b-45ca-8845-226a0d9a3b0a
🌐 MIDDLEWARE: Protected route detected
🌐 MIDDLEWARE: Checking auth - access token: true, refresh token: true
🌐 MIDDLEWARE: Access token valid - allowing access
🌐 MIDDLEWARE: User authenticated (or has refresh token) - allowing request to proceed
 GET /dashboard/view/6db475e1-ad7b-45ca-8845-226a0d9a3b0a 200 in 22ms
 ✓ Compiled /api/admin/analytics/dashboards/[dashboardId] in 456ms (2715 modules)
(node:71115) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 beforeExit listeners added to [process]. MaxListeners is 10. Use emitter.setMaxListeners() to increase limit
{"@timestamp":"2025-10-15T20:35:33.014Z","level":"INFO","message":"Connecting to Redis","service":"bendcare-os","env":"development","file":"redis.ts","line":78,"function":"RedisClientManager.connect","component":"redis","host":"bcos-redis-dev-rt5vbv.serverless.use1.cache.amazonaws.com","port":6379,"username":"[REDACTED]","keyPrefix":"[REDACTED]","tls":true}
{"@timestamp":"2025-10-15T20:35:33.035Z","level":"INFO","message":"GET /api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a - RBAC route","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":47,"function":"eval","correlationId":"cor_mgsga8mc_itjv8zk3","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1,"component":"api","request":{},"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:33.035Z","level":"INFO","message":"RBAC route initiated","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":48,"function":"eval","correlationId":"cor_mgsga8mc_itjv8zk3","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1,"endpoint":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","requiredPermissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"requireAllPermissions":false,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:33.068Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgsga8mc_itjv8zk3","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":34,"type":"api","identifier":"::1","current":8,"remaining":192,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:33.068Z","level":"INFO","message":"Rate limit check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":61,"function":"eval","correlationId":"cor_mgsga8mc_itjv8zk3","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":33,"limitType":"api","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:33.068Z","level":"DEBUG","message":"API auth check initiated","service":"bendcare-os","env":"development","file":"global-auth.ts","line":65,"function":"applyGlobalAuth","correlationId":"cor_mgsga8mc_itjv8zk3","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":34,"pathname":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:33.099Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgsga8mc_itjv8zk3","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":65,"type":"api","identifier":"::1","current":9,"remaining":191,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:33.099Z","level":"DEBUG","message":"Using httpOnly cookie for authentication","service":"bendcare-os","env":"development","file":"global-auth.ts","line":100,"function":"applyGlobalAuth","correlationId":"cor_mgsga8mc_itjv8zk3","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":65,"pathname":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:33.099Z","level":"DEBUG","message":"Using access token from httpOnly cookie","service":"bendcare-os","env":"development","file":"auth.ts","line":36,"function":"requireAuth","correlationId":"cor_mgsga8mc_itjv8zk3","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":65,"component":"auth","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:33.115Z","level":"INFO","message":"Redis connected successfully","service":"bendcare-os","env":"development","file":"redis.ts","line":109,"function":"EventEmitter.eval","component":"redis","host":"[REDACTED]","port":6379}
{"@timestamp":"2025-10-15T20:35:33.150Z","level":"INFO","message":"Redis ready for commands","service":"bendcare-os","env":"development","file":"redis.ts","line":119,"function":"EventEmitter.eval","component":"redis"}
{"@timestamp":"2025-10-15T20:35:33.161Z","level":"DEBUG","message":"Loading user context","service":"bendcare-os","env":"development","file":"user-context.ts","line":304,"function":"getUserContextSafe","correlationId":"cor_mgsga8mc_itjv8zk3","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":127,"userId":"[UUID]","operation":"getUserContext","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
Query: select "user_id", "email", "first_name", "last_name", "is_active", "email_verified", "created_at", "updated_at" from "users" where "users"."user_id" = $1 limit $2 -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", 1]
Query: select "user_organizations"."user_organization_id", "user_organizations"."user_id", "user_organizations"."organization_id", "user_organizations"."is_active", "user_organizations"."joined_at", "user_organizations"."created_at", "organizations"."name", "organizations"."slug", "organizations"."parent_organization_id", "organizations"."is_active", "organizations"."created_at", "organizations"."updated_at", "organizations"."deleted_at" from "user_organizations" inner join "organizations" on "user_organizations"."organization_id" = "organizations"."organization_id" where ("user_organizations"."user_id" = $1 and "user_organizations"."is_active" = $2 and "organizations"."is_active" = $3) -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", true, true]
Query: select distinct "user_roles"."user_role_id", "user_roles"."user_id", "user_roles"."role_id", "user_roles"."organization_id", "user_roles"."granted_by", "user_roles"."granted_at", "user_roles"."expires_at", "user_roles"."is_active", "user_roles"."created_at", "roles"."name", "roles"."description", "roles"."organization_id", "roles"."is_system_role", "roles"."is_active", "roles"."created_at", "roles"."updated_at", "roles"."deleted_at", "permissions"."permission_id", "permissions"."name", "permissions"."description", "permissions"."resource", "permissions"."action", "permissions"."scope", "permissions"."is_active", "permissions"."created_at", "permissions"."updated_at" from "user_roles" inner join "roles" on "user_roles"."role_id" = "roles"."role_id" inner join "role_permissions" on "roles"."role_id" = "role_permissions"."role_id" inner join "permissions" on "role_permissions"."permission_id" = "permissions"."permission_id" where ("user_roles"."user_id" = $1 and "user_roles"."is_active" = $2 and "roles"."is_active" = $3 and "permissions"."is_active" = $4) -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", true, true, true]
{"@timestamp":"2025-10-15T20:35:33.167Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"user-context.ts","line":314,"function":"eval","correlationId":"cor_mgsga8mc_itjv8zk3","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":133,"userId":"[UUID]","rolesCount":1,"permissionsCount":90,"organizationsCount":0,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:33.167Z","level":"INFO","message":"API authentication successful","service":"bendcare-os","env":"development","file":"global-auth.ts","line":122,"function":"applyGlobalAuth","correlationId":"cor_mgsga8mc_itjv8zk3","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","pathname":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","userId":"[UUID]","userEmail":"[REDACTED]","authMethod":"httponly_cookie","duration":68,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:33.167Z","level":"INFO","message":"Global auth check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":71,"function":"eval","correlationId":"cor_mgsga8mc_itjv8zk3","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":99,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:33.167Z","level":"DEBUG","message":"Global authentication completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":74,"function":"eval","correlationId":"cor_mgsga8mc_itjv8zk3","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":133,"hasSession":true,"hasUser":true,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:33.168Z","level":"INFO","message":"User context retrieved from session","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":145,"function":"eval","correlationId":"cor_mgsga8mc_itjv8zk3","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","cached":true,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:33.168Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":167,"function":"eval","correlationId":"cor_mgsga8mc_itjv8zk3","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":134,"userId":"[UUID]","roleCount":1,"permissionCount":90,"isSuperAdmin":true,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:33.168Z","level":"INFO","message":"RBAC permission check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":183,"function":"eval","correlationId":"cor_mgsga8mc_itjv8zk3","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","permissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"requireAll":false,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:33.168Z","level":"INFO","message":"RBAC permission check passed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":192,"function":"eval","correlationId":"cor_mgsga8mc_itjv8zk3","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":134,"userId":"[UUID]","permissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"rbacDuration":0,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:33.168Z","level":"INFO","message":"Auth: rbac_check","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":199,"function":"eval","correlationId":"cor_mgsga8mc_itjv8zk3","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":134,"component":"auth","action":"rbac_check","success":true,"userId":"[UUID]","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:33.168Z","level":"INFO","message":"Dashboard get request initiated","service":"bendcare-os","env":"development","file":"route.ts","line":30,"function":"getDashboardHandler","correlationId":"cor_mgsga8mc_itjv8zk3","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":134,"dashboardId":"[UUID]","requestingUserId":"[UUID]","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
Query: select "dashboards"."dashboard_id", "dashboards"."dashboard_name", "dashboards"."dashboard_description", "dashboards"."layout_config", "dashboards"."dashboard_category_id", "dashboards"."organization_id", "dashboards"."created_by", "dashboards"."created_at", "dashboards"."updated_at", "dashboards"."is_active", "dashboards"."is_published", "dashboards"."is_default", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "dashboards" left join "chart_categories" on "dashboards"."dashboard_category_id" = "chart_categories"."chart_category_id" left join "users" on "dashboards"."created_by" = "users"."user_id" where "dashboards"."dashboard_id" = $1 limit $2 -- params: ["6db475e1-ad7b-45ca-8845-226a0d9a3b0a", 1]
Query: select count(*) from "dashboard_charts" where "dashboard_charts"."dashboard_id" = $1 -- params: ["6db475e1-ad7b-45ca-8845-226a0d9a3b0a"]
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "dashboard_charts"."position_config" from "dashboard_charts" inner join "chart_definitions" on "dashboard_charts"."chart_definition_id" = "chart_definitions"."chart_definition_id" where "dashboard_charts"."dashboard_id" = $1 order by "dashboard_charts"."added_at" -- params: ["6db475e1-ad7b-45ca-8845-226a0d9a3b0a"]
{"@timestamp":"2025-10-15T20:35:33.172Z","level":"INFO","message":"dashboard retrieved successfully","service":"bendcare-os","env":"development","file":"rbac-dashboards-service.ts","line":336,"function":"RBACDashboardsServiceImpl.getDashboardById","correlationId":"cor_mgsga8mc_itjv8zk3","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","operation":"read_dashboard","resourceType":"dashboard","resourceId":"[UUID]","resourceName":"All Types","userId":"[UUID]","found":true,"duration":4,"slow":false,"component":"service","query":{"duration":2,"slow":false},"chartCountQuery":{"duration":1,"slow":false},"chartsQuery":{"duration":1,"slow":false},"chartCount":9,"rbacScope":"all","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:33.173Z","level":"DEBUG","message":"DB: SELECT on dashboards","service":"bendcare-os","env":"development","file":"route.ts","line":42,"function":"getDashboardHandler","correlationId":"cor_mgsga8mc_itjv8zk3","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","component":"database","operation":"SELECT","table":"dashboards","duration":5,"rowCount":1,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:33.173Z","level":"INFO","message":"Handler execution completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":205,"function":"eval","correlationId":"cor_mgsga8mc_itjv8zk3","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":5,"userId":"[UUID]","statusCode":200,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:33.173Z","level":"INFO","message":"RBAC route completed successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":211,"function":"eval","correlationId":"cor_mgsga8mc_itjv8zk3","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":139,"userId":"[UUID]","statusCode":200,"totalDuration":138,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
 GET /api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a 200 in 1169ms
 ✓ Compiled /api/admin/analytics/charts in 323ms (2718 modules)
{"@timestamp":"2025-10-15T20:35:33.652Z","level":"INFO","message":"GET /api/admin/analytics/charts - RBAC route","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":47,"function":"eval","correlationId":"cor_mgsga9j7_kzvg1hil","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"component":"api","request":{},"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:33.653Z","level":"INFO","message":"RBAC route initiated","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":48,"function":"eval","correlationId":"cor_mgsga9j7_kzvg1hil","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1,"endpoint":"/api/admin/analytics/charts","requiredPermissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"requireAllPermissions":false,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:33.661Z","level":"INFO","message":"Main database connections closed","service":"bendcare-os","env":"development","file":"index.ts","line":160,"function":"process.closeDb"}
{"@timestamp":"2025-10-15T20:35:33.688Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgsga9j7_kzvg1hil","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":36,"type":"api","identifier":"::1","current":10,"remaining":190,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:33.688Z","level":"INFO","message":"Rate limit check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":61,"function":"eval","correlationId":"cor_mgsga9j7_kzvg1hil","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":35,"limitType":"api","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:33.689Z","level":"DEBUG","message":"API auth check initiated","service":"bendcare-os","env":"development","file":"global-auth.ts","line":65,"function":"applyGlobalAuth","correlationId":"cor_mgsga9j7_kzvg1hil","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":37,"pathname":"/api/admin/analytics/charts","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:33.719Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgsga9j7_kzvg1hil","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":67,"type":"api","identifier":"::1","current":11,"remaining":189,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:33.719Z","level":"DEBUG","message":"Using httpOnly cookie for authentication","service":"bendcare-os","env":"development","file":"global-auth.ts","line":100,"function":"applyGlobalAuth","correlationId":"cor_mgsga9j7_kzvg1hil","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":67,"pathname":"/api/admin/analytics/charts","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:33.719Z","level":"DEBUG","message":"Using access token from httpOnly cookie","service":"bendcare-os","env":"development","file":"auth.ts","line":36,"function":"requireAuth","correlationId":"cor_mgsga9j7_kzvg1hil","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":67,"component":"auth","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:33.780Z","level":"DEBUG","message":"Loading user context","service":"bendcare-os","env":"development","file":"user-context.ts","line":304,"function":"getUserContextSafe","correlationId":"cor_mgsga9j7_kzvg1hil","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":128,"userId":"[UUID]","operation":"getUserContext","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
Query: select "user_id", "email", "first_name", "last_name", "is_active", "email_verified", "created_at", "updated_at" from "users" where "users"."user_id" = $1 limit $2 -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", 1]
Query: select "user_organizations"."user_organization_id", "user_organizations"."user_id", "user_organizations"."organization_id", "user_organizations"."is_active", "user_organizations"."joined_at", "user_organizations"."created_at", "organizations"."name", "organizations"."slug", "organizations"."parent_organization_id", "organizations"."is_active", "organizations"."created_at", "organizations"."updated_at", "organizations"."deleted_at" from "user_organizations" inner join "organizations" on "user_organizations"."organization_id" = "organizations"."organization_id" where ("user_organizations"."user_id" = $1 and "user_organizations"."is_active" = $2 and "organizations"."is_active" = $3) -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", true, true]
Query: select distinct "user_roles"."user_role_id", "user_roles"."user_id", "user_roles"."role_id", "user_roles"."organization_id", "user_roles"."granted_by", "user_roles"."granted_at", "user_roles"."expires_at", "user_roles"."is_active", "user_roles"."created_at", "roles"."name", "roles"."description", "roles"."organization_id", "roles"."is_system_role", "roles"."is_active", "roles"."created_at", "roles"."updated_at", "roles"."deleted_at", "permissions"."permission_id", "permissions"."name", "permissions"."description", "permissions"."resource", "permissions"."action", "permissions"."scope", "permissions"."is_active", "permissions"."created_at", "permissions"."updated_at" from "user_roles" inner join "roles" on "user_roles"."role_id" = "roles"."role_id" inner join "role_permissions" on "roles"."role_id" = "role_permissions"."role_id" inner join "permissions" on "role_permissions"."permission_id" = "permissions"."permission_id" where ("user_roles"."user_id" = $1 and "user_roles"."is_active" = $2 and "roles"."is_active" = $3 and "permissions"."is_active" = $4) -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", true, true, true]
{"@timestamp":"2025-10-15T20:35:33.789Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"user-context.ts","line":314,"function":"eval","correlationId":"cor_mgsga9j7_kzvg1hil","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":137,"userId":"[UUID]","rolesCount":1,"permissionsCount":90,"organizationsCount":0,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:33.789Z","level":"INFO","message":"API authentication successful","service":"bendcare-os","env":"development","file":"global-auth.ts","line":122,"function":"applyGlobalAuth","correlationId":"cor_mgsga9j7_kzvg1hil","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","pathname":"/api/admin/analytics/charts","userId":"[UUID]","userEmail":"[REDACTED]","authMethod":"httponly_cookie","duration":70,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:33.789Z","level":"INFO","message":"Global auth check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":71,"function":"eval","correlationId":"cor_mgsga9j7_kzvg1hil","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":101,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:33.790Z","level":"DEBUG","message":"Global authentication completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":74,"function":"eval","correlationId":"cor_mgsga9j7_kzvg1hil","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":138,"hasSession":true,"hasUser":true,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:33.790Z","level":"INFO","message":"User context retrieved from session","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":145,"function":"eval","correlationId":"cor_mgsga9j7_kzvg1hil","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","cached":true,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:33.790Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":167,"function":"eval","correlationId":"cor_mgsga9j7_kzvg1hil","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":138,"userId":"[UUID]","roleCount":1,"permissionCount":90,"isSuperAdmin":true,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:33.790Z","level":"INFO","message":"RBAC permission check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":183,"function":"eval","correlationId":"cor_mgsga9j7_kzvg1hil","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","permissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"requireAll":false,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:33.790Z","level":"INFO","message":"RBAC permission check passed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":192,"function":"eval","correlationId":"cor_mgsga9j7_kzvg1hil","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":138,"userId":"[UUID]","permissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"rbacDuration":0,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:33.790Z","level":"INFO","message":"Auth: rbac_check","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":199,"function":"eval","correlationId":"cor_mgsga9j7_kzvg1hil","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":138,"component":"auth","action":"rbac_check","success":true,"userId":"[UUID]","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "chart_definitions"."data_source", "chart_definitions"."chart_config", "chart_definitions"."access_control", "chart_definitions"."data_source_id", "chart_definitions"."chart_category_id", "chart_definitions"."created_by", "chart_definitions"."created_at", "chart_definitions"."updated_at", "chart_definitions"."is_active", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "chart_definitions" left join "chart_categories" on "chart_definitions"."chart_category_id" = "chart_categories"."chart_category_id" left join "users" on "chart_definitions"."created_by" = "users"."user_id" where "chart_definitions"."is_active" = $1 order by "chart_definitions"."created_at" desc limit $2 -- params: [true, 1000000]
Query: select count(*) from "chart_definitions" where "chart_definitions"."is_active" = $1 -- params: [true]
{"@timestamp":"2025-10-15T20:35:33.795Z","level":"INFO","message":"charts list query completed - returned 15 of 15","service":"bendcare-os","env":"development","file":"route.ts","line":50,"function":"getChartsHandler","correlationId":"cor_mgsga9j7_kzvg1hil","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","operation":"list_charts","resourceType":"chart_definitions","userId":"[UUID]","filters":{"is_active":true},"filterCount":1,"results":{"returned":15,"total":15,"chartTypeBreakdown":{"bar":5,"number":3,"stacked-bar":2,"dual-axis":2,"progress-bar":1,"table":1,"horizontal-bar":1},"activeCount":15,"inactiveCount":0},"duration":5,"slow":false,"component":"analytics","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:33.795Z","level":"INFO","message":"Handler execution completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":205,"function":"eval","correlationId":"cor_mgsga9j7_kzvg1hil","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":5,"userId":"[UUID]","statusCode":200,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:33.795Z","level":"INFO","message":"RBAC route completed successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":211,"function":"eval","correlationId":"cor_mgsga9j7_kzvg1hil","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":143,"userId":"[UUID]","statusCode":200,"totalDuration":143,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
 GET /api/admin/analytics/charts?is_active=true 200 in 609ms
🌐 MIDDLEWARE: ✓ CSRF validated for POST /api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render
{"@timestamp":"2025-10-15T20:35:33.809Z","level":"DEBUG","message":"Request sanitization completed","service":"bendcare-os","env":"development","file":"request-sanitization.ts","line":232,"function":"sanitizeRequestBody","duration":1,"hasErrors":false,"errorCount":0}
 ✓ Compiled /api/admin/analytics/dashboard/[dashboardId]/render in 481ms (2760 modules)
{"@timestamp":"2025-10-15T20:35:34.455Z","level":"INFO","message":"Registering chart type handlers","service":"bendcare-os","env":"development","file":"index.ts","line":43,"function":"registerAllHandlers"}
{"@timestamp":"2025-10-15T20:35:34.456Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"line","totalHandlers":1}
{"@timestamp":"2025-10-15T20:35:34.456Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"bar","totalHandlers":2}
{"@timestamp":"2025-10-15T20:35:34.456Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"pie","totalHandlers":3}
{"@timestamp":"2025-10-15T20:35:34.456Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"table","totalHandlers":4}
{"@timestamp":"2025-10-15T20:35:34.456Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"number","totalHandlers":5}
{"@timestamp":"2025-10-15T20:35:34.456Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"progress-bar","totalHandlers":6}
{"@timestamp":"2025-10-15T20:35:34.457Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"dual-axis","totalHandlers":7}
{"@timestamp":"2025-10-15T20:35:34.457Z","level":"INFO","message":"Chart type handlers registered successfully","service":"bendcare-os","env":"development","file":"index.ts","line":66,"function":"registerAllHandlers","count":7,"types":["line","bar","pie","table","number","progress-bar","dual-axis"]}
{"@timestamp":"2025-10-15T20:35:34.824Z","level":"INFO","message":"Connecting to Redis","service":"bendcare-os","env":"development","file":"redis.ts","line":78,"function":"RedisClientManager.connect","component":"redis","host":"bcos-redis-dev-rt5vbv.serverless.use1.cache.amazonaws.com","port":6379,"username":"[REDACTED]","keyPrefix":"[REDACTED]","tls":true}
{"@timestamp":"2025-10-15T20:35:34.836Z","level":"INFO","message":"Registering chart type handlers","service":"bendcare-os","env":"development","file":"index.ts","line":43,"function":"registerAllHandlers"}
{"@timestamp":"2025-10-15T20:35:34.836Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"line","totalHandlers":1}
{"@timestamp":"2025-10-15T20:35:34.836Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"bar","totalHandlers":2}
{"@timestamp":"2025-10-15T20:35:34.836Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"pie","totalHandlers":3}
{"@timestamp":"2025-10-15T20:35:34.836Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"table","totalHandlers":4}
{"@timestamp":"2025-10-15T20:35:34.836Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"number","totalHandlers":5}
{"@timestamp":"2025-10-15T20:35:34.836Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"progress-bar","totalHandlers":6}
{"@timestamp":"2025-10-15T20:35:34.836Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"dual-axis","totalHandlers":7}
{"@timestamp":"2025-10-15T20:35:34.836Z","level":"INFO","message":"Chart type handlers registered successfully","service":"bendcare-os","env":"development","file":"index.ts","line":66,"function":"registerAllHandlers","count":7,"types":["line","bar","pie","table","number","progress-bar","dual-axis"]}
{"@timestamp":"2025-10-15T20:35:34.855Z","level":"INFO","message":"POST /api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render - RBAC route","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":47,"function":"eval","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1,"component":"api","request":{},"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:34.855Z","level":"INFO","message":"RBAC route initiated","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":48,"function":"eval","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1,"endpoint":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","requiredPermissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"requireAllPermissions":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:34.885Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":31,"type":"api","identifier":"::1","current":12,"remaining":188,"limit":200,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:34.885Z","level":"INFO","message":"Rate limit check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":61,"function":"eval","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":30,"limitType":"api","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:34.885Z","level":"DEBUG","message":"API auth check initiated","service":"bendcare-os","env":"development","file":"global-auth.ts","line":65,"function":"applyGlobalAuth","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":31,"pathname":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:34.915Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":61,"type":"api","identifier":"::1","current":13,"remaining":187,"limit":200,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:34.916Z","level":"DEBUG","message":"Using httpOnly cookie for authentication","service":"bendcare-os","env":"development","file":"global-auth.ts","line":100,"function":"applyGlobalAuth","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":62,"pathname":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:34.916Z","level":"DEBUG","message":"Using access token from httpOnly cookie","service":"bendcare-os","env":"development","file":"auth.ts","line":36,"function":"requireAuth","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":62,"component":"auth","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:34.928Z","level":"INFO","message":"Redis connected successfully","service":"bendcare-os","env":"development","file":"redis.ts","line":109,"function":"EventEmitter.eval","component":"redis","host":"[REDACTED]","port":6379}
{"@timestamp":"2025-10-15T20:35:35.032Z","level":"INFO","message":"Redis ready for commands","service":"bendcare-os","env":"development","file":"redis.ts","line":119,"function":"EventEmitter.eval","component":"redis"}
{"@timestamp":"2025-10-15T20:35:35.061Z","level":"DEBUG","message":"Loading user context","service":"bendcare-os","env":"development","file":"user-context.ts","line":304,"function":"getUserContextSafe","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":207,"userId":"[UUID]","operation":"getUserContext","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
Query: select "user_id", "email", "first_name", "last_name", "is_active", "email_verified", "created_at", "updated_at" from "users" where "users"."user_id" = $1 limit $2 -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", 1]
Query: select "user_organizations"."user_organization_id", "user_organizations"."user_id", "user_organizations"."organization_id", "user_organizations"."is_active", "user_organizations"."joined_at", "user_organizations"."created_at", "organizations"."name", "organizations"."slug", "organizations"."parent_organization_id", "organizations"."is_active", "organizations"."created_at", "organizations"."updated_at", "organizations"."deleted_at" from "user_organizations" inner join "organizations" on "user_organizations"."organization_id" = "organizations"."organization_id" where ("user_organizations"."user_id" = $1 and "user_organizations"."is_active" = $2 and "organizations"."is_active" = $3) -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", true, true]
Query: select distinct "user_roles"."user_role_id", "user_roles"."user_id", "user_roles"."role_id", "user_roles"."organization_id", "user_roles"."granted_by", "user_roles"."granted_at", "user_roles"."expires_at", "user_roles"."is_active", "user_roles"."created_at", "roles"."name", "roles"."description", "roles"."organization_id", "roles"."is_system_role", "roles"."is_active", "roles"."created_at", "roles"."updated_at", "roles"."deleted_at", "permissions"."permission_id", "permissions"."name", "permissions"."description", "permissions"."resource", "permissions"."action", "permissions"."scope", "permissions"."is_active", "permissions"."created_at", "permissions"."updated_at" from "user_roles" inner join "roles" on "user_roles"."role_id" = "roles"."role_id" inner join "role_permissions" on "roles"."role_id" = "role_permissions"."role_id" inner join "permissions" on "role_permissions"."permission_id" = "permissions"."permission_id" where ("user_roles"."user_id" = $1 and "user_roles"."is_active" = $2 and "roles"."is_active" = $3 and "permissions"."is_active" = $4) -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", true, true, true]
{"@timestamp":"2025-10-15T20:35:35.071Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"user-context.ts","line":314,"function":"eval","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":217,"userId":"[UUID]","rolesCount":1,"permissionsCount":90,"organizationsCount":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.071Z","level":"INFO","message":"API authentication successful","service":"bendcare-os","env":"development","file":"global-auth.ts","line":122,"function":"applyGlobalAuth","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","pathname":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","userId":"[UUID]","userEmail":"[REDACTED]","authMethod":"httponly_cookie","duration":155,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.071Z","level":"INFO","message":"Global auth check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":71,"function":"eval","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":186,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.071Z","level":"DEBUG","message":"Global authentication completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":74,"function":"eval","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":217,"hasSession":true,"hasUser":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.072Z","level":"INFO","message":"User context retrieved from session","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":145,"function":"eval","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","cached":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.072Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":167,"function":"eval","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":218,"userId":"[UUID]","roleCount":1,"permissionCount":90,"isSuperAdmin":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.072Z","level":"INFO","message":"RBAC permission check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":183,"function":"eval","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","permissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"requireAll":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.072Z","level":"INFO","message":"RBAC permission check passed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":192,"function":"eval","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":218,"userId":"[UUID]","permissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"rbacDuration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.072Z","level":"INFO","message":"Auth: rbac_check","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":199,"function":"eval","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":218,"component":"auth","action":"rbac_check","success":true,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
Error: Route "/api/admin/analytics/dashboard/[dashboardId]/render" used `params.dashboardId`. `params` should be awaited before using its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis
    at renderDashboardHandler (app/api/admin/analytics/dashboard/[dashboardId]/render/route.ts:47:11)
    at eval (lib/api/rbac-route-handler.ts:261:32)
  45 |   const startTime = Date.now();
  46 |   const { params } = args[0] as RenderDashboardParams;
> 47 |   const { dashboardId } = params;
     |           ^
  48 |
  49 |   log.info('Dashboard batch render request initiated', {
  50 |     dashboardId,
{"@timestamp":"2025-10-15T20:35:35.131Z","level":"INFO","message":"Dashboard batch render request initiated","service":"bendcare-os","env":"development","file":"route.ts","line":25,"function":"renderDashboardHandler","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":277,"dashboardId":"[UUID]","userId":"[UUID]","component":"analytics","operation":"batch_render","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.132Z","level":"INFO","message":"Dashboard universal filters applied","service":"bendcare-os","env":"development","file":"route.ts","line":40,"function":"renderDashboardHandler","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":278,"dashboardId":"[UUID]","filters":{"hasDateRange":false,"dateRangePreset":"ytd"},"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.132Z","level":"INFO","message":"Dashboard batch render initiated","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":55,"function":"DashboardRenderer.renderDashboard","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":278,"dashboardId":"[UUID]","userId":"[UUID]","hasUniversalFilters":true,"organizationFilter":null,"queryDeduplicationEnabled":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
Query: select "dashboards"."dashboard_id", "dashboards"."dashboard_name", "dashboards"."dashboard_description", "dashboards"."layout_config", "dashboards"."dashboard_category_id", "dashboards"."organization_id", "dashboards"."created_by", "dashboards"."created_at", "dashboards"."updated_at", "dashboards"."is_active", "dashboards"."is_published", "dashboards"."is_default", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "dashboards" left join "chart_categories" on "dashboards"."dashboard_category_id" = "chart_categories"."chart_category_id" left join "users" on "dashboards"."created_by" = "users"."user_id" where "dashboards"."dashboard_id" = $1 limit $2 -- params: ["6db475e1-ad7b-45ca-8845-226a0d9a3b0a", 1]
Query: select count(*) from "dashboard_charts" where "dashboard_charts"."dashboard_id" = $1 -- params: ["6db475e1-ad7b-45ca-8845-226a0d9a3b0a"]
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "dashboard_charts"."position_config" from "dashboard_charts" inner join "chart_definitions" on "dashboard_charts"."chart_definition_id" = "chart_definitions"."chart_definition_id" where "dashboard_charts"."dashboard_id" = $1 order by "dashboard_charts"."added_at" -- params: ["6db475e1-ad7b-45ca-8845-226a0d9a3b0a"]
{"@timestamp":"2025-10-15T20:35:35.137Z","level":"INFO","message":"dashboard retrieved successfully","service":"bendcare-os","env":"development","file":"rbac-dashboards-service.ts","line":336,"function":"RBACDashboardsServiceImpl.getDashboardById","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","operation":"read_dashboard","resourceType":"dashboard","resourceId":"[UUID]","resourceName":"All Types","userId":"[UUID]","found":true,"duration":5,"slow":false,"component":"service","query":{"duration":2,"slow":false},"chartCountQuery":{"duration":1,"slow":false},"chartsQuery":{"duration":2,"slow":false},"chartCount":9,"rbacScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "chart_definitions"."data_source", "chart_definitions"."chart_config", "chart_definitions"."access_control", "chart_definitions"."data_source_id", "chart_definitions"."chart_category_id", "chart_definitions"."created_by", "chart_definitions"."created_at", "chart_definitions"."updated_at", "chart_definitions"."is_active", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "chart_definitions" left join "chart_categories" on "chart_definitions"."chart_category_id" = "chart_categories"."chart_category_id" left join "users" on "chart_definitions"."created_by" = "users"."user_id" where "chart_definitions"."chart_definition_id" = $1 limit $2 -- params: ["0028fc86-2082-4522-b52c-673d75e7814f", 1]
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "chart_definitions"."data_source", "chart_definitions"."chart_config", "chart_definitions"."access_control", "chart_definitions"."data_source_id", "chart_definitions"."chart_category_id", "chart_definitions"."created_by", "chart_definitions"."created_at", "chart_definitions"."updated_at", "chart_definitions"."is_active", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "chart_definitions" left join "chart_categories" on "chart_definitions"."chart_category_id" = "chart_categories"."chart_category_id" left join "users" on "chart_definitions"."created_by" = "users"."user_id" where "chart_definitions"."chart_definition_id" = $1 limit $2 -- params: ["610281e2-0f74-4bdb-a35c-a99892c74881", 1]
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "chart_definitions"."data_source", "chart_definitions"."chart_config", "chart_definitions"."access_control", "chart_definitions"."data_source_id", "chart_definitions"."chart_category_id", "chart_definitions"."created_by", "chart_definitions"."created_at", "chart_definitions"."updated_at", "chart_definitions"."is_active", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "chart_definitions" left join "chart_categories" on "chart_definitions"."chart_category_id" = "chart_categories"."chart_category_id" left join "users" on "chart_definitions"."created_by" = "users"."user_id" where "chart_definitions"."chart_definition_id" = $1 limit $2 -- params: ["60ffd8fd-d938-4256-8d9e-d4d0e0ae7164", 1]
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "chart_definitions"."data_source", "chart_definitions"."chart_config", "chart_definitions"."access_control", "chart_definitions"."data_source_id", "chart_definitions"."chart_category_id", "chart_definitions"."created_by", "chart_definitions"."created_at", "chart_definitions"."updated_at", "chart_definitions"."is_active", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "chart_definitions" left join "chart_categories" on "chart_definitions"."chart_category_id" = "chart_categories"."chart_category_id" left join "users" on "chart_definitions"."created_by" = "users"."user_id" where "chart_definitions"."chart_definition_id" = $1 limit $2 -- params: ["51c68586-3a63-4bb4-bc49-02fb20ba6faa", 1]
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "chart_definitions"."data_source", "chart_definitions"."chart_config", "chart_definitions"."access_control", "chart_definitions"."data_source_id", "chart_definitions"."chart_category_id", "chart_definitions"."created_by", "chart_definitions"."created_at", "chart_definitions"."updated_at", "chart_definitions"."is_active", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "chart_definitions" left join "chart_categories" on "chart_definitions"."chart_category_id" = "chart_categories"."chart_category_id" left join "users" on "chart_definitions"."created_by" = "users"."user_id" where "chart_definitions"."chart_definition_id" = $1 limit $2 -- params: ["f7af2586-89c1-4fa2-beaf-d243959df179", 1]
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "chart_definitions"."data_source", "chart_definitions"."chart_config", "chart_definitions"."access_control", "chart_definitions"."data_source_id", "chart_definitions"."chart_category_id", "chart_definitions"."created_by", "chart_definitions"."created_at", "chart_definitions"."updated_at", "chart_definitions"."is_active", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "chart_definitions" left join "chart_categories" on "chart_definitions"."chart_category_id" = "chart_categories"."chart_category_id" left join "users" on "chart_definitions"."created_by" = "users"."user_id" where "chart_definitions"."chart_definition_id" = $1 limit $2 -- params: ["b0f26439-c29e-4880-8e87-6903e64564de", 1]
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "chart_definitions"."data_source", "chart_definitions"."chart_config", "chart_definitions"."access_control", "chart_definitions"."data_source_id", "chart_definitions"."chart_category_id", "chart_definitions"."created_by", "chart_definitions"."created_at", "chart_definitions"."updated_at", "chart_definitions"."is_active", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "chart_definitions" left join "chart_categories" on "chart_definitions"."chart_category_id" = "chart_categories"."chart_category_id" left join "users" on "chart_definitions"."created_by" = "users"."user_id" where "chart_definitions"."chart_definition_id" = $1 limit $2 -- params: ["f93a786b-6de8-4398-92c7-282ed4fb7818", 1]
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "chart_definitions"."data_source", "chart_definitions"."chart_config", "chart_definitions"."access_control", "chart_definitions"."data_source_id", "chart_definitions"."chart_category_id", "chart_definitions"."created_by", "chart_definitions"."created_at", "chart_definitions"."updated_at", "chart_definitions"."is_active", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "chart_definitions" left join "chart_categories" on "chart_definitions"."chart_category_id" = "chart_categories"."chart_category_id" left join "users" on "chart_definitions"."created_by" = "users"."user_id" where "chart_definitions"."chart_definition_id" = $1 limit $2 -- params: ["3b78a662-bee2-4128-a9f4-4b42c74a3ee1", 1]
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "chart_definitions"."data_source", "chart_definitions"."chart_config", "chart_definitions"."access_control", "chart_definitions"."data_source_id", "chart_definitions"."chart_category_id", "chart_definitions"."created_by", "chart_definitions"."created_at", "chart_definitions"."updated_at", "chart_definitions"."is_active", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "chart_definitions" left join "chart_categories" on "chart_definitions"."chart_category_id" = "chart_categories"."chart_category_id" left join "users" on "chart_definitions"."created_by" = "users"."user_id" where "chart_definitions"."chart_definition_id" = $1 limit $2 -- params: ["13eb537d-ae9f-4041-941b-1f492b45fdc2", 1]
{"@timestamp":"2025-10-15T20:35:35.178Z","level":"INFO","message":"Dashboard charts loaded","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":136,"function":"DashboardRenderer.renderDashboard","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":324,"dashboardId":"[UUID]","totalCharts":9,"validCharts":9,"chartTypes":["stacked-bar","number","bar","number","stacked-bar","dual-axis","dual-axis","bar","bar"],"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.178Z","level":"INFO","message":"Processing chart in batch","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":154,"function":"eval","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":324,"chartId":"[UUID]","chartName":"Stacked Bar","chartType":"stacked-bar","batchSupported":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.178Z","level":"INFO","message":"Batch chart config prepared","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":222,"function":"eval","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":324,"chartId":"[UUID]","chartType":"stacked-bar","chartName":"Stacked Bar","hasGroupBy":true,"groupByValue":"provider_name","hasDualAxisConfig":false,"hasAggregation":false,"runtimeFilterKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.178Z","level":"DEBUG","message":"Query hash generated","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":95,"function":"generateQueryHash","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":324,"dataSourceId":3,"measure":"Cash Transfer","frequency":"Monthly","hashLength":64,"signatureKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.178Z","level":"INFO","message":"Query cache miss - executing query","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":161,"function":"DashboardQueryCache.get","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":324,"queryHash":"d2abb5de1a277710","cacheSize":0,"deduplication":"miss","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.179Z","level":"INFO","message":"Processing chart in batch","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":154,"function":"eval","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":325,"chartId":"[UUID]","chartName":"Big Angry","chartType":"number","batchSupported":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.179Z","level":"INFO","message":"Batch chart config prepared","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":222,"function":"eval","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":325,"chartId":"[UUID]","chartType":"number","chartName":"Big Angry","hasGroupBy":false,"hasDualAxisConfig":false,"hasAggregation":false,"runtimeFilterKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.179Z","level":"DEBUG","message":"Query hash generated","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":95,"function":"generateQueryHash","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":325,"dataSourceId":3,"measure":"Cash Transfer","frequency":"Monthly","hashLength":64,"signatureKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.179Z","level":"INFO","message":"Query cache miss - executing query","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":161,"function":"DashboardQueryCache.get","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":325,"queryHash":"10a9a3ae557b2c54","cacheSize":1,"deduplication":"miss","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.179Z","level":"INFO","message":"Processing chart in batch","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":154,"function":"eval","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":325,"chartId":"[UUID]","chartName":"Charges by Provider","chartType":"bar","batchSupported":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.179Z","level":"INFO","message":"Batch chart config prepared","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":222,"function":"eval","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":325,"chartId":"[UUID]","chartType":"bar","chartName":"Charges by Provider","hasGroupBy":true,"groupByValue":"provider_name","hasDualAxisConfig":false,"hasAggregation":false,"runtimeFilterKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.179Z","level":"DEBUG","message":"Query hash generated","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":95,"function":"generateQueryHash","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":325,"dataSourceId":1,"measure":"Charges by Provider","hashLength":64,"signatureKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.179Z","level":"INFO","message":"Query cache miss - executing query","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":161,"function":"DashboardQueryCache.get","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":325,"queryHash":"[PHONE]","cacheSize":2,"deduplication":"miss","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.179Z","level":"INFO","message":"Processing chart in batch","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":154,"function":"eval","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":325,"chartId":"[UUID]","chartName":"Cancellations - YTD","chartType":"number","batchSupported":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.179Z","level":"INFO","message":"Batch chart config prepared","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":222,"function":"eval","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":325,"chartId":"[UUID]","chartType":"number","chartName":"Cancellations - YTD","hasGroupBy":false,"hasDualAxisConfig":false,"hasAggregation":false,"runtimeFilterKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.179Z","level":"DEBUG","message":"Query hash generated","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":95,"function":"generateQueryHash","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":325,"dataSourceId":3,"measure":"Cancellations","frequency":"Monthly","hashLength":64,"signatureKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.179Z","level":"INFO","message":"Query cache miss - executing query","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":161,"function":"DashboardQueryCache.get","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":325,"queryHash":"1689dd20ef08bd1b","cacheSize":3,"deduplication":"miss","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.180Z","level":"INFO","message":"Processing chart in batch","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":154,"function":"eval","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":326,"chartId":"[UUID]","chartName":"Cancellations by Provider","chartType":"stacked-bar","batchSupported":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.180Z","level":"INFO","message":"Batch chart config prepared","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":222,"function":"eval","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":326,"chartId":"[UUID]","chartType":"stacked-bar","chartName":"Cancellations by Provider","hasGroupBy":true,"groupByValue":"provider_name","hasDualAxisConfig":false,"hasAggregation":false,"runtimeFilterKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.180Z","level":"DEBUG","message":"Query hash generated","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":95,"function":"generateQueryHash","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":326,"dataSourceId":3,"measure":"Cancellations","frequency":"Weekly","hashLength":64,"signatureKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.180Z","level":"INFO","message":"Query cache miss - executing query","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":161,"function":"DashboardQueryCache.get","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":326,"queryHash":"387675e67713b58e","cacheSize":4,"deduplication":"miss","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.180Z","level":"INFO","message":"Processing chart in batch","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":154,"function":"eval","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":326,"chartId":"[UUID]","chartName":"dual2","chartType":"dual-axis","batchSupported":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.180Z","level":"INFO","message":"Batch chart config prepared","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":222,"function":"eval","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":326,"chartId":"[UUID]","chartType":"dual-axis","chartName":"dual2","hasGroupBy":true,"groupByValue":"practice","hasDualAxisConfig":true,"hasAggregation":false,"runtimeFilterKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.180Z","level":"DEBUG","message":"Query hash generated","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":95,"function":"generateQueryHash","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":326,"dataSourceId":3,"hashLength":64,"signatureKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.180Z","level":"INFO","message":"Query cache miss - executing query","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":161,"function":"DashboardQueryCache.get","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":326,"queryHash":"b66f80418ed50fbb","cacheSize":5,"deduplication":"miss","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.180Z","level":"INFO","message":"Processing chart in batch","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":154,"function":"eval","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":326,"chartId":"[UUID]","chartName":"Dual","chartType":"dual-axis","batchSupported":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.180Z","level":"INFO","message":"Batch chart config prepared","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":222,"function":"eval","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":326,"chartId":"[UUID]","chartType":"dual-axis","chartName":"Dual","hasGroupBy":true,"groupByValue":"provider_name","hasDualAxisConfig":true,"hasAggregation":false,"runtimeFilterKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.180Z","level":"DEBUG","message":"Query hash generated","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":95,"function":"generateQueryHash","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":326,"dataSourceId":3,"hashLength":64,"signatureKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.180Z","level":"INFO","message":"Query cache hit","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":147,"function":"DashboardQueryCache.get","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":326,"queryHash":"b66f80418ed50fbb","cacheSize":6,"deduplication":"hit","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.180Z","level":"INFO","message":"Processing chart in batch","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":154,"function":"eval","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":326,"chartId":"[UUID]","chartName":"Charges vs Payments","chartType":"bar","batchSupported":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.180Z","level":"INFO","message":"Batch chart config prepared","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":222,"function":"eval","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":326,"chartId":"[UUID]","chartType":"bar","chartName":"Charges vs Payments","hasGroupBy":true,"groupByValue":"provider_name","hasDualAxisConfig":false,"hasAggregation":false,"runtimeFilterKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.180Z","level":"DEBUG","message":"Query hash generated","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":95,"function":"generateQueryHash","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":326,"dataSourceId":1,"measure":"Charges by Provider","frequency":"Monthly","hashLength":64,"signatureKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.181Z","level":"INFO","message":"Query cache miss - executing query","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":161,"function":"DashboardQueryCache.get","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":327,"queryHash":"027ad3aaee202983","cacheSize":6,"deduplication":"miss","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.181Z","level":"INFO","message":"Processing chart in batch","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":154,"function":"eval","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":327,"chartId":"[UUID]","chartName":"Daily Cash Transfer","chartType":"bar","batchSupported":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.181Z","level":"INFO","message":"Batch chart config prepared","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":222,"function":"eval","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":327,"chartId":"[UUID]","chartType":"bar","chartName":"Daily Cash Transfer","hasGroupBy":true,"groupByValue":"practice","hasDualAxisConfig":false,"hasAggregation":false,"runtimeFilterKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.181Z","level":"DEBUG","message":"Query hash generated","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":95,"function":"generateQueryHash","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":327,"dataSourceId":3,"measure":"Cash Transfer","frequency":"Daily","hashLength":64,"signatureKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.181Z","level":"INFO","message":"Query cache miss - executing query","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":161,"function":"DashboardQueryCache.get","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":327,"queryHash":"8e7c29d2516bf193","cacheSize":7,"deduplication":"miss","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.181Z","level":"INFO","message":"Chart configuration resolved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":28,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":327,"chartType":"stacked-bar","dataSourceId":3,"hasRuntimeFilters":true,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.181Z","level":"INFO","message":"Chart configuration resolved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":28,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":327,"chartType":"number","dataSourceId":3,"hasRuntimeFilters":true,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.181Z","level":"INFO","message":"Chart configuration resolved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":28,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":327,"chartType":"bar","dataSourceId":1,"hasRuntimeFilters":true,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.181Z","level":"INFO","message":"Chart configuration resolved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":28,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":327,"chartType":"number","dataSourceId":3,"hasRuntimeFilters":true,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.181Z","level":"INFO","message":"Chart configuration resolved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":28,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":327,"chartType":"stacked-bar","dataSourceId":3,"hasRuntimeFilters":true,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.181Z","level":"INFO","message":"Chart configuration resolved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":28,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":327,"chartType":"dual-axis","dataSourceId":3,"hasRuntimeFilters":true,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.181Z","level":"INFO","message":"Chart configuration resolved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":28,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":327,"chartType":"bar","dataSourceId":1,"hasRuntimeFilters":true,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.181Z","level":"INFO","message":"Chart configuration resolved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":28,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":327,"chartType":"bar","dataSourceId":3,"hasRuntimeFilters":true,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
Query: select "data_source_id", "data_source_name", "data_source_description", "table_name", "schema_name", "database_type", "connection_config", "is_active", "requires_auth", "created_at", "updated_at", "created_by" from "chart_data_sources" where "chart_data_sources"."data_source_id" = $1 -- params: [3]
Query: select "data_source_id", "data_source_name", "data_source_description", "table_name", "schema_name", "database_type", "connection_config", "is_active", "requires_auth", "created_at", "updated_at", "created_by" from "chart_data_sources" where "chart_data_sources"."data_source_id" = $1 -- params: [3]
Query: select "data_source_id", "data_source_name", "data_source_description", "table_name", "schema_name", "database_type", "connection_config", "is_active", "requires_auth", "created_at", "updated_at", "created_by" from "chart_data_sources" where "chart_data_sources"."data_source_id" = $1 -- params: [1]
Query: select "data_source_id", "data_source_name", "data_source_description", "table_name", "schema_name", "database_type", "connection_config", "is_active", "requires_auth", "created_at", "updated_at", "created_by" from "chart_data_sources" where "chart_data_sources"."data_source_id" = $1 -- params: [3]
Query: select "data_source_id", "data_source_name", "data_source_description", "table_name", "schema_name", "database_type", "connection_config", "is_active", "requires_auth", "created_at", "updated_at", "created_by" from "chart_data_sources" where "chart_data_sources"."data_source_id" = $1 -- params: [3]
Query: select "data_source_id", "data_source_name", "data_source_description", "table_name", "schema_name", "database_type", "connection_config", "is_active", "requires_auth", "created_at", "updated_at", "created_by" from "chart_data_sources" where "chart_data_sources"."data_source_id" = $1 -- params: [3]
Query: select "data_source_id", "data_source_name", "data_source_description", "table_name", "schema_name", "database_type", "connection_config", "is_active", "requires_auth", "created_at", "updated_at", "created_by" from "chart_data_sources" where "chart_data_sources"."data_source_id" = $1 -- params: [1]
Query: select "data_source_id", "data_source_name", "data_source_description", "table_name", "schema_name", "database_type", "connection_config", "is_active", "requires_auth", "created_at", "updated_at", "created_by" from "chart_data_sources" where "chart_data_sources"."data_source_id" = $1 -- params: [3]
Query: select count(*) from "chart_data_source_columns" where ("chart_data_source_columns"."data_source_id" = $1 and "chart_data_source_columns"."is_active" = $2) -- params: [3, true]
Query: select count(*) from "chart_data_source_columns" where ("chart_data_source_columns"."data_source_id" = $1 and "chart_data_source_columns"."is_active" = $2) -- params: [1, true]
Query: select count(*) from "chart_data_source_columns" where ("chart_data_source_columns"."data_source_id" = $1 and "chart_data_source_columns"."is_active" = $2) -- params: [3, true]
Query: select count(*) from "chart_data_source_columns" where ("chart_data_source_columns"."data_source_id" = $1 and "chart_data_source_columns"."is_active" = $2) -- params: [3, true]
Query: select count(*) from "chart_data_source_columns" where ("chart_data_source_columns"."data_source_id" = $1 and "chart_data_source_columns"."is_active" = $2) -- params: [3, true]
Query: select count(*) from "chart_data_source_columns" where ("chart_data_source_columns"."data_source_id" = $1 and "chart_data_source_columns"."is_active" = $2) -- params: [1, true]
Query: select count(*) from "chart_data_source_columns" where ("chart_data_source_columns"."data_source_id" = $1 and "chart_data_source_columns"."is_active" = $2) -- params: [3, true]
Query: select count(*) from "chart_data_source_columns" where ("chart_data_source_columns"."data_source_id" = $1 and "chart_data_source_columns"."is_active" = $2) -- params: [3, true]
{"@timestamp":"2025-10-15T20:35:35.186Z","level":"INFO","message":"Data source access check passed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":207,"function":"ChartDataOrchestrator.verifyDataSourceAccess","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":332,"dataSourceId":1,"dataSourceName":"Practice Analytics","userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.186Z","level":"INFO","message":"Data source access verified","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":36,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":332,"dataSourceId":1,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.186Z","level":"INFO","message":"Runtime filters merged","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":42,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":332,"chartType":"bar","hasStartDate":true,"hasEndDate":true,"hasPracticeUid":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.186Z","level":"INFO","message":"Chart handler retrieved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":55,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":332,"chartType":"bar","handlerType":"bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.186Z","level":"INFO","message":"Chart configuration validated","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":64,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":332,"chartType":"bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.186Z","level":"INFO","message":"Fetching chart data with Redis cache integration","service":"bendcare-os","env":"development","file":"base-handler.ts","line":42,"function":"BarChartHandler.fetchData","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":332,"chartType":"bar","dataSourceId":1,"userId":"[UUID]","hasDataSourceId":true,"note":"Passing UserContext to enable Redis cache path","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.187Z","level":"INFO","message":"Building multiple series query with caching","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":692,"function":"AnalyticsQueryBuilder.queryMultipleSeries","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":333,"seriesCount":2,"measures":["Charges by Provider","Payments by Provider"],"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.187Z","level":"INFO","message":"Building analytics query with caching","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":325,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":333,"params":{"data_source_id":1,"start_date":"2025-01-01","end_date":"2025-10-15","limit":10000,"measure":"Charges by Provider","frequency":"Monthly","advanced_filters":[]},"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.187Z","level":"INFO","message":"Building analytics query with caching","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":325,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":333,"params":{"data_source_id":1,"start_date":"2025-01-01","end_date":"2025-10-15","limit":10000,"measure":"Payments by Provider","frequency":"Monthly","advanced_filters":[]},"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.187Z","level":"INFO","message":"Data source access check passed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":207,"function":"ChartDataOrchestrator.verifyDataSourceAccess","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":333,"dataSourceId":3,"dataSourceName":"App Measures with Entities","userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.187Z","level":"INFO","message":"Data source access verified","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":36,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":333,"dataSourceId":3,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.187Z","level":"INFO","message":"Runtime filters merged","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":42,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":333,"chartType":"number","hasStartDate":true,"hasEndDate":true,"hasPracticeUid":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.188Z","level":"INFO","message":"Chart handler retrieved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":55,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":334,"chartType":"number","handlerType":"number","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.188Z","level":"INFO","message":"Chart configuration validated","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":64,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":334,"chartType":"number","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.188Z","level":"INFO","message":"Fetching chart data with Redis cache integration","service":"bendcare-os","env":"development","file":"base-handler.ts","line":42,"function":"MetricChartHandler.fetchData","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":334,"chartType":"number","dataSourceId":3,"userId":"[UUID]","hasDataSourceId":true,"note":"Passing UserContext to enable Redis cache path","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.188Z","level":"INFO","message":"Building analytics query with caching","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":325,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":334,"params":{"data_source_id":3,"start_date":"2025-01-01","end_date":"2025-10-15","limit":10000,"measure":"Cancellations","frequency":"Monthly","advanced_filters":[]},"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.188Z","level":"INFO","message":"Data source access check passed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":207,"function":"ChartDataOrchestrator.verifyDataSourceAccess","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":334,"dataSourceId":3,"dataSourceName":"App Measures with Entities","userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.188Z","level":"INFO","message":"Data source access verified","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":36,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":334,"dataSourceId":3,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.188Z","level":"INFO","message":"Runtime filters merged","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":42,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":334,"chartType":"bar","hasStartDate":true,"hasEndDate":true,"hasPracticeUid":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.188Z","level":"INFO","message":"Chart handler retrieved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":55,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":334,"chartType":"bar","handlerType":"bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.188Z","level":"INFO","message":"Chart configuration validated","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":64,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":334,"chartType":"bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.188Z","level":"INFO","message":"Fetching chart data with Redis cache integration","service":"bendcare-os","env":"development","file":"base-handler.ts","line":42,"function":"BarChartHandler.fetchData","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":334,"chartType":"bar","dataSourceId":3,"userId":"[UUID]","hasDataSourceId":true,"note":"Passing UserContext to enable Redis cache path","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.188Z","level":"INFO","message":"Building analytics query with caching","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":325,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":334,"params":{"data_source_id":3,"start_date":"2025-01-01","end_date":"2025-10-15","limit":10000,"measure":"Cash Transfer","frequency":"Daily","advanced_filters":[]},"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.188Z","level":"INFO","message":"Data source access check passed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":207,"function":"ChartDataOrchestrator.verifyDataSourceAccess","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":334,"dataSourceId":3,"dataSourceName":"App Measures with Entities","userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.188Z","level":"INFO","message":"Data source access verified","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":36,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":334,"dataSourceId":3,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.189Z","level":"INFO","message":"Runtime filters merged","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":42,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":335,"chartType":"number","hasStartDate":true,"hasEndDate":true,"hasPracticeUid":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.189Z","level":"INFO","message":"Chart handler retrieved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":55,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":335,"chartType":"number","handlerType":"number","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.189Z","level":"INFO","message":"Chart configuration validated","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":64,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":335,"chartType":"number","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.189Z","level":"INFO","message":"Fetching chart data with Redis cache integration","service":"bendcare-os","env":"development","file":"base-handler.ts","line":42,"function":"MetricChartHandler.fetchData","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":335,"chartType":"number","dataSourceId":3,"userId":"[UUID]","hasDataSourceId":true,"note":"Passing UserContext to enable Redis cache path","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.189Z","level":"INFO","message":"Building analytics query with caching","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":325,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":335,"params":{"data_source_id":3,"start_date":"2025-01-01","end_date":"2025-10-15","limit":10000,"measure":"Cash Transfer","frequency":"Monthly","advanced_filters":[]},"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.189Z","level":"INFO","message":"Data source access check passed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":207,"function":"ChartDataOrchestrator.verifyDataSourceAccess","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":335,"dataSourceId":1,"dataSourceName":"Practice Analytics","userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.189Z","level":"INFO","message":"Data source access verified","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":36,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":335,"dataSourceId":1,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.189Z","level":"INFO","message":"Runtime filters merged","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":42,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":335,"chartType":"bar","hasStartDate":true,"hasEndDate":true,"hasPracticeUid":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.189Z","level":"INFO","message":"Chart handler retrieved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":55,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":335,"chartType":"bar","handlerType":"bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.189Z","level":"INFO","message":"Chart configuration validated","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":64,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":335,"chartType":"bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.189Z","level":"INFO","message":"Fetching chart data with Redis cache integration","service":"bendcare-os","env":"development","file":"base-handler.ts","line":42,"function":"BarChartHandler.fetchData","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":335,"chartType":"bar","dataSourceId":1,"userId":"[UUID]","hasDataSourceId":true,"note":"Passing UserContext to enable Redis cache path","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.189Z","level":"INFO","message":"Building analytics query with caching","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":325,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":335,"params":{"data_source_id":1,"start_date":"2025-01-01","end_date":"2025-10-15","limit":10000,"measure":"Charges by Provider","advanced_filters":[]},"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.189Z","level":"INFO","message":"Data source access check passed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":207,"function":"ChartDataOrchestrator.verifyDataSourceAccess","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":335,"dataSourceId":3,"dataSourceName":"App Measures with Entities","userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.189Z","level":"INFO","message":"Data source access verified","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":36,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":335,"dataSourceId":3,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.189Z","level":"INFO","message":"Runtime filters merged","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":42,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":335,"chartType":"dual-axis","hasStartDate":true,"hasEndDate":true,"hasPracticeUid":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.189Z","level":"INFO","message":"Chart handler retrieved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":55,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":335,"chartType":"dual-axis","handlerType":"dual-axis","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.189Z","level":"INFO","message":"Chart configuration validated","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":64,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":335,"chartType":"dual-axis","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.190Z","level":"INFO","message":"Fetching dual-axis data in parallel","service":"bendcare-os","env":"development","file":"combo-handler.ts","line":51,"function":"ComboChartHandler.fetchData","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":336,"chartType":"dual-axis","primaryMeasure":"Cancellations","secondaryMeasure":"Cash Transfer","userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.190Z","level":"INFO","message":"Fetching chart data with Redis cache integration","service":"bendcare-os","env":"development","file":"base-handler.ts","line":42,"function":"ComboChartHandler.fetchData","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":336,"chartType":"dual-axis","dataSourceId":3,"userId":"[UUID]","hasDataSourceId":true,"note":"Passing UserContext to enable Redis cache path","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.190Z","level":"INFO","message":"Building analytics query with caching","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":325,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":336,"params":{"data_source_id":3,"start_date":"2025-01-01","end_date":"2025-10-15","limit":10000,"measure":"Cancellations","frequency":"Monthly","advanced_filters":[]},"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.190Z","level":"INFO","message":"Fetching chart data with Redis cache integration","service":"bendcare-os","env":"development","file":"base-handler.ts","line":42,"function":"ComboChartHandler.fetchData","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":336,"chartType":"dual-axis","dataSourceId":3,"userId":"[UUID]","hasDataSourceId":true,"note":"Passing UserContext to enable Redis cache path","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.190Z","level":"INFO","message":"Building analytics query with caching","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":325,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":336,"params":{"data_source_id":3,"start_date":"2025-01-01","end_date":"2025-10-15","limit":10000,"measure":"Cash Transfer","frequency":"Monthly","advanced_filters":[]},"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.190Z","level":"INFO","message":"Data source access check passed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":207,"function":"ChartDataOrchestrator.verifyDataSourceAccess","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":336,"dataSourceId":3,"dataSourceName":"App Measures with Entities","userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.190Z","level":"INFO","message":"Data source access verified","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":36,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":336,"dataSourceId":3,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.190Z","level":"INFO","message":"Runtime filters merged","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":42,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":336,"chartType":"stacked-bar","hasStartDate":true,"hasEndDate":true,"hasPracticeUid":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.190Z","level":"DEBUG","message":"Handler found via canHandle() method","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":52,"function":"ChartTypeRegistry.getHandler","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":336,"chartType":"stacked-bar","handlerType":"bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.190Z","level":"INFO","message":"Chart handler retrieved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":55,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":336,"chartType":"stacked-bar","handlerType":"bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.190Z","level":"INFO","message":"Chart configuration validated","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":64,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":336,"chartType":"stacked-bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.190Z","level":"INFO","message":"Fetching chart data with Redis cache integration","service":"bendcare-os","env":"development","file":"base-handler.ts","line":42,"function":"BarChartHandler.fetchData","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":336,"chartType":"bar","dataSourceId":3,"userId":"[UUID]","hasDataSourceId":true,"note":"Passing UserContext to enable Redis cache path","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.190Z","level":"INFO","message":"Building analytics query with caching","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":325,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":336,"params":{"data_source_id":3,"start_date":"2025-01-01","end_date":"2025-10-15","limit":10000,"measure":"Cancellations","frequency":"Weekly","practice_uid":114,"advanced_filters":[]},"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.190Z","level":"INFO","message":"Data source access check passed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":207,"function":"ChartDataOrchestrator.verifyDataSourceAccess","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":336,"dataSourceId":3,"dataSourceName":"App Measures with Entities","userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.190Z","level":"INFO","message":"Data source access verified","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":36,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":336,"dataSourceId":3,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.190Z","level":"INFO","message":"Runtime filters merged","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":42,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":336,"chartType":"stacked-bar","hasStartDate":true,"hasEndDate":true,"hasPracticeUid":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.190Z","level":"DEBUG","message":"Handler found via canHandle() method","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":52,"function":"ChartTypeRegistry.getHandler","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":336,"chartType":"stacked-bar","handlerType":"bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.191Z","level":"INFO","message":"Chart handler retrieved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":55,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":337,"chartType":"stacked-bar","handlerType":"bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.191Z","level":"INFO","message":"Chart configuration validated","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":64,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":337,"chartType":"stacked-bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.191Z","level":"INFO","message":"Fetching chart data with Redis cache integration","service":"bendcare-os","env":"development","file":"base-handler.ts","line":42,"function":"BarChartHandler.fetchData","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":337,"chartType":"bar","dataSourceId":3,"userId":"[UUID]","hasDataSourceId":true,"note":"Passing UserContext to enable Redis cache path","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.191Z","level":"INFO","message":"Building analytics query with caching","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":325,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":337,"params":{"data_source_id":3,"start_date":"2025-01-01","end_date":"2025-10-15","limit":10000,"measure":"Cash Transfer","frequency":"Monthly","advanced_filters":[]},"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.228Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":374,"component":"chart-config-cache","dataSourceId":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.228Z","level":"DEBUG","message":"Chart context built","service":"bendcare-os","env":"development","file":"chart-context.ts","line":46,"function":"buildChartRenderContext","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","userId":"[UUID]","permissionScope":"all","practiceCount":0,"providerCount":0,"organizationCount":0,"includesHierarchy":false,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.228Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":374,"component":"chart-config-cache","dataSourceId":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.229Z","level":"DEBUG","message":"Chart context built","service":"bendcare-os","env":"development","file":"chart-context.ts","line":46,"function":"buildChartRenderContext","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","userId":"[UUID]","permissionScope":"all","practiceCount":0,"providerCount":0,"organizationCount":0,"includesHierarchy":false,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.311Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":457,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.311Z","level":"DEBUG","message":"Chart context built","service":"bendcare-os","env":"development","file":"chart-context.ts","line":46,"function":"buildChartRenderContext","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","userId":"[UUID]","permissionScope":"all","practiceCount":0,"providerCount":0,"organizationCount":0,"includesHierarchy":false,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.311Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":457,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.311Z","level":"DEBUG","message":"Chart context built","service":"bendcare-os","env":"development","file":"chart-context.ts","line":46,"function":"buildChartRenderContext","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","userId":"[UUID]","permissionScope":"all","practiceCount":0,"providerCount":0,"organizationCount":0,"includesHierarchy":false,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.311Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":457,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.311Z","level":"DEBUG","message":"Chart context built","service":"bendcare-os","env":"development","file":"chart-context.ts","line":46,"function":"buildChartRenderContext","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","userId":"[UUID]","permissionScope":"all","practiceCount":0,"providerCount":0,"organizationCount":0,"includesHierarchy":false,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.312Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":458,"component":"chart-config-cache","dataSourceId":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.312Z","level":"DEBUG","message":"Chart context built","service":"bendcare-os","env":"development","file":"chart-context.ts","line":46,"function":"buildChartRenderContext","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","userId":"[UUID]","permissionScope":"all","practiceCount":0,"providerCount":0,"organizationCount":0,"includesHierarchy":false,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.312Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":458,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.312Z","level":"DEBUG","message":"Chart context built","service":"bendcare-os","env":"development","file":"chart-context.ts","line":46,"function":"buildChartRenderContext","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","userId":"[UUID]","permissionScope":"all","practiceCount":0,"providerCount":0,"organizationCount":0,"includesHierarchy":false,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.312Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":458,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.312Z","level":"DEBUG","message":"Chart context built","service":"bendcare-os","env":"development","file":"chart-context.ts","line":46,"function":"buildChartRenderContext","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","userId":"[UUID]","permissionScope":"all","practiceCount":0,"providerCount":0,"organizationCount":0,"includesHierarchy":false,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.423Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":569,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.423Z","level":"DEBUG","message":"Chart context built","service":"bendcare-os","env":"development","file":"chart-context.ts","line":46,"function":"buildChartRenderContext","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","userId":"[UUID]","permissionScope":"all","practiceCount":0,"providerCount":0,"organizationCount":0,"includesHierarchy":false,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.423Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":569,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.424Z","level":"DEBUG","message":"Chart context built","service":"bendcare-os","env":"development","file":"chart-context.ts","line":46,"function":"buildChartRenderContext","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","userId":"[UUID]","permissionScope":"all","practiceCount":0,"providerCount":0,"organizationCount":0,"includesHierarchy":false,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.423Z","level":"INFO","message":"Main database connections closed","service":"bendcare-os","env":"development","file":"index.ts","line":160,"function":"process.closeDb"}
{"@timestamp":"2025-10-15T20:35:35.458Z","level":"INFO","message":"Data source cache miss V2","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":183,"function":"DataSourceCacheService.getCached","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":604,"dataSourceId":1,"measure":"Charges by Provider","isWarm":true,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.459Z","level":"INFO","message":"Data source cache miss - querying database","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":724,"function":"DataSourceCacheService.fetchDataSource","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":605,"dataSourceId":1,"measure":"Charges by Provider","nocache":false,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.551Z","level":"INFO","message":"Index lookup completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":320,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":697,"datasourceId":1,"measure":"Charges by Provider","frequency":"Monthly","practiceCount":0,"providerCount":0,"matchingKeys":"[REDACTED]","indexLookupDuration":127,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.577Z","level":"INFO","message":"Index lookup completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":320,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":723,"datasourceId":1,"measure":"Payments by Provider","frequency":"Monthly","practiceCount":0,"providerCount":0,"matchingKeys":"[REDACTED]","indexLookupDuration":152,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.577Z","level":"INFO","message":"Index lookup completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":320,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":723,"datasourceId":3,"measure":"Cancellations","frequency":"Monthly","practiceCount":0,"providerCount":0,"matchingKeys":"[REDACTED]","indexLookupDuration":153,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.581Z","level":"INFO","message":"Index lookup completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":320,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":727,"datasourceId":3,"measure":"Cash Transfer","frequency":"Daily","practiceCount":0,"providerCount":0,"matchingKeys":"[REDACTED]","indexLookupDuration":123,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.581Z","level":"INFO","message":"Index lookup completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":320,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":727,"datasourceId":3,"measure":"Cash Transfer","frequency":"Monthly","practiceCount":0,"providerCount":0,"matchingKeys":"[REDACTED]","indexLookupDuration":123,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.581Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":727,"component":"chart-config-cache","dataSourceId":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.582Z","level":"DEBUG","message":"Executing data source query","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":411,"function":"DataSourceCacheService.queryDatabase","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":728,"query":"\n      SELECT * \n      FROM ih.agg_app_measures\n      WHERE measure = $1\n      ORDER BY date_index ASC\n    ","paramCount":1,"hasAdvancedFilters":false,"note":"RBAC filtering will be applied in-memory after fetch","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
🔍 EXECUTING SQL: {
  sql: '\n' +
    '      SELECT * \n' +
    '      FROM ih.agg_app_measures\n' +
    '      WHERE measure = $1\n' +
    '      ORDER BY date_index ASC\n' +
    '    ',
  parameters: [ 'Charges by Provider' ],
  paramCount: 1
}
{"@timestamp":"2025-10-15T20:35:35.584Z","level":"INFO","message":"Index lookup completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":320,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":730,"datasourceId":3,"measure":"Cancellations","frequency":"Monthly","practiceCount":0,"providerCount":0,"matchingKeys":"[REDACTED]","indexLookupDuration":125,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.584Z","level":"INFO","message":"Index lookup completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":320,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":730,"datasourceId":3,"measure":"Cash Transfer","frequency":"Monthly","practiceCount":0,"providerCount":0,"matchingKeys":"[REDACTED]","indexLookupDuration":125,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.584Z","level":"INFO","message":"Index lookup completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":320,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":730,"datasourceId":3,"measure":"Cash Transfer","frequency":"Monthly","practiceCount":0,"providerCount":0,"matchingKeys":"[REDACTED]","indexLookupDuration":34,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.779Z","level":"INFO","message":"Cache query completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":355,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":925,"datasourceId":1,"measure":"Charges by Provider","frequency":"Monthly","matchingKeys":"[REDACTED]","rowsReturned":1501,"indexLookupDuration":127,"fetchDuration":228,"totalDuration":355,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.779Z","level":"INFO","message":"Data source cache hit V2","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":164,"function":"DataSourceCacheService.getCached","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":925,"cacheKey":"[REDACTED]","cacheLevel":0,"rowCount":1501,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.780Z","level":"WARN","message":"Security: RBAC filter: all scope, no filtering","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":494,"function":"DataSourceCacheService.applyRBACFilter","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":926,"component":"security","event":"RBAC filter: all scope, no filtering","severity":"low","userId":"[UUID]","rowCount":1501,"permissionScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.780Z","level":"DEBUG","message":"Column mapping cache miss - loading from config","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":62,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":926,"component":"column-mapping-service","dataSourceId":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.848Z","level":"INFO","message":"Cache query completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":355,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":994,"datasourceId":1,"measure":"Payments by Provider","frequency":"Monthly","matchingKeys":"[REDACTED]","rowsReturned":1580,"indexLookupDuration":152,"fetchDuration":271,"totalDuration":424,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.849Z","level":"INFO","message":"Data source cache hit V2","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":164,"function":"DataSourceCacheService.getCached","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":995,"cacheKey":"[REDACTED]","cacheLevel":0,"rowCount":1580,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.849Z","level":"WARN","message":"Security: RBAC filter: all scope, no filtering","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":494,"function":"DataSourceCacheService.applyRBACFilter","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":995,"component":"security","event":"RBAC filter: all scope, no filtering","severity":"low","userId":"[UUID]","rowCount":1580,"permissionScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.849Z","level":"DEBUG","message":"Column mapping cache miss - loading from config","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":62,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":995,"component":"column-mapping-service","dataSourceId":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.849Z","level":"INFO","message":"Cache query completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":355,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":995,"datasourceId":3,"measure":"Cancellations","frequency":"Monthly","matchingKeys":"[REDACTED]","rowsReturned":48,"indexLookupDuration":153,"fetchDuration":272,"totalDuration":425,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.849Z","level":"INFO","message":"Data source cache hit V2","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":164,"function":"DataSourceCacheService.getCached","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":995,"cacheKey":"[REDACTED]","cacheLevel":0,"rowCount":48,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.849Z","level":"WARN","message":"Security: RBAC filter: all scope, no filtering","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":494,"function":"DataSourceCacheService.applyRBACFilter","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":995,"component":"security","event":"RBAC filter: all scope, no filtering","severity":"low","userId":"[UUID]","rowCount":48,"permissionScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.849Z","level":"DEBUG","message":"Column mapping cache miss - loading from config","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":62,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":995,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.956Z","level":"INFO","message":"Cache query completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":355,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1102,"datasourceId":3,"measure":"Cash Transfer","frequency":"Daily","matchingKeys":"[REDACTED]","rowsReturned":1428,"indexLookupDuration":123,"fetchDuration":375,"totalDuration":498,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.957Z","level":"INFO","message":"Data source cache hit V2","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":164,"function":"DataSourceCacheService.getCached","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1103,"cacheKey":"[REDACTED]","cacheLevel":0,"rowCount":1428,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.957Z","level":"WARN","message":"Security: RBAC filter: all scope, no filtering","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":494,"function":"DataSourceCacheService.applyRBACFilter","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1103,"component":"security","event":"RBAC filter: all scope, no filtering","severity":"low","userId":"[UUID]","rowCount":1428,"permissionScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.957Z","level":"DEBUG","message":"Column mapping cache miss - loading from config","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":62,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1103,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.957Z","level":"INFO","message":"Cache query completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":355,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1103,"datasourceId":3,"measure":"Cash Transfer","frequency":"Monthly","matchingKeys":"[REDACTED]","rowsReturned":46,"indexLookupDuration":123,"fetchDuration":376,"totalDuration":499,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.957Z","level":"INFO","message":"Data source cache hit V2","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":164,"function":"DataSourceCacheService.getCached","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1103,"cacheKey":"[REDACTED]","cacheLevel":0,"rowCount":46,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.957Z","level":"WARN","message":"Security: RBAC filter: all scope, no filtering","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":494,"function":"DataSourceCacheService.applyRBACFilter","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1103,"component":"security","event":"RBAC filter: all scope, no filtering","severity":"low","userId":"[UUID]","rowCount":46,"permissionScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.957Z","level":"DEBUG","message":"Column mapping cache miss - loading from config","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":62,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1103,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.957Z","level":"INFO","message":"Cache query completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":355,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1103,"datasourceId":3,"measure":"Cancellations","frequency":"Monthly","matchingKeys":"[REDACTED]","rowsReturned":48,"indexLookupDuration":125,"fetchDuration":373,"totalDuration":498,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.958Z","level":"INFO","message":"Data source cache hit V2","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":164,"function":"DataSourceCacheService.getCached","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1104,"cacheKey":"[REDACTED]","cacheLevel":0,"rowCount":48,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.958Z","level":"WARN","message":"Security: RBAC filter: all scope, no filtering","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":494,"function":"DataSourceCacheService.applyRBACFilter","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1104,"component":"security","event":"RBAC filter: all scope, no filtering","severity":"low","userId":"[UUID]","rowCount":48,"permissionScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.958Z","level":"DEBUG","message":"Column mapping cache miss - loading from config","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":62,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1104,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.958Z","level":"INFO","message":"Cache query completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":355,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1104,"datasourceId":3,"measure":"Cash Transfer","frequency":"Monthly","matchingKeys":"[REDACTED]","rowsReturned":46,"indexLookupDuration":125,"fetchDuration":374,"totalDuration":499,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.958Z","level":"INFO","message":"Data source cache hit V2","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":164,"function":"DataSourceCacheService.getCached","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1104,"cacheKey":"[REDACTED]","cacheLevel":0,"rowCount":46,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.958Z","level":"WARN","message":"Security: RBAC filter: all scope, no filtering","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":494,"function":"DataSourceCacheService.applyRBACFilter","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1104,"component":"security","event":"RBAC filter: all scope, no filtering","severity":"low","userId":"[UUID]","rowCount":46,"permissionScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.958Z","level":"DEBUG","message":"Column mapping cache miss - loading from config","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":62,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1104,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.983Z","level":"INFO","message":"Cache query completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":355,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1129,"datasourceId":3,"measure":"Cash Transfer","frequency":"Monthly","matchingKeys":"[REDACTED]","rowsReturned":46,"indexLookupDuration":34,"fetchDuration":399,"totalDuration":433,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.983Z","level":"INFO","message":"Data source cache hit V2","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":164,"function":"DataSourceCacheService.getCached","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1129,"cacheKey":"[REDACTED]","cacheLevel":0,"rowCount":46,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.983Z","level":"WARN","message":"Security: RBAC filter: all scope, no filtering","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":494,"function":"DataSourceCacheService.applyRBACFilter","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1129,"component":"security","event":"RBAC filter: all scope, no filtering","severity":"low","userId":"[UUID]","rowCount":46,"permissionScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.983Z","level":"DEBUG","message":"Column mapping cache miss - loading from config","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":62,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1129,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.984Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1130,"component":"chart-config-cache","dataSourceId":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.984Z","level":"INFO","message":"Column mapping loaded and cached","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":82,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1130,"component":"column-mapping-service","dataSourceId":1,"mapping":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.984Z","level":"INFO","message":"Data source served from cache (server-filtered)","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":709,"function":"DataSourceCacheService.fetchDataSource","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","cacheKey":"[REDACTED]","cacheLevel":0,"cachedRowCount":1501,"afterRBAC":1501,"finalRowCount":1501,"duration":756,"userId":"[UUID]","permissionScope":"all","security":"filtered_before_client_send","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.984Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1130,"component":"column-mapping-service","dataSourceId":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.985Z","level":"INFO","message":"Analytics query completed (with caching)","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":391,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dataSourceId":1,"measure":"Charges by Provider","rowCount":1501,"totalCount":1057348789,"duration":797,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.985Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1131,"component":"chart-config-cache","dataSourceId":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.985Z","level":"INFO","message":"Column mapping loaded and cached","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":82,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1131,"component":"column-mapping-service","dataSourceId":1,"mapping":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.985Z","level":"INFO","message":"Data source served from cache (server-filtered)","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":709,"function":"DataSourceCacheService.fetchDataSource","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","cacheKey":"[REDACTED]","cacheLevel":0,"cachedRowCount":1580,"afterRBAC":1580,"finalRowCount":1580,"duration":756,"userId":"[UUID]","permissionScope":"all","security":"filtered_before_client_send","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.985Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1131,"component":"column-mapping-service","dataSourceId":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.985Z","level":"INFO","message":"Analytics query completed (with caching)","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":391,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dataSourceId":1,"measure":"Payments by Provider","rowCount":1580,"totalCount":396105515,"duration":798,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.986Z","level":"INFO","message":"Multiple series query completed (with caching)","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":726,"function":"AnalyticsQueryBuilder.queryMultipleSeries","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1132,"seriesCount":2,"totalRecords":3081,"queryTime":798,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.986Z","level":"INFO","message":"Chart data fetched successfully","service":"bendcare-os","env":"development","file":"base-handler.ts","line":54,"function":"BarChartHandler.fetchData","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1132,"chartType":"bar","recordCount":3081,"queryTimeMs":798,"cacheHit":true,"fetchDuration":800,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.986Z","level":"INFO","message":"Chart data fetched","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":71,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1132,"chartType":"bar","recordCount":3081,"fetchDuration":800,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.986Z","level":"INFO","message":"Transforming bar chart data","service":"bendcare-os","env":"development","file":"bar-chart-handler.ts","line":41,"function":"BarChartHandler.transform","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1132,"chartType":"bar","recordCount":3081,"groupBy":"provider_name","colorPalette":"default","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.992Z","level":"INFO","message":"Bar chart data transformed","service":"bendcare-os","env":"development","file":"bar-chart-handler.ts","line":70,"function":"BarChartHandler.transform","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","chartType":"bar","duration":6,"datasetCount":2,"labelCount":6,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.992Z","level":"INFO","message":"Chart data transformed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":80,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1138,"chartType":"bar","datasetCount":2,"labelCount":6,"transformDuration":6,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.992Z","level":"INFO","message":"Chart data orchestration completed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":111,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1138,"chartType":"bar","totalDuration":811,"fetchDuration":800,"transformDuration":6,"recordCount":3081,"hasColumns":false,"columnCount":0,"hasFormattedData":false,"formattedRowCount":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.992Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1138,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.992Z","level":"INFO","message":"Column mapping loaded and cached","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":82,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1138,"component":"column-mapping-service","dataSourceId":3,"mapping":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.992Z","level":"INFO","message":"Data source served from cache (server-filtered)","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":709,"function":"DataSourceCacheService.fetchDataSource","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","cacheKey":"[REDACTED]","cacheLevel":0,"cachedRowCount":48,"afterRBAC":48,"finalRowCount":48,"duration":681,"userId":"[UUID]","permissionScope":"all","security":"filtered_before_client_send","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.992Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1138,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.992Z","level":"INFO","message":"Analytics query completed (with caching)","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":391,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dataSourceId":3,"measure":"Cancellations","rowCount":48,"totalCount":48,"duration":804,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.992Z","level":"INFO","message":"Chart data fetched successfully","service":"bendcare-os","env":"development","file":"base-handler.ts","line":54,"function":"MetricChartHandler.fetchData","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1138,"chartType":"number","recordCount":48,"queryTimeMs":804,"cacheHit":true,"fetchDuration":804,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:35.992Z","level":"INFO","message":"Chart data fetched","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":71,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1138,"chartType":"number","recordCount":48,"fetchDuration":804,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.080Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1226,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.080Z","level":"INFO","message":"Column mapping loaded and cached","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":82,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1226,"component":"column-mapping-service","dataSourceId":3,"mapping":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.080Z","level":"INFO","message":"Data source served from cache (server-filtered)","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":709,"function":"DataSourceCacheService.fetchDataSource","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","cacheKey":"[REDACTED]","cacheLevel":0,"cachedRowCount":1428,"afterRBAC":1428,"finalRowCount":1428,"duration":769,"userId":"[UUID]","permissionScope":"all","security":"filtered_before_client_send","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.080Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1226,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.080Z","level":"INFO","message":"Analytics query completed (with caching)","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":391,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dataSourceId":3,"measure":"Cash Transfer","rowCount":1428,"totalCount":5280122.160000001,"duration":892,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.080Z","level":"INFO","message":"Chart data fetched successfully","service":"bendcare-os","env":"development","file":"base-handler.ts","line":54,"function":"BarChartHandler.fetchData","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1226,"chartType":"bar","recordCount":1428,"queryTimeMs":892,"cacheHit":true,"fetchDuration":892,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.081Z","level":"INFO","message":"Chart data fetched","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":71,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1227,"chartType":"bar","recordCount":1428,"fetchDuration":892,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.081Z","level":"INFO","message":"Transforming bar chart data","service":"bendcare-os","env":"development","file":"bar-chart-handler.ts","line":41,"function":"BarChartHandler.transform","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1227,"chartType":"bar","recordCount":1428,"groupBy":"practice","colorPalette":"default","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.090Z","level":"INFO","message":"Bar chart data transformed","service":"bendcare-os","env":"development","file":"bar-chart-handler.ts","line":70,"function":"BarChartHandler.transform","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","chartType":"bar","duration":9,"datasetCount":1,"labelCount":281,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.090Z","level":"INFO","message":"Chart data transformed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":80,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1236,"chartType":"bar","datasetCount":1,"labelCount":281,"transformDuration":9,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.090Z","level":"INFO","message":"Chart data orchestration completed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":111,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1236,"chartType":"bar","totalDuration":909,"fetchDuration":892,"transformDuration":9,"recordCount":1428,"hasColumns":false,"columnCount":0,"hasFormattedData":false,"formattedRowCount":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.090Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1236,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.090Z","level":"INFO","message":"Column mapping loaded and cached","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":82,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1236,"component":"column-mapping-service","dataSourceId":3,"mapping":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.091Z","level":"INFO","message":"Data source served from cache (server-filtered)","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":709,"function":"DataSourceCacheService.fetchDataSource","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","cacheKey":"[REDACTED]","cacheLevel":0,"cachedRowCount":46,"afterRBAC":46,"finalRowCount":46,"duration":779,"userId":"[UUID]","permissionScope":"all","security":"filtered_before_client_send","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.091Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1237,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.091Z","level":"INFO","message":"Analytics query completed (with caching)","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":391,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dataSourceId":3,"measure":"Cash Transfer","rowCount":46,"totalCount":5289376.439999999,"duration":902,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.091Z","level":"INFO","message":"Chart data fetched successfully","service":"bendcare-os","env":"development","file":"base-handler.ts","line":54,"function":"MetricChartHandler.fetchData","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1237,"chartType":"number","recordCount":46,"queryTimeMs":902,"cacheHit":true,"fetchDuration":902,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.091Z","level":"INFO","message":"Chart data fetched","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":71,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1237,"chartType":"number","recordCount":46,"fetchDuration":902,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.091Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1237,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.091Z","level":"INFO","message":"Column mapping loaded and cached","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":82,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1237,"component":"column-mapping-service","dataSourceId":3,"mapping":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.091Z","level":"INFO","message":"Data source served from cache (server-filtered)","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":709,"function":"DataSourceCacheService.fetchDataSource","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","cacheKey":"[REDACTED]","cacheLevel":0,"cachedRowCount":48,"afterRBAC":48,"finalRowCount":48,"duration":779,"userId":"[UUID]","permissionScope":"all","security":"filtered_before_client_send","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.091Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1237,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.091Z","level":"INFO","message":"Analytics query completed (with caching)","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":391,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dataSourceId":3,"measure":"Cancellations","rowCount":48,"totalCount":48,"duration":901,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.091Z","level":"INFO","message":"Chart data fetched successfully","service":"bendcare-os","env":"development","file":"base-handler.ts","line":54,"function":"ComboChartHandler.fetchData","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1237,"chartType":"dual-axis","recordCount":48,"queryTimeMs":901,"cacheHit":true,"fetchDuration":901,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.091Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1237,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.091Z","level":"INFO","message":"Column mapping loaded and cached","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":82,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1237,"component":"column-mapping-service","dataSourceId":3,"mapping":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.091Z","level":"INFO","message":"Data source served from cache (server-filtered)","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":709,"function":"DataSourceCacheService.fetchDataSource","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","cacheKey":"[REDACTED]","cacheLevel":0,"cachedRowCount":46,"afterRBAC":46,"finalRowCount":46,"duration":779,"userId":"[UUID]","permissionScope":"all","security":"filtered_before_client_send","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.091Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1237,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.091Z","level":"INFO","message":"Analytics query completed (with caching)","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":391,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dataSourceId":3,"measure":"Cash Transfer","rowCount":46,"totalCount":5289376.439999999,"duration":901,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.091Z","level":"INFO","message":"Chart data fetched successfully","service":"bendcare-os","env":"development","file":"base-handler.ts","line":54,"function":"ComboChartHandler.fetchData","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1237,"chartType":"dual-axis","recordCount":46,"queryTimeMs":901,"cacheHit":true,"fetchDuration":901,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.091Z","level":"INFO","message":"Dual-axis data fetched successfully","service":"bendcare-os","env":"development","file":"combo-handler.ts","line":72,"function":"ComboChartHandler.fetchData","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","primaryCount":48,"secondaryCount":46,"totalCount":94,"duration":901,"parallelFetch":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.092Z","level":"INFO","message":"Chart data fetched","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":71,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1238,"chartType":"dual-axis","recordCount":94,"fetchDuration":903,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.092Z","level":"INFO","message":"Index lookup completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":320,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1238,"datasourceId":3,"measure":"Cancellations","frequency":"Weekly","practiceCount":1,"providerCount":0,"matchingKeys":"[REDACTED]","indexLookupDuration":633,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.104Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1250,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.104Z","level":"INFO","message":"Column mapping loaded and cached","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":82,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1250,"component":"column-mapping-service","dataSourceId":3,"mapping":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.104Z","level":"INFO","message":"Data source served from cache (server-filtered)","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":709,"function":"DataSourceCacheService.fetchDataSource","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","cacheKey":"[REDACTED]","cacheLevel":0,"cachedRowCount":46,"afterRBAC":46,"finalRowCount":46,"duration":680,"userId":"[UUID]","permissionScope":"all","security":"filtered_before_client_send","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.105Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1251,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.105Z","level":"INFO","message":"Analytics query completed (with caching)","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":391,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dataSourceId":3,"measure":"Cash Transfer","rowCount":46,"totalCount":5289376.439999999,"duration":914,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.105Z","level":"INFO","message":"Chart data fetched successfully","service":"bendcare-os","env":"development","file":"base-handler.ts","line":54,"function":"BarChartHandler.fetchData","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1251,"chartType":"bar","recordCount":46,"queryTimeMs":914,"cacheHit":true,"fetchDuration":914,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.105Z","level":"INFO","message":"Chart data fetched","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":71,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1251,"chartType":"stacked-bar","recordCount":46,"fetchDuration":914,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.105Z","level":"INFO","message":"Transforming bar chart data","service":"bendcare-os","env":"development","file":"bar-chart-handler.ts","line":41,"function":"BarChartHandler.transform","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1251,"chartType":"stacked-bar","recordCount":46,"groupBy":"provider_name","colorPalette":"blue","stackingMode":"normal","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.105Z","level":"INFO","message":"Bar chart data transformed","service":"bendcare-os","env":"development","file":"bar-chart-handler.ts","line":70,"function":"BarChartHandler.transform","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","chartType":"stacked-bar","duration":0,"datasetCount":6,"labelCount":9,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.105Z","level":"INFO","message":"Chart data transformed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":80,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1251,"chartType":"stacked-bar","datasetCount":6,"labelCount":9,"transformDuration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.106Z","level":"INFO","message":"Chart data orchestration completed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":111,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1252,"chartType":"stacked-bar","totalDuration":926,"fetchDuration":914,"transformDuration":0,"recordCount":46,"hasColumns":false,"columnCount":0,"hasFormattedData":false,"formattedRowCount":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.106Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1252,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.106Z","level":"DEBUG","message":"Column name resolved","service":"bendcare-os","env":"development","file":"column-resolver.ts","line":64,"function":"getColumnName","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1252,"dataSourceId":3,"columnType":"measure","resolvedName":"numeric_value","fromConfig":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.106Z","level":"INFO","message":"Transforming metric chart data","service":"bendcare-os","env":"development","file":"metric-handler.ts","line":90,"function":"MetricChartHandler.transform","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1252,"chartType":"number","recordCount":48,"aggregationType":"sum","valueColumn":"numeric_value","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.106Z","level":"INFO","message":"Data aggregated","service":"bendcare-os","env":"development","file":"metric-handler.ts","line":74,"function":"MetricChartHandler.aggregateData","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","aggregationType":"sum","valueColumn":"numeric_value","valueCount":48,"result":382,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.106Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1252,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.106Z","level":"INFO","message":"Metric chart data transformed","service":"bendcare-os","env":"development","file":"metric-handler.ts","line":153,"function":"MetricChartHandler.transform","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","chartType":"number","duration":113,"aggregationType":"sum","aggregatedValue":382,"measureType":"count","datasetCount":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.106Z","level":"INFO","message":"Chart data transformed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":80,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1252,"chartType":"number","datasetCount":1,"labelCount":0,"transformDuration":113,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.106Z","level":"INFO","message":"Chart data orchestration completed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":111,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1252,"chartType":"number","totalDuration":927,"fetchDuration":804,"transformDuration":113,"recordCount":48,"hasColumns":false,"columnCount":0,"hasFormattedData":false,"formattedRowCount":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.122Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1268,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.122Z","level":"DEBUG","message":"Column name resolved","service":"bendcare-os","env":"development","file":"column-resolver.ts","line":64,"function":"getColumnName","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1268,"dataSourceId":3,"columnType":"measure","resolvedName":"numeric_value","fromConfig":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.122Z","level":"INFO","message":"Transforming metric chart data","service":"bendcare-os","env":"development","file":"metric-handler.ts","line":90,"function":"MetricChartHandler.transform","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1268,"chartType":"number","recordCount":46,"aggregationType":"sum","valueColumn":"numeric_value","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.123Z","level":"INFO","message":"Data aggregated","service":"bendcare-os","env":"development","file":"metric-handler.ts","line":74,"function":"MetricChartHandler.aggregateData","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","aggregationType":"sum","valueColumn":"numeric_value","valueCount":46,"result":5289376.439999999,"duration":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.123Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1269,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.123Z","level":"INFO","message":"Metric chart data transformed","service":"bendcare-os","env":"development","file":"metric-handler.ts","line":153,"function":"MetricChartHandler.transform","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","chartType":"number","duration":32,"aggregationType":"sum","aggregatedValue":5289376.439999999,"measureType":"currency","datasetCount":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.123Z","level":"INFO","message":"Chart data transformed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":80,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1269,"chartType":"number","datasetCount":1,"labelCount":0,"transformDuration":32,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.123Z","level":"INFO","message":"Chart data orchestration completed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":111,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1269,"chartType":"number","totalDuration":944,"fetchDuration":902,"transformDuration":32,"recordCount":46,"hasColumns":false,"columnCount":0,"hasFormattedData":false,"formattedRowCount":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.128Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1274,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.128Z","level":"DEBUG","message":"All columns resolved","service":"bendcare-os","env":"development","file":"column-resolver.ts","line":114,"function":"getResolvedColumns","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1274,"dataSourceId":3,"resolved":{"measureColumn":"numeric_value","dateColumn":"date_value","timePeriodColumn":"time_period","practiceColumn":"practice_uid","providerColumn":"provider_uid"},"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.128Z","level":"DEBUG","message":"Resolved columns for dual-axis chart","service":"bendcare-os","env":"development","file":"combo-handler.ts","line":111,"function":"ComboChartHandler.transform","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1274,"dataSourceId":3,"dateColumn":"date_value","measureColumn":"numeric_value","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.128Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1274,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.128Z","level":"INFO","message":"Dual-axis data transformation completed","service":"bendcare-os","env":"development","file":"combo-handler.ts","line":239,"function":"ComboChartHandler.transform","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","labelCount":9,"primaryDataPoints":48,"secondaryDataPoints":46,"primaryMeasureType":"count","secondaryMeasureType":"currency","duration":36,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.128Z","level":"INFO","message":"Chart data transformed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":80,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1274,"chartType":"dual-axis","datasetCount":2,"labelCount":9,"transformDuration":36,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.128Z","level":"INFO","message":"Chart data orchestration completed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":111,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1274,"chartType":"dual-axis","totalDuration":948,"fetchDuration":903,"transformDuration":36,"recordCount":94,"hasColumns":false,"columnCount":0,"hasFormattedData":false,"formattedRowCount":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.132Z","level":"INFO","message":"Cache query completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":355,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1278,"datasourceId":3,"measure":"Cancellations","frequency":"Weekly","matchingKeys":"[REDACTED]","rowsReturned":199,"indexLookupDuration":633,"fetchDuration":40,"totalDuration":673,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.132Z","level":"INFO","message":"Data source cache hit V2","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":164,"function":"DataSourceCacheService.getCached","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1278,"cacheKey":"[REDACTED]","cacheLevel":0,"rowCount":199,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.132Z","level":"WARN","message":"Security: RBAC filter: all scope, no filtering","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":494,"function":"DataSourceCacheService.applyRBACFilter","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1278,"component":"security","event":"RBAC filter: all scope, no filtering","severity":"low","userId":"[UUID]","rowCount":199,"permissionScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.132Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1278,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.132Z","level":"INFO","message":"Data source served from cache (server-filtered)","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":709,"function":"DataSourceCacheService.fetchDataSource","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","cacheKey":"[REDACTED]","cacheLevel":0,"cachedRowCount":199,"afterRBAC":199,"finalRowCount":199,"duration":709,"userId":"[UUID]","permissionScope":"all","security":"filtered_before_client_send","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.132Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1278,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.133Z","level":"INFO","message":"Analytics query completed (with caching)","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":391,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dataSourceId":3,"measure":"Cancellations","practiceUid":114,"rowCount":199,"totalCount":199,"duration":943,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.133Z","level":"INFO","message":"Chart data fetched successfully","service":"bendcare-os","env":"development","file":"base-handler.ts","line":54,"function":"BarChartHandler.fetchData","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1279,"chartType":"bar","recordCount":199,"queryTimeMs":943,"cacheHit":true,"fetchDuration":943,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.133Z","level":"INFO","message":"Chart data fetched","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":71,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1279,"chartType":"stacked-bar","recordCount":199,"fetchDuration":943,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.133Z","level":"INFO","message":"Transforming bar chart data","service":"bendcare-os","env":"development","file":"bar-chart-handler.ts","line":41,"function":"BarChartHandler.transform","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1279,"chartType":"stacked-bar","recordCount":199,"groupBy":"provider_name","colorPalette":"default","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.134Z","level":"INFO","message":"Bar chart data transformed","service":"bendcare-os","env":"development","file":"bar-chart-handler.ts","line":70,"function":"BarChartHandler.transform","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","chartType":"stacked-bar","duration":1,"datasetCount":6,"labelCount":39,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.134Z","level":"INFO","message":"Chart data transformed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":80,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1280,"chartType":"stacked-bar","datasetCount":6,"labelCount":39,"transformDuration":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:36.134Z","level":"INFO","message":"Chart data orchestration completed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":111,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1280,"chartType":"stacked-bar","totalDuration":954,"fetchDuration":943,"transformDuration":1,"recordCount":199,"hasColumns":false,"columnCount":0,"hasFormattedData":false,"formattedRowCount":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
✅ QUERY RESULT: {
  duration: '772ms',
  rowCount: 4462,
  sampleData: {
    practice_uid: 27,
    practice: 'Arthritis-Osteo Trtmnt & Rsrch Cntr',
    practice_primary: 'Munoz, George',
    provider_uid: 63,
    provider_name: 'Munoz, George',
    measure: 'Charges by Provider',
    frequency: 'Quarterly',
    date_index: '2024-03-31',
    measure_value: '3808918',
    measure_type: 'currency'
  }
}
{"@timestamp":"2025-10-15T20:35:36.355Z","level":"INFO","message":"Database query completed","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":420,"function":"DataSourceCacheService.queryDatabase","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1501,"schema":"ih","table":"agg_app_measures","rowCount":4462,"queryDuration":773,"hasAdvancedFilters":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:37.445Z","level":"INFO","message":"Data source cached","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":223,"function":"DataSourceCacheService.setCached","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":2591,"key":"[REDACTED]","rowCount":4462,"sizeKB":1238,"ttl":14400,"expiresAt":"2025-10-16T00:35:36.355Z","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:37.446Z","level":"WARN","message":"Security: RBAC filter: all scope, no filtering","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":494,"function":"DataSourceCacheService.applyRBACFilter","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":2592,"component":"security","event":"RBAC filter: all scope, no filtering","severity":"low","userId":"[UUID]","rowCount":4462,"permissionScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:37.446Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":2592,"component":"column-mapping-service","dataSourceId":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:37.450Z","level":"INFO","message":"Data source fetched from database (server-filtered)","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":765,"function":"DataSourceCacheService.fetchDataSource","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","totalRowCount":4462,"afterRBAC":3368,"finalRowCount":3368,"duration":2138,"userId":"[UUID]","permissionScope":"all","security":"filtered_before_client_send","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:37.451Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":2597,"component":"column-mapping-service","dataSourceId":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:37.453Z","level":"INFO","message":"Analytics query completed (with caching)","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":391,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dataSourceId":1,"measure":"Charges by Provider","rowCount":3368,"totalCount":2321011858,"duration":2263,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:37.454Z","level":"INFO","message":"Chart data fetched successfully","service":"bendcare-os","env":"development","file":"base-handler.ts","line":54,"function":"BarChartHandler.fetchData","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":2600,"chartType":"bar","recordCount":3368,"queryTimeMs":2263,"cacheHit":true,"fetchDuration":2265,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:37.455Z","level":"INFO","message":"Chart data fetched","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":71,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":2601,"chartType":"bar","recordCount":3368,"fetchDuration":2265,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:37.455Z","level":"INFO","message":"Transforming bar chart data","service":"bendcare-os","env":"development","file":"bar-chart-handler.ts","line":41,"function":"BarChartHandler.transform","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":2601,"chartType":"bar","recordCount":3368,"groupBy":"provider_name","colorPalette":"default","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:37.459Z","level":"INFO","message":"Bar chart data transformed","service":"bendcare-os","env":"development","file":"bar-chart-handler.ts","line":70,"function":"BarChartHandler.transform","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","chartType":"bar","duration":4,"datasetCount":300,"labelCount":12,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:37.459Z","level":"INFO","message":"Chart data transformed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":80,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":2606,"chartType":"bar","datasetCount":300,"labelCount":12,"transformDuration":4,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:37.460Z","level":"INFO","message":"Chart data orchestration completed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":111,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":2606,"chartType":"bar","totalDuration":2281,"fetchDuration":2265,"transformDuration":4,"recordCount":3368,"hasColumns":false,"columnCount":0,"hasFormattedData":false,"formattedRowCount":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:37.460Z","level":"INFO","message":"Dashboard batch render completed","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":306,"function":"DashboardRenderer.renderDashboard","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dashboardId":"[UUID]","chartsRendered":9,"cacheHits":0,"cacheMisses":9,"totalQueryTime":9326,"parallelDuration":2279,"duration":2328,"queryDeduplication":{"uniqueQueries":8,"queriesDeduped":1,"deduplicationRate":"11%","totalCharts":9,"queriesSaved":1},"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:37.460Z","level":"INFO","message":"Query cache cleared","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":184,"function":"DashboardQueryCache.clear","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":2606,"uniqueQueries":8,"queriesDeduped":1,"deduplicationRate":"11%","totalRequests":9,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:37.461Z","level":"INFO","message":"Dashboard batch render completed","service":"bendcare-os","env":"development","file":"route.ts","line":58,"function":"renderDashboardHandler","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dashboardId":"[UUID]","userId":"[UUID]","component":"analytics","operation":"batch_render","duration":2387,"metrics":{"chartsRendered":9,"queriesExecuted":9,"cacheHits":0,"cacheMisses":9,"cacheHitRate":0,"totalQueryTime":9326,"parallelExecution":true,"filtersApplied":1,"nocache":false},"slow":true,"performance":{"target":2000,"actual":2387,"overTarget":true},"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:37.472Z","level":"INFO","message":"Handler execution completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":205,"function":"eval","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":2400,"userId":"[UUID]","statusCode":200,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:37.472Z","level":"INFO","message":"RBAC route completed successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":211,"function":"eval","correlationId":"cor_mgsgaa0e_159z5l8u","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":2618,"userId":"[UUID]","statusCode":200,"totalDuration":2618,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
 POST /api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render 200 in 3670ms
 ○ Compiling /api/organizations ...
 ✓ Compiled /api/organizations in 977ms (2770 modules)
{"@timestamp":"2025-10-15T20:35:38.732Z","level":"INFO","message":"GET /api/organizations - RBAC route","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":47,"function":"eval","correlationId":"cor_mgsgacvp_lpp0txgo","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"component":"api","request":{},"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:38.733Z","level":"INFO","message":"RBAC route initiated","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":48,"function":"eval","correlationId":"cor_mgsgacvp_lpp0txgo","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1,"endpoint":"/api/organizations","requiredPermissions":["organizations:read:own","organizations:read:organization","organizations:read:all"],"requireAllPermissions":false,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:38.767Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgsgacvp_lpp0txgo","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":35,"type":"api","identifier":"::1","current":14,"remaining":186,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:38.767Z","level":"INFO","message":"Rate limit check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":61,"function":"eval","correlationId":"cor_mgsgacvp_lpp0txgo","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":34,"limitType":"api","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:38.767Z","level":"DEBUG","message":"API auth check initiated","service":"bendcare-os","env":"development","file":"global-auth.ts","line":65,"function":"applyGlobalAuth","correlationId":"cor_mgsgacvp_lpp0txgo","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":35,"pathname":"/api/organizations","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:38.798Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgsgacvp_lpp0txgo","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":66,"type":"api","identifier":"::1","current":15,"remaining":185,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:38.798Z","level":"DEBUG","message":"Using httpOnly cookie for authentication","service":"bendcare-os","env":"development","file":"global-auth.ts","line":100,"function":"applyGlobalAuth","correlationId":"cor_mgsgacvp_lpp0txgo","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":66,"pathname":"/api/organizations","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:38.799Z","level":"DEBUG","message":"Using access token from httpOnly cookie","service":"bendcare-os","env":"development","file":"auth.ts","line":36,"function":"requireAuth","correlationId":"cor_mgsgacvp_lpp0txgo","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":67,"component":"auth","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:38.862Z","level":"DEBUG","message":"Loading user context","service":"bendcare-os","env":"development","file":"user-context.ts","line":304,"function":"getUserContextSafe","correlationId":"cor_mgsgacvp_lpp0txgo","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":130,"userId":"[UUID]","operation":"getUserContext","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
Query: select "user_id", "email", "first_name", "last_name", "is_active", "email_verified", "created_at", "updated_at" from "users" where "users"."user_id" = $1 limit $2 -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", 1]
Query: select "user_organizations"."user_organization_id", "user_organizations"."user_id", "user_organizations"."organization_id", "user_organizations"."is_active", "user_organizations"."joined_at", "user_organizations"."created_at", "organizations"."name", "organizations"."slug", "organizations"."parent_organization_id", "organizations"."is_active", "organizations"."created_at", "organizations"."updated_at", "organizations"."deleted_at" from "user_organizations" inner join "organizations" on "user_organizations"."organization_id" = "organizations"."organization_id" where ("user_organizations"."user_id" = $1 and "user_organizations"."is_active" = $2 and "organizations"."is_active" = $3) -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", true, true]
Query: select distinct "user_roles"."user_role_id", "user_roles"."user_id", "user_roles"."role_id", "user_roles"."organization_id", "user_roles"."granted_by", "user_roles"."granted_at", "user_roles"."expires_at", "user_roles"."is_active", "user_roles"."created_at", "roles"."name", "roles"."description", "roles"."organization_id", "roles"."is_system_role", "roles"."is_active", "roles"."created_at", "roles"."updated_at", "roles"."deleted_at", "permissions"."permission_id", "permissions"."name", "permissions"."description", "permissions"."resource", "permissions"."action", "permissions"."scope", "permissions"."is_active", "permissions"."created_at", "permissions"."updated_at" from "user_roles" inner join "roles" on "user_roles"."role_id" = "roles"."role_id" inner join "role_permissions" on "roles"."role_id" = "role_permissions"."role_id" inner join "permissions" on "role_permissions"."permission_id" = "permissions"."permission_id" where ("user_roles"."user_id" = $1 and "user_roles"."is_active" = $2 and "roles"."is_active" = $3 and "permissions"."is_active" = $4) -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", true, true, true]
{"@timestamp":"2025-10-15T20:35:38.875Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"user-context.ts","line":314,"function":"eval","correlationId":"cor_mgsgacvp_lpp0txgo","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":143,"userId":"[UUID]","rolesCount":1,"permissionsCount":90,"organizationsCount":0,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:38.875Z","level":"INFO","message":"API authentication successful","service":"bendcare-os","env":"development","file":"global-auth.ts","line":122,"function":"applyGlobalAuth","correlationId":"cor_mgsgacvp_lpp0txgo","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","pathname":"/api/organizations","userId":"[UUID]","userEmail":"[REDACTED]","authMethod":"httponly_cookie","duration":76,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:38.875Z","level":"INFO","message":"Global auth check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":71,"function":"eval","correlationId":"cor_mgsgacvp_lpp0txgo","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":108,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:38.875Z","level":"DEBUG","message":"Global authentication completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":74,"function":"eval","correlationId":"cor_mgsgacvp_lpp0txgo","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":143,"hasSession":true,"hasUser":true,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:38.875Z","level":"INFO","message":"User context retrieved from session","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":145,"function":"eval","correlationId":"cor_mgsgacvp_lpp0txgo","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","cached":true,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:38.876Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":167,"function":"eval","correlationId":"cor_mgsgacvp_lpp0txgo","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":144,"userId":"[UUID]","roleCount":1,"permissionCount":90,"isSuperAdmin":true,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:38.876Z","level":"INFO","message":"RBAC permission check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":183,"function":"eval","correlationId":"cor_mgsgacvp_lpp0txgo","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","permissions":["organizations:read:own","organizations:read:organization","organizations:read:all"],"requireAll":false,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:38.876Z","level":"INFO","message":"RBAC permission check passed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":192,"function":"eval","correlationId":"cor_mgsgacvp_lpp0txgo","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":144,"userId":"[UUID]","permissions":["organizations:read:own","organizations:read:organization","organizations:read:all"],"rbacDuration":0,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:38.876Z","level":"INFO","message":"Auth: rbac_check","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":199,"function":"eval","correlationId":"cor_mgsgacvp_lpp0txgo","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":144,"component":"auth","action":"rbac_check","success":true,"userId":"[UUID]","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
Query: select "organizations"."organization_id", "organizations"."name", "organizations"."slug", "organizations"."parent_organization_id", "organizations"."is_active", "organizations"."created_at", "organizations"."updated_at", "organizations"."deleted_at", "practices"."practice_id", "practices"."domain", "practices"."status", "practices"."template_id" from "organizations" left join "practices" on "organizations"."organization_id" = "practices"."practice_id" where ("organizations"."is_active" = $1 and "organizations"."deleted_at" is null and "organizations"."is_active" = $2) order by "organizations"."created_at" desc -- params: [true, true]
Query: select "organization_id", count(*) from "user_organizations" where ("user_organizations"."organization_id" in ($1, $2, $3, $4, $5) and "user_organizations"."is_active" = $6) group by "user_organizations"."organization_id" -- params: ["d9e5bd24-b104-4ff5-a219-678eedb31aaa", "4e23ee8f-33b1-4a6a-a371-0437d01c40d6", "7b70e645-82f2-4b18-8b22-db946991f6d5", "640c5969-74bc-4189-a455-81bf26f74829", "13f5a859-91ba-46ad-a4d1-40fb7a2996f2", true]
Query: select "parent_organization_id", count(*) from "organizations" where ("organizations"."parent_organization_id" in ($1, $2, $3, $4, $5) and "organizations"."parent_organization_id" is not null and "organizations"."is_active" = $6 and "organizations"."deleted_at" is null) group by "organizations"."parent_organization_id" -- params: ["d9e5bd24-b104-4ff5-a219-678eedb31aaa", "4e23ee8f-33b1-4a6a-a371-0437d01c40d6", "7b70e645-82f2-4b18-8b22-db946991f6d5", "640c5969-74bc-4189-a455-81bf26f74829", "13f5a859-91ba-46ad-a4d1-40fb7a2996f2", true]
{"@timestamp":"2025-10-15T20:35:38.883Z","level":"INFO","message":"organizations list query completed - returned 5 of 5","service":"bendcare-os","env":"development","file":"index.ts","line":257,"function":"OrganizationsService.getOrganizations","correlationId":"cor_mgsgacvp_lpp0txgo","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","operation":"list_organizations","resourceType":"organizations","userId":"[UUID]","filters":{"is_active":true},"filterCount":1,"results":{"returned":5,"total":5,"page":1,"hasMore":false},"empty":false,"duration":6,"slow":false,"component":"service","query":{"duration":3,"slow":false},"enrichment":{"duration":2,"slow":false},"rbacScope":"all","batchOptimized":true,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:38.883Z","level":"INFO","message":"organizations list query completed - returned 5 organizations","service":"bendcare-os","env":"development","file":"route.ts","line":67,"function":"getOrganizationsHandler","correlationId":"cor_mgsgacvp_lpp0txgo","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","operation":"list_organizations","resourceType":"organizations","userId":"[UUID]","isSuperAdmin":true,"filters":{"is_active":true},"filterCount":1,"results":{"returned":5,"active":5,"inactive":0,"page":1,"pageSize":10},"sort":{"field":"created_at","direction":"desc"},"duration":7,"slow":false,"component":"business-logic","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:38.883Z","level":"INFO","message":"Handler execution completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":205,"function":"eval","correlationId":"cor_mgsgacvp_lpp0txgo","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":7,"userId":"[UUID]","statusCode":200,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:38.884Z","level":"INFO","message":"RBAC route completed successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":211,"function":"eval","correlationId":"cor_mgsgacvp_lpp0txgo","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":152,"userId":"[UUID]","statusCode":200,"totalDuration":151,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
 GET /api/organizations?is_active=true 200 in 1359ms
{"@timestamp":"2025-10-15T20:35:38.905Z","level":"INFO","message":"GET /api/organizations - RBAC route","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":47,"function":"eval","correlationId":"cor_mgsgadxl_02oz932r","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"component":"api","request":{},"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:38.905Z","level":"INFO","message":"RBAC route initiated","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":48,"function":"eval","correlationId":"cor_mgsgadxl_02oz932r","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"endpoint":"/api/organizations","requiredPermissions":["organizations:read:own","organizations:read:organization","organizations:read:all"],"requireAllPermissions":false,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:38.939Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgsgadxl_02oz932r","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":34,"type":"api","identifier":"::1","current":16,"remaining":184,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:38.939Z","level":"INFO","message":"Rate limit check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":61,"function":"eval","correlationId":"cor_mgsgadxl_02oz932r","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":34,"limitType":"api","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:38.939Z","level":"DEBUG","message":"API auth check initiated","service":"bendcare-os","env":"development","file":"global-auth.ts","line":65,"function":"applyGlobalAuth","correlationId":"cor_mgsgadxl_02oz932r","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":34,"pathname":"/api/organizations","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:38.970Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgsgadxl_02oz932r","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":65,"type":"api","identifier":"::1","current":17,"remaining":183,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:38.970Z","level":"DEBUG","message":"Using httpOnly cookie for authentication","service":"bendcare-os","env":"development","file":"global-auth.ts","line":100,"function":"applyGlobalAuth","correlationId":"cor_mgsgadxl_02oz932r","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":65,"pathname":"/api/organizations","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:38.970Z","level":"DEBUG","message":"Using access token from httpOnly cookie","service":"bendcare-os","env":"development","file":"auth.ts","line":36,"function":"requireAuth","correlationId":"cor_mgsgadxl_02oz932r","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":65,"component":"auth","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:39.030Z","level":"DEBUG","message":"User context cache hit","service":"bendcare-os","env":"development","file":"user-context.ts","line":288,"function":"getUserContextSafe","correlationId":"cor_mgsgadxl_02oz932r","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":125,"userId":"[UUID]","operation":"getUserContext","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:39.031Z","level":"INFO","message":"API authentication successful","service":"bendcare-os","env":"development","file":"global-auth.ts","line":122,"function":"applyGlobalAuth","correlationId":"cor_mgsgadxl_02oz932r","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","pathname":"/api/organizations","userId":"[UUID]","userEmail":"[REDACTED]","authMethod":"httponly_cookie","duration":60,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:39.031Z","level":"INFO","message":"Global auth check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":71,"function":"eval","correlationId":"cor_mgsgadxl_02oz932r","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":92,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:39.031Z","level":"DEBUG","message":"Global authentication completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":74,"function":"eval","correlationId":"cor_mgsgadxl_02oz932r","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":126,"hasSession":true,"hasUser":true,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:39.031Z","level":"INFO","message":"User context retrieved from session","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":145,"function":"eval","correlationId":"cor_mgsgadxl_02oz932r","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","cached":true,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:39.031Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":167,"function":"eval","correlationId":"cor_mgsgadxl_02oz932r","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":126,"userId":"[UUID]","roleCount":1,"permissionCount":90,"isSuperAdmin":true,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:39.032Z","level":"INFO","message":"RBAC permission check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":183,"function":"eval","correlationId":"cor_mgsgadxl_02oz932r","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","permissions":["organizations:read:own","organizations:read:organization","organizations:read:all"],"requireAll":false,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:39.032Z","level":"INFO","message":"RBAC permission check passed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":192,"function":"eval","correlationId":"cor_mgsgadxl_02oz932r","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":127,"userId":"[UUID]","permissions":["organizations:read:own","organizations:read:organization","organizations:read:all"],"rbacDuration":0,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:39.032Z","level":"INFO","message":"Auth: rbac_check","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":199,"function":"eval","correlationId":"cor_mgsgadxl_02oz932r","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":127,"component":"auth","action":"rbac_check","success":true,"userId":"[UUID]","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
Query: select "organizations"."organization_id", "organizations"."name", "organizations"."slug", "organizations"."parent_organization_id", "organizations"."is_active", "organizations"."created_at", "organizations"."updated_at", "organizations"."deleted_at", "practices"."practice_id", "practices"."domain", "practices"."status", "practices"."template_id" from "organizations" left join "practices" on "organizations"."organization_id" = "practices"."practice_id" where ("organizations"."is_active" = $1 and "organizations"."deleted_at" is null and "organizations"."is_active" = $2) order by "organizations"."created_at" desc -- params: [true, true]
Query: select "organization_id", count(*) from "user_organizations" where ("user_organizations"."organization_id" in ($1, $2, $3, $4, $5) and "user_organizations"."is_active" = $6) group by "user_organizations"."organization_id" -- params: ["d9e5bd24-b104-4ff5-a219-678eedb31aaa", "4e23ee8f-33b1-4a6a-a371-0437d01c40d6", "7b70e645-82f2-4b18-8b22-db946991f6d5", "640c5969-74bc-4189-a455-81bf26f74829", "13f5a859-91ba-46ad-a4d1-40fb7a2996f2", true]
Query: select "parent_organization_id", count(*) from "organizations" where ("organizations"."parent_organization_id" in ($1, $2, $3, $4, $5) and "organizations"."parent_organization_id" is not null and "organizations"."is_active" = $6 and "organizations"."deleted_at" is null) group by "organizations"."parent_organization_id" -- params: ["d9e5bd24-b104-4ff5-a219-678eedb31aaa", "4e23ee8f-33b1-4a6a-a371-0437d01c40d6", "7b70e645-82f2-4b18-8b22-db946991f6d5", "640c5969-74bc-4189-a455-81bf26f74829", "13f5a859-91ba-46ad-a4d1-40fb7a2996f2", true]
{"@timestamp":"2025-10-15T20:35:39.039Z","level":"INFO","message":"organizations list query completed - returned 5 of 5","service":"bendcare-os","env":"development","file":"index.ts","line":257,"function":"OrganizationsService.getOrganizations","correlationId":"cor_mgsgadxl_02oz932r","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","operation":"list_organizations","resourceType":"organizations","userId":"[UUID]","filters":{"is_active":true},"filterCount":1,"results":{"returned":5,"total":5,"page":1,"hasMore":false},"empty":false,"duration":6,"slow":false,"component":"service","query":{"duration":3,"slow":false},"enrichment":{"duration":3,"slow":false},"rbacScope":"all","batchOptimized":true,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:39.039Z","level":"INFO","message":"organizations list query completed - returned 5 organizations","service":"bendcare-os","env":"development","file":"route.ts","line":67,"function":"getOrganizationsHandler","correlationId":"cor_mgsgadxl_02oz932r","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","operation":"list_organizations","resourceType":"organizations","userId":"[UUID]","isSuperAdmin":true,"filters":{"is_active":true},"filterCount":1,"results":{"returned":5,"active":5,"inactive":0,"page":1,"pageSize":10},"sort":{"field":"created_at","direction":"desc"},"duration":7,"slow":false,"component":"business-logic","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:39.040Z","level":"INFO","message":"Handler execution completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":205,"function":"eval","correlationId":"cor_mgsgadxl_02oz932r","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":8,"userId":"[UUID]","statusCode":200,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:39.040Z","level":"INFO","message":"RBAC route completed successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":211,"function":"eval","correlationId":"cor_mgsgadxl_02oz932r","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":135,"userId":"[UUID]","statusCode":200,"totalDuration":135,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
 GET /api/organizations?is_active=true 200 in 151ms
🌐 MIDDLEWARE: Processing request for: /dashboard/view/6db475e1-ad7b-45ca-8845-226a0d9a3b0a
🌐 MIDDLEWARE: Protected route detected
🌐 MIDDLEWARE: Checking auth - access token: true, refresh token: true
🌐 MIDDLEWARE: Access token valid - allowing access
🌐 MIDDLEWARE: User authenticated (or has refresh token) - allowing request to proceed
 GET /dashboard/view/6db475e1-ad7b-45ca-8845-226a0d9a3b0a 200 in 462ms
{"@timestamp":"2025-10-15T20:35:43.044Z","level":"INFO","message":"GET /api/admin/analytics/dashboards - RBAC route","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":47,"function":"eval","correlationId":"cor_mgsgah32_hwtk31hi","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"component":"api","request":{},"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:43.044Z","level":"INFO","message":"RBAC route initiated","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":48,"function":"eval","correlationId":"cor_mgsgah32_hwtk31hi","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"endpoint":"/api/admin/analytics/dashboards","requiredPermissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"requireAllPermissions":false,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:43.071Z","level":"INFO","message":"GET /api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a - RBAC route","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":47,"function":"eval","correlationId":"cor_mgsgah32_s0hn7p6u","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"component":"api","request":{},"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:43.071Z","level":"INFO","message":"RBAC route initiated","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":48,"function":"eval","correlationId":"cor_mgsgah32_s0hn7p6u","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"endpoint":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","requiredPermissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"requireAllPermissions":false,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:43.085Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgsgah32_hwtk31hi","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":41,"type":"api","identifier":"::1","current":18,"remaining":182,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:43.085Z","level":"INFO","message":"Rate limit check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":61,"function":"eval","correlationId":"cor_mgsgah32_hwtk31hi","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":40,"limitType":"api","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:43.085Z","level":"DEBUG","message":"API auth check initiated","service":"bendcare-os","env":"development","file":"global-auth.ts","line":65,"function":"applyGlobalAuth","correlationId":"cor_mgsgah32_hwtk31hi","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":41,"pathname":"/api/admin/analytics/dashboards","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:43.102Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgsgah32_s0hn7p6u","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":31,"type":"api","identifier":"::1","current":19,"remaining":181,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:43.102Z","level":"INFO","message":"Rate limit check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":61,"function":"eval","correlationId":"cor_mgsgah32_s0hn7p6u","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":31,"limitType":"api","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:43.102Z","level":"DEBUG","message":"API auth check initiated","service":"bendcare-os","env":"development","file":"global-auth.ts","line":65,"function":"applyGlobalAuth","correlationId":"cor_mgsgah32_s0hn7p6u","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":31,"pathname":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:43.114Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","type":"api","identifier":"::1","current":20,"remaining":180,"limit":200}
{"@timestamp":"2025-10-15T20:35:43.115Z","level":"INFO","message":"JWT authentication middleware initiated","service":"bendcare-os","env":"development","file":"jwt-auth.ts","line":100,"function":"requireJWTAuth","url":"http://localhost:4001/api/auth/me","method":"GET","hasAuthHeader":false,"hasCookieHeader":"[REDACTED]"}
🔐 AUTH: Using access token from httpOnly cookie
{"@timestamp":"2025-10-15T20:35:43.118Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgsgah32_hwtk31hi","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":74,"type":"api","identifier":"::1","current":21,"remaining":179,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:43.118Z","level":"DEBUG","message":"Using httpOnly cookie for authentication","service":"bendcare-os","env":"development","file":"global-auth.ts","line":100,"function":"applyGlobalAuth","correlationId":"cor_mgsgah32_hwtk31hi","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":74,"pathname":"/api/admin/analytics/dashboards","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:43.118Z","level":"DEBUG","message":"Using access token from httpOnly cookie","service":"bendcare-os","env":"development","file":"auth.ts","line":36,"function":"requireAuth","correlationId":"cor_mgsgah32_hwtk31hi","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":74,"component":"auth","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:43.133Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgsgah32_s0hn7p6u","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":62,"type":"api","identifier":"::1","current":22,"remaining":178,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:43.133Z","level":"DEBUG","message":"Using httpOnly cookie for authentication","service":"bendcare-os","env":"development","file":"global-auth.ts","line":100,"function":"applyGlobalAuth","correlationId":"cor_mgsgah32_s0hn7p6u","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":62,"pathname":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:43.133Z","level":"DEBUG","message":"Using access token from httpOnly cookie","service":"bendcare-os","env":"development","file":"auth.ts","line":36,"function":"requireAuth","correlationId":"cor_mgsgah32_s0hn7p6u","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":62,"component":"auth","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:43.144Z","level":"INFO","message":"Auth: jwt_validation","service":"bendcare-os","env":"development","file":"jwt-auth.ts","line":153,"function":"requireJWTAuth","component":"auth","action":"jwt_validation","success":true,"userId":"[UUID]","sessionId":"2vQBp_rVd8A_DaGh9-DDEQSW9sseDi-c","tokenSource":"[REDACTED]","validationDuration":29}
🔐 AUTH: JWT cache miss, falling back to database query
{"@timestamp":"2025-10-15T20:35:43.245Z","level":"DEBUG","message":"Redis user context cache hit","service":"bendcare-os","env":"development","file":"cached-user-context.ts","line":261,"function":"eval","userId":"[UUID]","rolesCount":1,"permissionsCount":90,"fromRedis":true}
{"@timestamp":"2025-10-15T20:35:43.245Z","level":"INFO","message":"JWT authentication completed","service":"bendcare-os","env":"development","file":"jwt-auth.ts","line":189,"function":"requireJWTAuth","userId":"[UUID]","sessionId":"2vQBp_rVd8A_DaGh9-DDEQSW9sseDi-c","tokenSource":"[REDACTED]","cacheHit":true,"roleCount":1,"permissionCount":90,"duration":131}
{"@timestamp":"2025-10-15T20:35:43.245Z","level":"WARN","message":"Security: jwt_authentication_successful","service":"bendcare-os","env":"development","file":"jwt-auth.ts","line":199,"function":"requireJWTAuth","component":"security","event":"jwt_authentication_successful","severity":"low","action":"jwt_middleware_success","userId":"[UUID]","tokenValidated":"[REDACTED]","rbacContextLoaded":true,"cacheOptimized":true}
{"@timestamp":"2025-10-15T20:35:43.246Z","level":"INFO","message":"JWT middleware completed","service":"bendcare-os","env":"development","file":"jwt-auth.ts","line":207,"function":"requireJWTAuth","duration":131,"performanceTiming":true,"tokenValidationTime":"[REDACTED]","cacheEnabled":true,"totalOperations":91}
{"@timestamp":"2025-10-15T20:35:43.246Z","level":"INFO","message":"user context retrieved successfully from JWT token","service":"bendcare-os","env":"development","file":"route.ts","line":41,"function":"GET","operation":"get_user_context","userId":"[UUID]","email":"[REDACTED]","rbac":{"roles":1,"permissions":90,"isSuperAdmin":true,"orgAdminFor":0},"organizations":{"direct":0,"accessible":0,"current":null},"duration":161,"slow":false,"component":"auth","cached":true}
 GET /api/auth/me 200 in 251ms
{"@timestamp":"2025-10-15T20:35:43.247Z","level":"DEBUG","message":"Loading user context","service":"bendcare-os","env":"development","file":"user-context.ts","line":304,"function":"getUserContextSafe","correlationId":"cor_mgsgah32_hwtk31hi","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":203,"userId":"[UUID]","operation":"getUserContext","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
Query: select "user_id", "email", "first_name", "last_name", "is_active", "email_verified", "created_at", "updated_at" from "users" where "users"."user_id" = $1 limit $2 -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", 1]
Query: select "user_organizations"."user_organization_id", "user_organizations"."user_id", "user_organizations"."organization_id", "user_organizations"."is_active", "user_organizations"."joined_at", "user_organizations"."created_at", "organizations"."name", "organizations"."slug", "organizations"."parent_organization_id", "organizations"."is_active", "organizations"."created_at", "organizations"."updated_at", "organizations"."deleted_at" from "user_organizations" inner join "organizations" on "user_organizations"."organization_id" = "organizations"."organization_id" where ("user_organizations"."user_id" = $1 and "user_organizations"."is_active" = $2 and "organizations"."is_active" = $3) -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", true, true]
Query: select distinct "user_roles"."user_role_id", "user_roles"."user_id", "user_roles"."role_id", "user_roles"."organization_id", "user_roles"."granted_by", "user_roles"."granted_at", "user_roles"."expires_at", "user_roles"."is_active", "user_roles"."created_at", "roles"."name", "roles"."description", "roles"."organization_id", "roles"."is_system_role", "roles"."is_active", "roles"."created_at", "roles"."updated_at", "roles"."deleted_at", "permissions"."permission_id", "permissions"."name", "permissions"."description", "permissions"."resource", "permissions"."action", "permissions"."scope", "permissions"."is_active", "permissions"."created_at", "permissions"."updated_at" from "user_roles" inner join "roles" on "user_roles"."role_id" = "roles"."role_id" inner join "role_permissions" on "roles"."role_id" = "role_permissions"."role_id" inner join "permissions" on "role_permissions"."permission_id" = "permissions"."permission_id" where ("user_roles"."user_id" = $1 and "user_roles"."is_active" = $2 and "roles"."is_active" = $3 and "permissions"."is_active" = $4) -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", true, true, true]
{"@timestamp":"2025-10-15T20:35:43.252Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"user-context.ts","line":314,"function":"eval","correlationId":"cor_mgsgah32_hwtk31hi","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":208,"userId":"[UUID]","rolesCount":1,"permissionsCount":90,"organizationsCount":0,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:43.253Z","level":"DEBUG","message":"User context cache hit","service":"bendcare-os","env":"development","file":"user-context.ts","line":288,"function":"getUserContextSafe","correlationId":"cor_mgsgah32_s0hn7p6u","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":182,"userId":"[UUID]","operation":"getUserContext","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:43.253Z","level":"INFO","message":"API authentication successful","service":"bendcare-os","env":"development","file":"global-auth.ts","line":122,"function":"applyGlobalAuth","correlationId":"cor_mgsgah32_hwtk31hi","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","pathname":"/api/admin/analytics/dashboards","userId":"[UUID]","userEmail":"[REDACTED]","authMethod":"httponly_cookie","duration":135,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:43.253Z","level":"INFO","message":"API authentication successful","service":"bendcare-os","env":"development","file":"global-auth.ts","line":122,"function":"applyGlobalAuth","correlationId":"cor_mgsgah32_s0hn7p6u","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","pathname":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","userId":"[UUID]","userEmail":"[REDACTED]","authMethod":"httponly_cookie","duration":120,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:43.253Z","level":"INFO","message":"Global auth check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":71,"function":"eval","correlationId":"cor_mgsgah32_hwtk31hi","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":168,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:43.253Z","level":"DEBUG","message":"Global authentication completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":74,"function":"eval","correlationId":"cor_mgsgah32_hwtk31hi","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":209,"hasSession":true,"hasUser":true,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:43.253Z","level":"INFO","message":"User context retrieved from session","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":145,"function":"eval","correlationId":"cor_mgsgah32_hwtk31hi","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","cached":true,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:43.253Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":167,"function":"eval","correlationId":"cor_mgsgah32_hwtk31hi","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":209,"userId":"[UUID]","roleCount":1,"permissionCount":90,"isSuperAdmin":true,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:43.253Z","level":"INFO","message":"Global auth check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":71,"function":"eval","correlationId":"cor_mgsgah32_s0hn7p6u","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":151,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:43.253Z","level":"DEBUG","message":"Global authentication completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":74,"function":"eval","correlationId":"cor_mgsgah32_s0hn7p6u","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":182,"hasSession":true,"hasUser":true,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:43.253Z","level":"INFO","message":"User context retrieved from session","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":145,"function":"eval","correlationId":"cor_mgsgah32_s0hn7p6u","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","cached":true,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:43.253Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":167,"function":"eval","correlationId":"cor_mgsgah32_s0hn7p6u","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":182,"userId":"[UUID]","roleCount":1,"permissionCount":90,"isSuperAdmin":true,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:43.254Z","level":"INFO","message":"RBAC permission check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":183,"function":"eval","correlationId":"cor_mgsgah32_hwtk31hi","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","permissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"requireAll":false,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:43.254Z","level":"INFO","message":"RBAC permission check passed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":192,"function":"eval","correlationId":"cor_mgsgah32_hwtk31hi","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":210,"userId":"[UUID]","permissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"rbacDuration":0,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:43.254Z","level":"INFO","message":"Auth: rbac_check","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":199,"function":"eval","correlationId":"cor_mgsgah32_hwtk31hi","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":210,"component":"auth","action":"rbac_check","success":true,"userId":"[UUID]","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:43.254Z","level":"INFO","message":"RBAC permission check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":183,"function":"eval","correlationId":"cor_mgsgah32_s0hn7p6u","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1,"userId":"[UUID]","permissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"requireAll":false,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:43.254Z","level":"INFO","message":"RBAC permission check passed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":192,"function":"eval","correlationId":"cor_mgsgah32_s0hn7p6u","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":183,"userId":"[UUID]","permissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"rbacDuration":1,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:43.254Z","level":"INFO","message":"Auth: rbac_check","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":199,"function":"eval","correlationId":"cor_mgsgah32_s0hn7p6u","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":183,"component":"auth","action":"rbac_check","success":true,"userId":"[UUID]","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
Query: select "dashboards"."dashboard_id", "dashboards"."dashboard_name", "dashboards"."dashboard_description", "dashboards"."layout_config", "dashboards"."dashboard_category_id", "dashboards"."organization_id", "dashboards"."created_by", "dashboards"."created_at", "dashboards"."updated_at", "dashboards"."is_active", "dashboards"."is_published", "dashboards"."is_default", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "users"."user_id", "users"."first_name", "users"."last_name", "users"."email", count("dashboard_charts"."chart_definition_id") from "dashboards" left join "chart_categories" on "dashboards"."dashboard_category_id" = "chart_categories"."chart_category_id" left join "users" on "dashboards"."created_by" = "users"."user_id" left join "dashboard_charts" on "dashboards"."dashboard_id" = "dashboard_charts"."dashboard_id" where ("dashboards"."is_active" = $1 and "dashboards"."is_published" = $2) group by "dashboards"."dashboard_id", "dashboards"."dashboard_name", "dashboards"."dashboard_description", "dashboards"."layout_config", "dashboards"."dashboard_category_id", "dashboards"."organization_id", "dashboards"."created_by", "dashboards"."created_at", "dashboards"."updated_at", "dashboards"."is_active", "dashboards"."is_published", "dashboards"."is_default", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "users"."user_id", "users"."first_name", "users"."last_name", "users"."email" order by "dashboards"."created_at" desc limit $3 -- params: [true, true, 1000000]
{"@timestamp":"2025-10-15T20:35:43.255Z","level":"INFO","message":"Dashboard get request initiated","service":"bendcare-os","env":"development","file":"route.ts","line":30,"function":"getDashboardHandler","correlationId":"cor_mgsgah32_s0hn7p6u","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":184,"dashboardId":"[UUID]","requestingUserId":"[UUID]","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
Query: select "dashboards"."dashboard_id", "dashboards"."dashboard_name", "dashboards"."dashboard_description", "dashboards"."layout_config", "dashboards"."dashboard_category_id", "dashboards"."organization_id", "dashboards"."created_by", "dashboards"."created_at", "dashboards"."updated_at", "dashboards"."is_active", "dashboards"."is_published", "dashboards"."is_default", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "dashboards" left join "chart_categories" on "dashboards"."dashboard_category_id" = "chart_categories"."chart_category_id" left join "users" on "dashboards"."created_by" = "users"."user_id" where "dashboards"."dashboard_id" = $1 limit $2 -- params: ["6db475e1-ad7b-45ca-8845-226a0d9a3b0a", 1]
Query: select count(*) from "dashboard_charts" where "dashboard_charts"."dashboard_id" = $1 -- params: ["6db475e1-ad7b-45ca-8845-226a0d9a3b0a"]
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "dashboard_charts"."position_config" from "dashboard_charts" inner join "chart_definitions" on "dashboard_charts"."chart_definition_id" = "chart_definitions"."chart_definition_id" where "dashboard_charts"."dashboard_id" = $1 order by "dashboard_charts"."added_at" -- params: ["6db475e1-ad7b-45ca-8845-226a0d9a3b0a"]
{"@timestamp":"2025-10-15T20:35:43.261Z","level":"INFO","message":"dashboards list query completed - returned 8 of 8","service":"bendcare-os","env":"development","file":"rbac-dashboards-service.ts","line":211,"function":"RBACDashboardsServiceImpl.getDashboards","correlationId":"cor_mgsgah32_hwtk31hi","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","operation":"list_dashboards","resourceType":"dashboards","userId":"[UUID]","filters":{"is_active":true,"is_published":true},"filterCount":2,"results":{"returned":8,"total":8,"page":1},"empty":false,"duration":7,"slow":false,"component":"service","query":{"duration":7,"slow":false},"rbacScope":"all","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
Query: select count(*) from "dashboards" where ("dashboards"."is_active" = $1 and "dashboards"."is_published" = $2) -- params: [true, true]
{"@timestamp":"2025-10-15T20:35:43.262Z","level":"INFO","message":"dashboard retrieved successfully","service":"bendcare-os","env":"development","file":"rbac-dashboards-service.ts","line":336,"function":"RBACDashboardsServiceImpl.getDashboardById","correlationId":"cor_mgsgah32_s0hn7p6u","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","operation":"read_dashboard","resourceType":"dashboard","resourceId":"[UUID]","resourceName":"All Types","userId":"[UUID]","found":true,"duration":7,"slow":false,"component":"service","query":{"duration":3,"slow":false},"chartCountQuery":{"duration":2,"slow":false},"chartsQuery":{"duration":2,"slow":false},"chartCount":9,"rbacScope":"all","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:43.262Z","level":"DEBUG","message":"DB: SELECT on dashboards","service":"bendcare-os","env":"development","file":"route.ts","line":42,"function":"getDashboardHandler","correlationId":"cor_mgsgah32_s0hn7p6u","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","component":"database","operation":"SELECT","table":"dashboards","duration":7,"rowCount":1,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:43.262Z","level":"INFO","message":"Handler execution completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":205,"function":"eval","correlationId":"cor_mgsgah32_s0hn7p6u","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":8,"userId":"[UUID]","statusCode":200,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:43.262Z","level":"INFO","message":"RBAC route completed successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":211,"function":"eval","correlationId":"cor_mgsgah32_s0hn7p6u","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":191,"userId":"[UUID]","statusCode":200,"totalDuration":191,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
 GET /api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a 200 in 268ms
{"@timestamp":"2025-10-15T20:35:43.264Z","level":"INFO","message":"dashboards counted","service":"bendcare-os","env":"development","file":"rbac-dashboards-service.ts","line":366,"function":"RBACDashboardsServiceImpl.getDashboardCount","correlationId":"cor_mgsgah32_hwtk31hi","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","operation":"count_dashboards","userId":"[UUID]","filters":{"is_active":true,"is_published":true},"count":8,"duration":2,"metadata":{"query":{"duration":2,"slow":false},"rbacScope":"all","component":"service"},"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:43.264Z","level":"INFO","message":"dashboards list query completed - returned 8 of 8","service":"bendcare-os","env":"development","file":"route.ts","line":63,"function":"getDashboardsHandler","correlationId":"cor_mgsgah32_hwtk31hi","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","operation":"list_dashboards","resourceType":"dashboards","userId":"[UUID]","filters":{"is_active":true,"is_published":true},"filterCount":2,"results":{"returned":8,"total":8,"published":8,"draft":0,"hasDefault":true,"defaultDashboardId":"[UUID]","totalCharts":30,"averageChartsPerDashboard":4,"page":1,"pageSize":8},"duration":10,"slow":false,"component":"analytics","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:43.265Z","level":"INFO","message":"Handler execution completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":205,"function":"eval","correlationId":"cor_mgsgah32_hwtk31hi","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":11,"userId":"[UUID]","statusCode":200,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:43.265Z","level":"INFO","message":"RBAC route completed successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":211,"function":"eval","correlationId":"cor_mgsgah32_hwtk31hi","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":221,"userId":"[UUID]","statusCode":200,"totalDuration":221,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
 GET /api/admin/analytics/dashboards?is_published=true&is_active=true 200 in 288ms
{"@timestamp":"2025-10-15T20:35:43.301Z","level":"INFO","message":"GET /api/admin/analytics/charts - RBAC route","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":47,"function":"eval","correlationId":"cor_mgsgahbd_jbgjrt5e","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1,"component":"api","request":{},"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:43.301Z","level":"INFO","message":"RBAC route initiated","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":48,"function":"eval","correlationId":"cor_mgsgahbd_jbgjrt5e","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1,"endpoint":"/api/admin/analytics/charts","requiredPermissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"requireAllPermissions":false,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:43.418Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgsgahbd_jbgjrt5e","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":118,"type":"api","identifier":"::1","current":23,"remaining":177,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:43.418Z","level":"INFO","message":"Rate limit check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":61,"function":"eval","correlationId":"cor_mgsgahbd_jbgjrt5e","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":117,"limitType":"api","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:43.418Z","level":"DEBUG","message":"API auth check initiated","service":"bendcare-os","env":"development","file":"global-auth.ts","line":65,"function":"applyGlobalAuth","correlationId":"cor_mgsgahbd_jbgjrt5e","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":118,"pathname":"/api/admin/analytics/charts","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:43.438Z","level":"INFO","message":"Connecting to Redis","service":"bendcare-os","env":"development","file":"redis.ts","line":78,"function":"RedisClientManager.connect","component":"redis","host":"bcos-redis-dev-rt5vbv.serverless.use1.cache.amazonaws.com","port":6379,"username":"[REDACTED]","keyPrefix":"[REDACTED]","tls":true}
{"@timestamp":"2025-10-15T20:35:43.447Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgsgahbd_jbgjrt5e","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":147,"type":"api","identifier":"::1","current":24,"remaining":176,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:43.447Z","level":"DEBUG","message":"Using httpOnly cookie for authentication","service":"bendcare-os","env":"development","file":"global-auth.ts","line":100,"function":"applyGlobalAuth","correlationId":"cor_mgsgahbd_jbgjrt5e","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":147,"pathname":"/api/admin/analytics/charts","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:43.448Z","level":"DEBUG","message":"Using access token from httpOnly cookie","service":"bendcare-os","env":"development","file":"auth.ts","line":36,"function":"requireAuth","correlationId":"cor_mgsgahbd_jbgjrt5e","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":148,"component":"auth","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:43.511Z","level":"DEBUG","message":"User context cache hit","service":"bendcare-os","env":"development","file":"user-context.ts","line":288,"function":"getUserContextSafe","correlationId":"cor_mgsgahbd_jbgjrt5e","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":211,"userId":"[UUID]","operation":"getUserContext","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:43.511Z","level":"INFO","message":"API authentication successful","service":"bendcare-os","env":"development","file":"global-auth.ts","line":122,"function":"applyGlobalAuth","correlationId":"cor_mgsgahbd_jbgjrt5e","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","pathname":"/api/admin/analytics/charts","userId":"[UUID]","userEmail":"[REDACTED]","authMethod":"httponly_cookie","duration":63,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:43.511Z","level":"INFO","message":"Global auth check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":71,"function":"eval","correlationId":"cor_mgsgahbd_jbgjrt5e","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":93,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:43.511Z","level":"DEBUG","message":"Global authentication completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":74,"function":"eval","correlationId":"cor_mgsgahbd_jbgjrt5e","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":211,"hasSession":true,"hasUser":true,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:43.511Z","level":"INFO","message":"User context retrieved from session","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":145,"function":"eval","correlationId":"cor_mgsgahbd_jbgjrt5e","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","cached":true,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:43.511Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":167,"function":"eval","correlationId":"cor_mgsgahbd_jbgjrt5e","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":211,"userId":"[UUID]","roleCount":1,"permissionCount":90,"isSuperAdmin":true,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:43.511Z","level":"INFO","message":"RBAC permission check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":183,"function":"eval","correlationId":"cor_mgsgahbd_jbgjrt5e","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","permissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"requireAll":false,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:43.511Z","level":"INFO","message":"RBAC permission check passed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":192,"function":"eval","correlationId":"cor_mgsgahbd_jbgjrt5e","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":211,"userId":"[UUID]","permissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"rbacDuration":0,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:43.511Z","level":"INFO","message":"Auth: rbac_check","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":199,"function":"eval","correlationId":"cor_mgsgahbd_jbgjrt5e","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":211,"component":"auth","action":"rbac_check","success":true,"userId":"[UUID]","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "chart_definitions"."data_source", "chart_definitions"."chart_config", "chart_definitions"."access_control", "chart_definitions"."data_source_id", "chart_definitions"."chart_category_id", "chart_definitions"."created_by", "chart_definitions"."created_at", "chart_definitions"."updated_at", "chart_definitions"."is_active", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "chart_definitions" left join "chart_categories" on "chart_definitions"."chart_category_id" = "chart_categories"."chart_category_id" left join "users" on "chart_definitions"."created_by" = "users"."user_id" where "chart_definitions"."is_active" = $1 order by "chart_definitions"."created_at" desc limit $2 -- params: [true, 1000000]
Query: select count(*) from "chart_definitions" where "chart_definitions"."is_active" = $1 -- params: [true]
{"@timestamp":"2025-10-15T20:35:43.516Z","level":"INFO","message":"charts list query completed - returned 15 of 15","service":"bendcare-os","env":"development","file":"route.ts","line":50,"function":"getChartsHandler","correlationId":"cor_mgsgahbd_jbgjrt5e","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","operation":"list_charts","resourceType":"chart_definitions","userId":"[UUID]","filters":{"is_active":true},"filterCount":1,"results":{"returned":15,"total":15,"chartTypeBreakdown":{"bar":5,"number":3,"stacked-bar":2,"dual-axis":2,"progress-bar":1,"table":1,"horizontal-bar":1},"activeCount":15,"inactiveCount":0},"duration":4,"slow":false,"component":"analytics","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:43.516Z","level":"INFO","message":"Handler execution completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":205,"function":"eval","correlationId":"cor_mgsgahbd_jbgjrt5e","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":5,"userId":"[UUID]","statusCode":200,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:43.516Z","level":"INFO","message":"RBAC route completed successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":211,"function":"eval","correlationId":"cor_mgsgahbd_jbgjrt5e","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":216,"userId":"[UUID]","statusCode":200,"totalDuration":216,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
 GET /api/admin/analytics/charts?is_active=true 200 in 243ms
🌐 MIDDLEWARE: ✓ CSRF validated for POST /api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render
{"@timestamp":"2025-10-15T20:35:43.526Z","level":"DEBUG","message":"Request sanitization completed","service":"bendcare-os","env":"development","file":"request-sanitization.ts","line":232,"function":"sanitizeRequestBody","duration":0,"hasErrors":false,"errorCount":0}
{"@timestamp":"2025-10-15T20:35:43.534Z","level":"INFO","message":"Redis connected successfully","service":"bendcare-os","env":"development","file":"redis.ts","line":109,"function":"EventEmitter.eval","component":"redis","host":"[REDACTED]","port":6379}
{"@timestamp":"2025-10-15T20:35:43.566Z","level":"INFO","message":"Registering chart type handlers","service":"bendcare-os","env":"development","file":"index.ts","line":43,"function":"registerAllHandlers"}
{"@timestamp":"2025-10-15T20:35:43.566Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"line","totalHandlers":1}
{"@timestamp":"2025-10-15T20:35:43.566Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"bar","totalHandlers":2}
{"@timestamp":"2025-10-15T20:35:43.566Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"pie","totalHandlers":3}
{"@timestamp":"2025-10-15T20:35:43.567Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"table","totalHandlers":4}
{"@timestamp":"2025-10-15T20:35:43.567Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"number","totalHandlers":5}
{"@timestamp":"2025-10-15T20:35:43.567Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"progress-bar","totalHandlers":6}
{"@timestamp":"2025-10-15T20:35:43.567Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"dual-axis","totalHandlers":7}
{"@timestamp":"2025-10-15T20:35:43.567Z","level":"INFO","message":"Chart type handlers registered successfully","service":"bendcare-os","env":"development","file":"index.ts","line":66,"function":"registerAllHandlers","count":7,"types":["line","bar","pie","table","number","progress-bar","dual-axis"]}
{"@timestamp":"2025-10-15T20:35:43.570Z","level":"INFO","message":"POST /api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render - RBAC route","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":47,"function":"eval","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"component":"api","request":{},"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.570Z","level":"INFO","message":"RBAC route initiated","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":48,"function":"eval","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"endpoint":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","requiredPermissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"requireAllPermissions":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.565Z","level":"INFO","message":"Redis ready for commands","service":"bendcare-os","env":"development","file":"redis.ts","line":119,"function":"EventEmitter.eval","component":"redis"}
{"@timestamp":"2025-10-15T20:35:43.602Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":32,"type":"api","identifier":"::1","current":25,"remaining":175,"limit":200,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.602Z","level":"INFO","message":"Rate limit check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":61,"function":"eval","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":32,"limitType":"api","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.602Z","level":"DEBUG","message":"API auth check initiated","service":"bendcare-os","env":"development","file":"global-auth.ts","line":65,"function":"applyGlobalAuth","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":32,"pathname":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.635Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":65,"type":"api","identifier":"::1","current":26,"remaining":174,"limit":200,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.635Z","level":"DEBUG","message":"Using httpOnly cookie for authentication","service":"bendcare-os","env":"development","file":"global-auth.ts","line":100,"function":"applyGlobalAuth","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":65,"pathname":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.635Z","level":"DEBUG","message":"Using access token from httpOnly cookie","service":"bendcare-os","env":"development","file":"auth.ts","line":36,"function":"requireAuth","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":65,"component":"auth","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.698Z","level":"DEBUG","message":"User context cache hit","service":"bendcare-os","env":"development","file":"user-context.ts","line":288,"function":"getUserContextSafe","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":128,"userId":"[UUID]","operation":"getUserContext","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.699Z","level":"INFO","message":"API authentication successful","service":"bendcare-os","env":"development","file":"global-auth.ts","line":122,"function":"applyGlobalAuth","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","pathname":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","userId":"[UUID]","userEmail":"[REDACTED]","authMethod":"httponly_cookie","duration":64,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.699Z","level":"INFO","message":"Global auth check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":71,"function":"eval","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":97,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.699Z","level":"DEBUG","message":"Global authentication completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":74,"function":"eval","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":129,"hasSession":true,"hasUser":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.699Z","level":"INFO","message":"User context retrieved from session","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":145,"function":"eval","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","cached":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.699Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":167,"function":"eval","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":129,"userId":"[UUID]","roleCount":1,"permissionCount":90,"isSuperAdmin":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.699Z","level":"INFO","message":"RBAC permission check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":183,"function":"eval","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","permissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"requireAll":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.699Z","level":"INFO","message":"RBAC permission check passed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":192,"function":"eval","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":129,"userId":"[UUID]","permissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"rbacDuration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.699Z","level":"INFO","message":"Auth: rbac_check","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":199,"function":"eval","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":129,"component":"auth","action":"rbac_check","success":true,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
Error: Route "/api/admin/analytics/dashboard/[dashboardId]/render" used `params.dashboardId`. `params` should be awaited before using its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis
    at renderDashboardHandler (app/api/admin/analytics/dashboard/[dashboardId]/render/route.ts:47:11)
    at eval (lib/api/rbac-route-handler.ts:261:32)
  45 |   const startTime = Date.now();
  46 |   const { params } = args[0] as RenderDashboardParams;
> 47 |   const { dashboardId } = params;
     |           ^
  48 |
  49 |   log.info('Dashboard batch render request initiated', {
  50 |     dashboardId,
{"@timestamp":"2025-10-15T20:35:43.735Z","level":"INFO","message":"Dashboard batch render request initiated","service":"bendcare-os","env":"development","file":"route.ts","line":25,"function":"renderDashboardHandler","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":165,"dashboardId":"[UUID]","userId":"[UUID]","component":"analytics","operation":"batch_render","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.736Z","level":"INFO","message":"Dashboard universal filters applied","service":"bendcare-os","env":"development","file":"route.ts","line":40,"function":"renderDashboardHandler","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":166,"dashboardId":"[UUID]","filters":{"hasDateRange":false,"dateRangePreset":"ytd"},"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.736Z","level":"INFO","message":"Dashboard batch render initiated","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":55,"function":"DashboardRenderer.renderDashboard","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":166,"dashboardId":"[UUID]","userId":"[UUID]","hasUniversalFilters":true,"organizationFilter":null,"queryDeduplicationEnabled":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
Query: select "dashboards"."dashboard_id", "dashboards"."dashboard_name", "dashboards"."dashboard_description", "dashboards"."layout_config", "dashboards"."dashboard_category_id", "dashboards"."organization_id", "dashboards"."created_by", "dashboards"."created_at", "dashboards"."updated_at", "dashboards"."is_active", "dashboards"."is_published", "dashboards"."is_default", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "dashboards" left join "chart_categories" on "dashboards"."dashboard_category_id" = "chart_categories"."chart_category_id" left join "users" on "dashboards"."created_by" = "users"."user_id" where "dashboards"."dashboard_id" = $1 limit $2 -- params: ["6db475e1-ad7b-45ca-8845-226a0d9a3b0a", 1]
Query: select count(*) from "dashboard_charts" where "dashboard_charts"."dashboard_id" = $1 -- params: ["6db475e1-ad7b-45ca-8845-226a0d9a3b0a"]
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "dashboard_charts"."position_config" from "dashboard_charts" inner join "chart_definitions" on "dashboard_charts"."chart_definition_id" = "chart_definitions"."chart_definition_id" where "dashboard_charts"."dashboard_id" = $1 order by "dashboard_charts"."added_at" -- params: ["6db475e1-ad7b-45ca-8845-226a0d9a3b0a"]
{"@timestamp":"2025-10-15T20:35:43.747Z","level":"INFO","message":"dashboard retrieved successfully","service":"bendcare-os","env":"development","file":"rbac-dashboards-service.ts","line":336,"function":"RBACDashboardsServiceImpl.getDashboardById","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","operation":"read_dashboard","resourceType":"dashboard","resourceId":"[UUID]","resourceName":"All Types","userId":"[UUID]","found":true,"duration":11,"slow":false,"component":"service","query":{"duration":8,"slow":false},"chartCountQuery":{"duration":1,"slow":false},"chartsQuery":{"duration":2,"slow":false},"chartCount":9,"rbacScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "chart_definitions"."data_source", "chart_definitions"."chart_config", "chart_definitions"."access_control", "chart_definitions"."data_source_id", "chart_definitions"."chart_category_id", "chart_definitions"."created_by", "chart_definitions"."created_at", "chart_definitions"."updated_at", "chart_definitions"."is_active", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "chart_definitions" left join "chart_categories" on "chart_definitions"."chart_category_id" = "chart_categories"."chart_category_id" left join "users" on "chart_definitions"."created_by" = "users"."user_id" where "chart_definitions"."chart_definition_id" = $1 limit $2 -- params: ["0028fc86-2082-4522-b52c-673d75e7814f", 1]
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "chart_definitions"."data_source", "chart_definitions"."chart_config", "chart_definitions"."access_control", "chart_definitions"."data_source_id", "chart_definitions"."chart_category_id", "chart_definitions"."created_by", "chart_definitions"."created_at", "chart_definitions"."updated_at", "chart_definitions"."is_active", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "chart_definitions" left join "chart_categories" on "chart_definitions"."chart_category_id" = "chart_categories"."chart_category_id" left join "users" on "chart_definitions"."created_by" = "users"."user_id" where "chart_definitions"."chart_definition_id" = $1 limit $2 -- params: ["610281e2-0f74-4bdb-a35c-a99892c74881", 1]
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "chart_definitions"."data_source", "chart_definitions"."chart_config", "chart_definitions"."access_control", "chart_definitions"."data_source_id", "chart_definitions"."chart_category_id", "chart_definitions"."created_by", "chart_definitions"."created_at", "chart_definitions"."updated_at", "chart_definitions"."is_active", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "chart_definitions" left join "chart_categories" on "chart_definitions"."chart_category_id" = "chart_categories"."chart_category_id" left join "users" on "chart_definitions"."created_by" = "users"."user_id" where "chart_definitions"."chart_definition_id" = $1 limit $2 -- params: ["60ffd8fd-d938-4256-8d9e-d4d0e0ae7164", 1]
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "chart_definitions"."data_source", "chart_definitions"."chart_config", "chart_definitions"."access_control", "chart_definitions"."data_source_id", "chart_definitions"."chart_category_id", "chart_definitions"."created_by", "chart_definitions"."created_at", "chart_definitions"."updated_at", "chart_definitions"."is_active", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "chart_definitions" left join "chart_categories" on "chart_definitions"."chart_category_id" = "chart_categories"."chart_category_id" left join "users" on "chart_definitions"."created_by" = "users"."user_id" where "chart_definitions"."chart_definition_id" = $1 limit $2 -- params: ["51c68586-3a63-4bb4-bc49-02fb20ba6faa", 1]
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "chart_definitions"."data_source", "chart_definitions"."chart_config", "chart_definitions"."access_control", "chart_definitions"."data_source_id", "chart_definitions"."chart_category_id", "chart_definitions"."created_by", "chart_definitions"."created_at", "chart_definitions"."updated_at", "chart_definitions"."is_active", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "chart_definitions" left join "chart_categories" on "chart_definitions"."chart_category_id" = "chart_categories"."chart_category_id" left join "users" on "chart_definitions"."created_by" = "users"."user_id" where "chart_definitions"."chart_definition_id" = $1 limit $2 -- params: ["f7af2586-89c1-4fa2-beaf-d243959df179", 1]
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "chart_definitions"."data_source", "chart_definitions"."chart_config", "chart_definitions"."access_control", "chart_definitions"."data_source_id", "chart_definitions"."chart_category_id", "chart_definitions"."created_by", "chart_definitions"."created_at", "chart_definitions"."updated_at", "chart_definitions"."is_active", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "chart_definitions" left join "chart_categories" on "chart_definitions"."chart_category_id" = "chart_categories"."chart_category_id" left join "users" on "chart_definitions"."created_by" = "users"."user_id" where "chart_definitions"."chart_definition_id" = $1 limit $2 -- params: ["b0f26439-c29e-4880-8e87-6903e64564de", 1]
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "chart_definitions"."data_source", "chart_definitions"."chart_config", "chart_definitions"."access_control", "chart_definitions"."data_source_id", "chart_definitions"."chart_category_id", "chart_definitions"."created_by", "chart_definitions"."created_at", "chart_definitions"."updated_at", "chart_definitions"."is_active", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "chart_definitions" left join "chart_categories" on "chart_definitions"."chart_category_id" = "chart_categories"."chart_category_id" left join "users" on "chart_definitions"."created_by" = "users"."user_id" where "chart_definitions"."chart_definition_id" = $1 limit $2 -- params: ["f93a786b-6de8-4398-92c7-282ed4fb7818", 1]
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "chart_definitions"."data_source", "chart_definitions"."chart_config", "chart_definitions"."access_control", "chart_definitions"."data_source_id", "chart_definitions"."chart_category_id", "chart_definitions"."created_by", "chart_definitions"."created_at", "chart_definitions"."updated_at", "chart_definitions"."is_active", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "chart_definitions" left join "chart_categories" on "chart_definitions"."chart_category_id" = "chart_categories"."chart_category_id" left join "users" on "chart_definitions"."created_by" = "users"."user_id" where "chart_definitions"."chart_definition_id" = $1 limit $2 -- params: ["3b78a662-bee2-4128-a9f4-4b42c74a3ee1", 1]
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "chart_definitions"."data_source", "chart_definitions"."chart_config", "chart_definitions"."access_control", "chart_definitions"."data_source_id", "chart_definitions"."chart_category_id", "chart_definitions"."created_by", "chart_definitions"."created_at", "chart_definitions"."updated_at", "chart_definitions"."is_active", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "chart_definitions" left join "chart_categories" on "chart_definitions"."chart_category_id" = "chart_categories"."chart_category_id" left join "users" on "chart_definitions"."created_by" = "users"."user_id" where "chart_definitions"."chart_definition_id" = $1 limit $2 -- params: ["13eb537d-ae9f-4041-941b-1f492b45fdc2", 1]
{"@timestamp":"2025-10-15T20:35:43.753Z","level":"INFO","message":"Dashboard charts loaded","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":136,"function":"DashboardRenderer.renderDashboard","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":184,"dashboardId":"[UUID]","totalCharts":9,"validCharts":9,"chartTypes":["stacked-bar","number","bar","number","stacked-bar","dual-axis","dual-axis","bar","bar"],"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.754Z","level":"INFO","message":"Processing chart in batch","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":154,"function":"eval","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":184,"chartId":"[UUID]","chartName":"Stacked Bar","chartType":"stacked-bar","batchSupported":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.754Z","level":"INFO","message":"Batch chart config prepared","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":222,"function":"eval","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":184,"chartId":"[UUID]","chartType":"stacked-bar","chartName":"Stacked Bar","hasGroupBy":true,"groupByValue":"provider_name","hasDualAxisConfig":false,"hasAggregation":false,"runtimeFilterKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.754Z","level":"DEBUG","message":"Query hash generated","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":95,"function":"generateQueryHash","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":184,"dataSourceId":3,"measure":"Cash Transfer","frequency":"Monthly","hashLength":64,"signatureKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.754Z","level":"INFO","message":"Query cache miss - executing query","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":161,"function":"DashboardQueryCache.get","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":184,"queryHash":"d2abb5de1a277710","cacheSize":0,"deduplication":"miss","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.755Z","level":"INFO","message":"Processing chart in batch","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":154,"function":"eval","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":185,"chartId":"[UUID]","chartName":"Big Angry","chartType":"number","batchSupported":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.755Z","level":"INFO","message":"Batch chart config prepared","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":222,"function":"eval","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":185,"chartId":"[UUID]","chartType":"number","chartName":"Big Angry","hasGroupBy":false,"hasDualAxisConfig":false,"hasAggregation":false,"runtimeFilterKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.755Z","level":"DEBUG","message":"Query hash generated","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":95,"function":"generateQueryHash","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":185,"dataSourceId":3,"measure":"Cash Transfer","frequency":"Monthly","hashLength":64,"signatureKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.755Z","level":"INFO","message":"Query cache miss - executing query","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":161,"function":"DashboardQueryCache.get","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":185,"queryHash":"10a9a3ae557b2c54","cacheSize":1,"deduplication":"miss","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.755Z","level":"INFO","message":"Processing chart in batch","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":154,"function":"eval","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":185,"chartId":"[UUID]","chartName":"Charges by Provider","chartType":"bar","batchSupported":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.755Z","level":"INFO","message":"Batch chart config prepared","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":222,"function":"eval","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":185,"chartId":"[UUID]","chartType":"bar","chartName":"Charges by Provider","hasGroupBy":true,"groupByValue":"provider_name","hasDualAxisConfig":false,"hasAggregation":false,"runtimeFilterKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.755Z","level":"DEBUG","message":"Query hash generated","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":95,"function":"generateQueryHash","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":185,"dataSourceId":1,"measure":"Charges by Provider","hashLength":64,"signatureKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.755Z","level":"INFO","message":"Query cache miss - executing query","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":161,"function":"DashboardQueryCache.get","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":185,"queryHash":"[PHONE]","cacheSize":2,"deduplication":"miss","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.755Z","level":"INFO","message":"Processing chart in batch","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":154,"function":"eval","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":185,"chartId":"[UUID]","chartName":"Cancellations - YTD","chartType":"number","batchSupported":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.755Z","level":"INFO","message":"Batch chart config prepared","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":222,"function":"eval","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":185,"chartId":"[UUID]","chartType":"number","chartName":"Cancellations - YTD","hasGroupBy":false,"hasDualAxisConfig":false,"hasAggregation":false,"runtimeFilterKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.755Z","level":"DEBUG","message":"Query hash generated","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":95,"function":"generateQueryHash","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":185,"dataSourceId":3,"measure":"Cancellations","frequency":"Monthly","hashLength":64,"signatureKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.755Z","level":"INFO","message":"Query cache miss - executing query","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":161,"function":"DashboardQueryCache.get","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":185,"queryHash":"1689dd20ef08bd1b","cacheSize":3,"deduplication":"miss","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.755Z","level":"INFO","message":"Processing chart in batch","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":154,"function":"eval","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":185,"chartId":"[UUID]","chartName":"Cancellations by Provider","chartType":"stacked-bar","batchSupported":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.756Z","level":"INFO","message":"Batch chart config prepared","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":222,"function":"eval","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":186,"chartId":"[UUID]","chartType":"stacked-bar","chartName":"Cancellations by Provider","hasGroupBy":true,"groupByValue":"provider_name","hasDualAxisConfig":false,"hasAggregation":false,"runtimeFilterKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.756Z","level":"DEBUG","message":"Query hash generated","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":95,"function":"generateQueryHash","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":186,"dataSourceId":3,"measure":"Cancellations","frequency":"Weekly","hashLength":64,"signatureKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.756Z","level":"INFO","message":"Query cache miss - executing query","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":161,"function":"DashboardQueryCache.get","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":186,"queryHash":"387675e67713b58e","cacheSize":4,"deduplication":"miss","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.756Z","level":"INFO","message":"Processing chart in batch","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":154,"function":"eval","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":186,"chartId":"[UUID]","chartName":"dual2","chartType":"dual-axis","batchSupported":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.756Z","level":"INFO","message":"Batch chart config prepared","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":222,"function":"eval","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":186,"chartId":"[UUID]","chartType":"dual-axis","chartName":"dual2","hasGroupBy":true,"groupByValue":"practice","hasDualAxisConfig":true,"hasAggregation":false,"runtimeFilterKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.756Z","level":"DEBUG","message":"Query hash generated","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":95,"function":"generateQueryHash","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":186,"dataSourceId":3,"hashLength":64,"signatureKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.756Z","level":"INFO","message":"Query cache miss - executing query","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":161,"function":"DashboardQueryCache.get","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":186,"queryHash":"b66f80418ed50fbb","cacheSize":5,"deduplication":"miss","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.756Z","level":"INFO","message":"Processing chart in batch","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":154,"function":"eval","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":186,"chartId":"[UUID]","chartName":"Dual","chartType":"dual-axis","batchSupported":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.756Z","level":"INFO","message":"Batch chart config prepared","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":222,"function":"eval","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":186,"chartId":"[UUID]","chartType":"dual-axis","chartName":"Dual","hasGroupBy":true,"groupByValue":"provider_name","hasDualAxisConfig":true,"hasAggregation":false,"runtimeFilterKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.756Z","level":"DEBUG","message":"Query hash generated","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":95,"function":"generateQueryHash","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":186,"dataSourceId":3,"hashLength":64,"signatureKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.756Z","level":"INFO","message":"Query cache hit","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":147,"function":"DashboardQueryCache.get","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":186,"queryHash":"b66f80418ed50fbb","cacheSize":6,"deduplication":"hit","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.756Z","level":"INFO","message":"Processing chart in batch","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":154,"function":"eval","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":186,"chartId":"[UUID]","chartName":"Charges vs Payments","chartType":"bar","batchSupported":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.756Z","level":"INFO","message":"Batch chart config prepared","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":222,"function":"eval","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":186,"chartId":"[UUID]","chartType":"bar","chartName":"Charges vs Payments","hasGroupBy":true,"groupByValue":"provider_name","hasDualAxisConfig":false,"hasAggregation":false,"runtimeFilterKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.756Z","level":"DEBUG","message":"Query hash generated","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":95,"function":"generateQueryHash","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":186,"dataSourceId":1,"measure":"Charges by Provider","frequency":"Monthly","hashLength":64,"signatureKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.756Z","level":"INFO","message":"Query cache miss - executing query","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":161,"function":"DashboardQueryCache.get","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":186,"queryHash":"027ad3aaee202983","cacheSize":6,"deduplication":"miss","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.756Z","level":"INFO","message":"Processing chart in batch","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":154,"function":"eval","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":186,"chartId":"[UUID]","chartName":"Daily Cash Transfer","chartType":"bar","batchSupported":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.757Z","level":"INFO","message":"Batch chart config prepared","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":222,"function":"eval","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":187,"chartId":"[UUID]","chartType":"bar","chartName":"Daily Cash Transfer","hasGroupBy":true,"groupByValue":"practice","hasDualAxisConfig":false,"hasAggregation":false,"runtimeFilterKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.757Z","level":"DEBUG","message":"Query hash generated","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":95,"function":"generateQueryHash","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":187,"dataSourceId":3,"measure":"Cash Transfer","frequency":"Daily","hashLength":64,"signatureKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.757Z","level":"INFO","message":"Query cache miss - executing query","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":161,"function":"DashboardQueryCache.get","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":187,"queryHash":"8e7c29d2516bf193","cacheSize":7,"deduplication":"miss","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.757Z","level":"INFO","message":"Chart configuration resolved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":28,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":187,"chartType":"stacked-bar","dataSourceId":3,"hasRuntimeFilters":true,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.757Z","level":"INFO","message":"Chart configuration resolved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":28,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":187,"chartType":"number","dataSourceId":3,"hasRuntimeFilters":true,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.757Z","level":"INFO","message":"Chart configuration resolved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":28,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":187,"chartType":"bar","dataSourceId":1,"hasRuntimeFilters":true,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.757Z","level":"INFO","message":"Chart configuration resolved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":28,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":187,"chartType":"number","dataSourceId":3,"hasRuntimeFilters":true,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.757Z","level":"INFO","message":"Chart configuration resolved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":28,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":187,"chartType":"stacked-bar","dataSourceId":3,"hasRuntimeFilters":true,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.757Z","level":"INFO","message":"Chart configuration resolved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":28,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":187,"chartType":"dual-axis","dataSourceId":3,"hasRuntimeFilters":true,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.757Z","level":"INFO","message":"Chart configuration resolved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":28,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":187,"chartType":"bar","dataSourceId":1,"hasRuntimeFilters":true,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.757Z","level":"INFO","message":"Chart configuration resolved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":28,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":187,"chartType":"bar","dataSourceId":3,"hasRuntimeFilters":true,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
Query: select "data_source_id", "data_source_name", "data_source_description", "table_name", "schema_name", "database_type", "connection_config", "is_active", "requires_auth", "created_at", "updated_at", "created_by" from "chart_data_sources" where "chart_data_sources"."data_source_id" = $1 -- params: [3]
Query: select "data_source_id", "data_source_name", "data_source_description", "table_name", "schema_name", "database_type", "connection_config", "is_active", "requires_auth", "created_at", "updated_at", "created_by" from "chart_data_sources" where "chart_data_sources"."data_source_id" = $1 -- params: [3]
Query: select "data_source_id", "data_source_name", "data_source_description", "table_name", "schema_name", "database_type", "connection_config", "is_active", "requires_auth", "created_at", "updated_at", "created_by" from "chart_data_sources" where "chart_data_sources"."data_source_id" = $1 -- params: [1]
Query: select "data_source_id", "data_source_name", "data_source_description", "table_name", "schema_name", "database_type", "connection_config", "is_active", "requires_auth", "created_at", "updated_at", "created_by" from "chart_data_sources" where "chart_data_sources"."data_source_id" = $1 -- params: [3]
Query: select "data_source_id", "data_source_name", "data_source_description", "table_name", "schema_name", "database_type", "connection_config", "is_active", "requires_auth", "created_at", "updated_at", "created_by" from "chart_data_sources" where "chart_data_sources"."data_source_id" = $1 -- params: [3]
Query: select "data_source_id", "data_source_name", "data_source_description", "table_name", "schema_name", "database_type", "connection_config", "is_active", "requires_auth", "created_at", "updated_at", "created_by" from "chart_data_sources" where "chart_data_sources"."data_source_id" = $1 -- params: [3]
Query: select "data_source_id", "data_source_name", "data_source_description", "table_name", "schema_name", "database_type", "connection_config", "is_active", "requires_auth", "created_at", "updated_at", "created_by" from "chart_data_sources" where "chart_data_sources"."data_source_id" = $1 -- params: [1]
Query: select "data_source_id", "data_source_name", "data_source_description", "table_name", "schema_name", "database_type", "connection_config", "is_active", "requires_auth", "created_at", "updated_at", "created_by" from "chart_data_sources" where "chart_data_sources"."data_source_id" = $1 -- params: [3]
Query: select count(*) from "chart_data_source_columns" where ("chart_data_source_columns"."data_source_id" = $1 and "chart_data_source_columns"."is_active" = $2) -- params: [1, true]
Query: select count(*) from "chart_data_source_columns" where ("chart_data_source_columns"."data_source_id" = $1 and "chart_data_source_columns"."is_active" = $2) -- params: [3, true]
Query: select count(*) from "chart_data_source_columns" where ("chart_data_source_columns"."data_source_id" = $1 and "chart_data_source_columns"."is_active" = $2) -- params: [3, true]
Query: select count(*) from "chart_data_source_columns" where ("chart_data_source_columns"."data_source_id" = $1 and "chart_data_source_columns"."is_active" = $2) -- params: [3, true]
Query: select count(*) from "chart_data_source_columns" where ("chart_data_source_columns"."data_source_id" = $1 and "chart_data_source_columns"."is_active" = $2) -- params: [3, true]
Query: select count(*) from "chart_data_source_columns" where ("chart_data_source_columns"."data_source_id" = $1 and "chart_data_source_columns"."is_active" = $2) -- params: [3, true]
Query: select count(*) from "chart_data_source_columns" where ("chart_data_source_columns"."data_source_id" = $1 and "chart_data_source_columns"."is_active" = $2) -- params: [3, true]
Query: select count(*) from "chart_data_source_columns" where ("chart_data_source_columns"."data_source_id" = $1 and "chart_data_source_columns"."is_active" = $2) -- params: [1, true]
{"@timestamp":"2025-10-15T20:35:43.761Z","level":"INFO","message":"Data source access check passed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":207,"function":"ChartDataOrchestrator.verifyDataSourceAccess","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":191,"dataSourceId":3,"dataSourceName":"App Measures with Entities","userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.761Z","level":"INFO","message":"Data source access verified","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":36,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":191,"dataSourceId":3,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.761Z","level":"INFO","message":"Runtime filters merged","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":42,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":191,"chartType":"stacked-bar","hasStartDate":true,"hasEndDate":true,"hasPracticeUid":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.761Z","level":"DEBUG","message":"Handler found via canHandle() method","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":52,"function":"ChartTypeRegistry.getHandler","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":191,"chartType":"stacked-bar","handlerType":"bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.761Z","level":"INFO","message":"Chart handler retrieved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":55,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":191,"chartType":"stacked-bar","handlerType":"bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.761Z","level":"INFO","message":"Chart configuration validated","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":64,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":191,"chartType":"stacked-bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.761Z","level":"INFO","message":"Fetching chart data with Redis cache integration","service":"bendcare-os","env":"development","file":"base-handler.ts","line":42,"function":"BarChartHandler.fetchData","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":191,"chartType":"bar","dataSourceId":3,"userId":"[UUID]","hasDataSourceId":true,"note":"Passing UserContext to enable Redis cache path","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.762Z","level":"INFO","message":"Building analytics query with caching","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":325,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":192,"params":{"data_source_id":3,"start_date":"2025-01-01","end_date":"2025-10-15","limit":10000,"measure":"Cash Transfer","frequency":"Monthly","advanced_filters":[]},"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.762Z","level":"INFO","message":"Data source access check passed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":207,"function":"ChartDataOrchestrator.verifyDataSourceAccess","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":192,"dataSourceId":3,"dataSourceName":"App Measures with Entities","userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.762Z","level":"INFO","message":"Data source access verified","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":36,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":192,"dataSourceId":3,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.762Z","level":"INFO","message":"Runtime filters merged","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":42,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":192,"chartType":"number","hasStartDate":true,"hasEndDate":true,"hasPracticeUid":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.762Z","level":"INFO","message":"Chart handler retrieved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":55,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":192,"chartType":"number","handlerType":"number","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.762Z","level":"INFO","message":"Chart configuration validated","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":64,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":192,"chartType":"number","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.762Z","level":"INFO","message":"Fetching chart data with Redis cache integration","service":"bendcare-os","env":"development","file":"base-handler.ts","line":42,"function":"MetricChartHandler.fetchData","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":192,"chartType":"number","dataSourceId":3,"userId":"[UUID]","hasDataSourceId":true,"note":"Passing UserContext to enable Redis cache path","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.762Z","level":"INFO","message":"Building analytics query with caching","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":325,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":192,"params":{"data_source_id":3,"start_date":"2025-01-01","end_date":"2025-10-15","limit":10000,"measure":"Cancellations","frequency":"Monthly","advanced_filters":[]},"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.763Z","level":"INFO","message":"Data source access check passed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":207,"function":"ChartDataOrchestrator.verifyDataSourceAccess","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":193,"dataSourceId":1,"dataSourceName":"Practice Analytics","userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.763Z","level":"INFO","message":"Data source access verified","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":36,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":193,"dataSourceId":1,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.763Z","level":"INFO","message":"Runtime filters merged","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":42,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":193,"chartType":"bar","hasStartDate":true,"hasEndDate":true,"hasPracticeUid":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.763Z","level":"INFO","message":"Chart handler retrieved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":55,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":193,"chartType":"bar","handlerType":"bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.763Z","level":"INFO","message":"Chart configuration validated","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":64,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":193,"chartType":"bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.763Z","level":"INFO","message":"Fetching chart data with Redis cache integration","service":"bendcare-os","env":"development","file":"base-handler.ts","line":42,"function":"BarChartHandler.fetchData","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":193,"chartType":"bar","dataSourceId":1,"userId":"[UUID]","hasDataSourceId":true,"note":"Passing UserContext to enable Redis cache path","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.763Z","level":"INFO","message":"Building analytics query with caching","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":325,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":193,"params":{"data_source_id":1,"start_date":"2025-01-01","end_date":"2025-10-15","limit":10000,"measure":"Charges by Provider","advanced_filters":[]},"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.763Z","level":"INFO","message":"Data source access check passed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":207,"function":"ChartDataOrchestrator.verifyDataSourceAccess","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":193,"dataSourceId":3,"dataSourceName":"App Measures with Entities","userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.763Z","level":"INFO","message":"Data source access verified","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":36,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":193,"dataSourceId":3,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.763Z","level":"INFO","message":"Runtime filters merged","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":42,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":193,"chartType":"stacked-bar","hasStartDate":true,"hasEndDate":true,"hasPracticeUid":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.763Z","level":"DEBUG","message":"Handler found via canHandle() method","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":52,"function":"ChartTypeRegistry.getHandler","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":193,"chartType":"stacked-bar","handlerType":"bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.763Z","level":"INFO","message":"Chart handler retrieved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":55,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":193,"chartType":"stacked-bar","handlerType":"bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.763Z","level":"INFO","message":"Chart configuration validated","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":64,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":193,"chartType":"stacked-bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.763Z","level":"INFO","message":"Fetching chart data with Redis cache integration","service":"bendcare-os","env":"development","file":"base-handler.ts","line":42,"function":"BarChartHandler.fetchData","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":193,"chartType":"bar","dataSourceId":3,"userId":"[UUID]","hasDataSourceId":true,"note":"Passing UserContext to enable Redis cache path","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.763Z","level":"INFO","message":"Building analytics query with caching","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":325,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":193,"params":{"data_source_id":3,"start_date":"2025-01-01","end_date":"2025-10-15","limit":10000,"measure":"Cancellations","frequency":"Weekly","practice_uid":114,"advanced_filters":[]},"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.763Z","level":"INFO","message":"Data source access check passed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":207,"function":"ChartDataOrchestrator.verifyDataSourceAccess","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":193,"dataSourceId":3,"dataSourceName":"App Measures with Entities","userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.764Z","level":"INFO","message":"Data source access verified","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":36,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":194,"dataSourceId":3,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.764Z","level":"INFO","message":"Runtime filters merged","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":42,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":194,"chartType":"dual-axis","hasStartDate":true,"hasEndDate":true,"hasPracticeUid":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.764Z","level":"INFO","message":"Chart handler retrieved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":55,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":194,"chartType":"dual-axis","handlerType":"dual-axis","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.764Z","level":"INFO","message":"Chart configuration validated","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":64,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":194,"chartType":"dual-axis","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.764Z","level":"INFO","message":"Fetching dual-axis data in parallel","service":"bendcare-os","env":"development","file":"combo-handler.ts","line":51,"function":"ComboChartHandler.fetchData","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":194,"chartType":"dual-axis","primaryMeasure":"Cancellations","secondaryMeasure":"Cash Transfer","userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.764Z","level":"INFO","message":"Fetching chart data with Redis cache integration","service":"bendcare-os","env":"development","file":"base-handler.ts","line":42,"function":"ComboChartHandler.fetchData","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":194,"chartType":"dual-axis","dataSourceId":3,"userId":"[UUID]","hasDataSourceId":true,"note":"Passing UserContext to enable Redis cache path","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.764Z","level":"INFO","message":"Building analytics query with caching","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":325,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":194,"params":{"data_source_id":3,"start_date":"2025-01-01","end_date":"2025-10-15","limit":10000,"measure":"Cancellations","frequency":"Monthly","advanced_filters":[]},"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.764Z","level":"INFO","message":"Fetching chart data with Redis cache integration","service":"bendcare-os","env":"development","file":"base-handler.ts","line":42,"function":"ComboChartHandler.fetchData","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":194,"chartType":"dual-axis","dataSourceId":3,"userId":"[UUID]","hasDataSourceId":true,"note":"Passing UserContext to enable Redis cache path","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.764Z","level":"INFO","message":"Building analytics query with caching","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":325,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":194,"params":{"data_source_id":3,"start_date":"2025-01-01","end_date":"2025-10-15","limit":10000,"measure":"Cash Transfer","frequency":"Monthly","advanced_filters":[]},"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.764Z","level":"INFO","message":"Data source access check passed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":207,"function":"ChartDataOrchestrator.verifyDataSourceAccess","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":194,"dataSourceId":3,"dataSourceName":"App Measures with Entities","userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.764Z","level":"INFO","message":"Data source access verified","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":36,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":194,"dataSourceId":3,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.764Z","level":"INFO","message":"Runtime filters merged","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":42,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":194,"chartType":"number","hasStartDate":true,"hasEndDate":true,"hasPracticeUid":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.764Z","level":"INFO","message":"Chart handler retrieved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":55,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":194,"chartType":"number","handlerType":"number","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.764Z","level":"INFO","message":"Chart configuration validated","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":64,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":194,"chartType":"number","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.764Z","level":"INFO","message":"Fetching chart data with Redis cache integration","service":"bendcare-os","env":"development","file":"base-handler.ts","line":42,"function":"MetricChartHandler.fetchData","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":194,"chartType":"number","dataSourceId":3,"userId":"[UUID]","hasDataSourceId":true,"note":"Passing UserContext to enable Redis cache path","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.764Z","level":"INFO","message":"Building analytics query with caching","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":325,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":194,"params":{"data_source_id":3,"start_date":"2025-01-01","end_date":"2025-10-15","limit":10000,"measure":"Cash Transfer","frequency":"Monthly","advanced_filters":[]},"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.764Z","level":"INFO","message":"Data source access check passed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":207,"function":"ChartDataOrchestrator.verifyDataSourceAccess","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":194,"dataSourceId":3,"dataSourceName":"App Measures with Entities","userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.764Z","level":"INFO","message":"Data source access verified","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":36,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":194,"dataSourceId":3,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.765Z","level":"INFO","message":"Runtime filters merged","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":42,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":195,"chartType":"bar","hasStartDate":true,"hasEndDate":true,"hasPracticeUid":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.765Z","level":"INFO","message":"Chart handler retrieved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":55,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":195,"chartType":"bar","handlerType":"bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.765Z","level":"INFO","message":"Chart configuration validated","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":64,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":195,"chartType":"bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.765Z","level":"INFO","message":"Fetching chart data with Redis cache integration","service":"bendcare-os","env":"development","file":"base-handler.ts","line":42,"function":"BarChartHandler.fetchData","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":195,"chartType":"bar","dataSourceId":3,"userId":"[UUID]","hasDataSourceId":true,"note":"Passing UserContext to enable Redis cache path","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.765Z","level":"INFO","message":"Building analytics query with caching","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":325,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":195,"params":{"data_source_id":3,"start_date":"2025-01-01","end_date":"2025-10-15","limit":10000,"measure":"Cash Transfer","frequency":"Daily","advanced_filters":[]},"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.766Z","level":"INFO","message":"Data source access check passed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":207,"function":"ChartDataOrchestrator.verifyDataSourceAccess","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":196,"dataSourceId":1,"dataSourceName":"Practice Analytics","userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.766Z","level":"INFO","message":"Data source access verified","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":36,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":196,"dataSourceId":1,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.766Z","level":"INFO","message":"Runtime filters merged","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":42,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":196,"chartType":"bar","hasStartDate":true,"hasEndDate":true,"hasPracticeUid":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.766Z","level":"INFO","message":"Chart handler retrieved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":55,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":196,"chartType":"bar","handlerType":"bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.766Z","level":"INFO","message":"Chart configuration validated","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":64,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":196,"chartType":"bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.766Z","level":"INFO","message":"Fetching chart data with Redis cache integration","service":"bendcare-os","env":"development","file":"base-handler.ts","line":42,"function":"BarChartHandler.fetchData","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":196,"chartType":"bar","dataSourceId":1,"userId":"[UUID]","hasDataSourceId":true,"note":"Passing UserContext to enable Redis cache path","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.766Z","level":"INFO","message":"Building multiple series query with caching","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":692,"function":"AnalyticsQueryBuilder.queryMultipleSeries","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":196,"seriesCount":2,"measures":["Charges by Provider","Payments by Provider"],"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.766Z","level":"INFO","message":"Building analytics query with caching","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":325,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":196,"params":{"data_source_id":1,"start_date":"2025-01-01","end_date":"2025-10-15","limit":10000,"measure":"Charges by Provider","frequency":"Monthly","advanced_filters":[]},"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.766Z","level":"INFO","message":"Building analytics query with caching","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":325,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":196,"params":{"data_source_id":1,"start_date":"2025-01-01","end_date":"2025-10-15","limit":10000,"measure":"Payments by Provider","frequency":"Monthly","advanced_filters":[]},"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.797Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":227,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.798Z","level":"DEBUG","message":"Chart context built","service":"bendcare-os","env":"development","file":"chart-context.ts","line":46,"function":"buildChartRenderContext","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","userId":"[UUID]","permissionScope":"all","practiceCount":0,"providerCount":0,"organizationCount":0,"includesHierarchy":false,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.798Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":228,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.798Z","level":"DEBUG","message":"Chart context built","service":"bendcare-os","env":"development","file":"chart-context.ts","line":46,"function":"buildChartRenderContext","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","userId":"[UUID]","permissionScope":"all","practiceCount":0,"providerCount":0,"organizationCount":0,"includesHierarchy":false,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.798Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":228,"component":"chart-config-cache","dataSourceId":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.798Z","level":"DEBUG","message":"Chart context built","service":"bendcare-os","env":"development","file":"chart-context.ts","line":46,"function":"buildChartRenderContext","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","userId":"[UUID]","permissionScope":"all","practiceCount":0,"providerCount":0,"organizationCount":0,"includesHierarchy":false,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.798Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":228,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.798Z","level":"DEBUG","message":"Chart context built","service":"bendcare-os","env":"development","file":"chart-context.ts","line":46,"function":"buildChartRenderContext","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","userId":"[UUID]","permissionScope":"all","practiceCount":0,"providerCount":0,"organizationCount":0,"includesHierarchy":false,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.798Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":228,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.798Z","level":"DEBUG","message":"Chart context built","service":"bendcare-os","env":"development","file":"chart-context.ts","line":46,"function":"buildChartRenderContext","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","userId":"[UUID]","permissionScope":"all","practiceCount":0,"providerCount":0,"organizationCount":0,"includesHierarchy":false,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.799Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":229,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.799Z","level":"DEBUG","message":"Chart context built","service":"bendcare-os","env":"development","file":"chart-context.ts","line":46,"function":"buildChartRenderContext","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","userId":"[UUID]","permissionScope":"all","practiceCount":0,"providerCount":0,"organizationCount":0,"includesHierarchy":false,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.799Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":229,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.799Z","level":"DEBUG","message":"Chart context built","service":"bendcare-os","env":"development","file":"chart-context.ts","line":46,"function":"buildChartRenderContext","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","userId":"[UUID]","permissionScope":"all","practiceCount":0,"providerCount":0,"organizationCount":0,"includesHierarchy":false,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.799Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":229,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.799Z","level":"DEBUG","message":"Chart context built","service":"bendcare-os","env":"development","file":"chart-context.ts","line":46,"function":"buildChartRenderContext","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","userId":"[UUID]","permissionScope":"all","practiceCount":0,"providerCount":0,"organizationCount":0,"includesHierarchy":false,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.799Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":229,"component":"chart-config-cache","dataSourceId":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.799Z","level":"DEBUG","message":"Chart context built","service":"bendcare-os","env":"development","file":"chart-context.ts","line":46,"function":"buildChartRenderContext","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","userId":"[UUID]","permissionScope":"all","practiceCount":0,"providerCount":0,"organizationCount":0,"includesHierarchy":false,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.800Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":230,"component":"chart-config-cache","dataSourceId":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.800Z","level":"DEBUG","message":"Chart context built","service":"bendcare-os","env":"development","file":"chart-context.ts","line":46,"function":"buildChartRenderContext","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","userId":"[UUID]","permissionScope":"all","practiceCount":0,"providerCount":0,"organizationCount":0,"includesHierarchy":false,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.831Z","level":"INFO","message":"Data source cache miss V2","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":183,"function":"DataSourceCacheService.getCached","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":261,"dataSourceId":1,"measure":"Charges by Provider","isWarm":true,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.831Z","level":"INFO","message":"Data source cache miss - querying database","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":724,"function":"DataSourceCacheService.fetchDataSource","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":261,"dataSourceId":1,"measure":"Charges by Provider","nocache":false,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.905Z","level":"INFO","message":"Connecting to Redis","service":"bendcare-os","env":"development","file":"redis.ts","line":78,"function":"RedisClientManager.connect","component":"redis","host":"bcos-redis-dev-rt5vbv.serverless.use1.cache.amazonaws.com","port":6379,"username":"[REDACTED]","keyPrefix":"[REDACTED]","tls":true}
{"@timestamp":"2025-10-15T20:35:43.916Z","level":"INFO","message":"Registering chart type handlers","service":"bendcare-os","env":"development","file":"index.ts","line":43,"function":"registerAllHandlers"}
{"@timestamp":"2025-10-15T20:35:43.916Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"line","totalHandlers":1}
{"@timestamp":"2025-10-15T20:35:43.916Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"bar","totalHandlers":2}
{"@timestamp":"2025-10-15T20:35:43.916Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"pie","totalHandlers":3}
{"@timestamp":"2025-10-15T20:35:43.916Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"table","totalHandlers":4}
{"@timestamp":"2025-10-15T20:35:43.916Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"number","totalHandlers":5}
{"@timestamp":"2025-10-15T20:35:43.916Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"progress-bar","totalHandlers":6}
{"@timestamp":"2025-10-15T20:35:43.917Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"dual-axis","totalHandlers":7}
{"@timestamp":"2025-10-15T20:35:43.917Z","level":"INFO","message":"Chart type handlers registered successfully","service":"bendcare-os","env":"development","file":"index.ts","line":66,"function":"registerAllHandlers","count":7,"types":["line","bar","pie","table","number","progress-bar","dual-axis"]}
{"@timestamp":"2025-10-15T20:35:43.943Z","level":"INFO","message":"Index lookup completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":320,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":373,"datasourceId":3,"measure":"Cash Transfer","frequency":"Monthly","practiceCount":0,"providerCount":0,"matchingKeys":"[REDACTED]","indexLookupDuration":115,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.943Z","level":"INFO","message":"Index lookup completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":320,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":373,"datasourceId":3,"measure":"Cancellations","frequency":"Monthly","practiceCount":0,"providerCount":0,"matchingKeys":"[REDACTED]","indexLookupDuration":113,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.944Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":374,"component":"chart-config-cache","dataSourceId":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.944Z","level":"DEBUG","message":"Executing data source query","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":411,"function":"DataSourceCacheService.queryDatabase","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":374,"query":"\n      SELECT * \n      FROM ih.agg_app_measures\n      WHERE measure = $1\n      ORDER BY date_index ASC\n    ","paramCount":1,"hasAdvancedFilters":false,"note":"RBAC filtering will be applied in-memory after fetch","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
🔍 EXECUTING SQL: {
  sql: '\n' +
    '      SELECT * \n' +
    '      FROM ih.agg_app_measures\n' +
    '      WHERE measure = $1\n' +
    '      ORDER BY date_index ASC\n' +
    '    ',
  parameters: [ 'Charges by Provider' ],
  paramCount: 1
}
{"@timestamp":"2025-10-15T20:35:43.946Z","level":"INFO","message":"Index lookup completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":320,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":376,"datasourceId":3,"measure":"Cancellations","frequency":"Monthly","practiceCount":0,"providerCount":0,"matchingKeys":"[REDACTED]","indexLookupDuration":114,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.946Z","level":"INFO","message":"Index lookup completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":320,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":376,"datasourceId":3,"measure":"Cash Transfer","frequency":"Monthly","practiceCount":0,"providerCount":0,"matchingKeys":"[REDACTED]","indexLookupDuration":115,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.946Z","level":"INFO","message":"Index lookup completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":320,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":376,"datasourceId":3,"measure":"Cash Transfer","frequency":"Monthly","practiceCount":0,"providerCount":0,"matchingKeys":"[REDACTED]","indexLookupDuration":115,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.946Z","level":"INFO","message":"Index lookup completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":320,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":376,"datasourceId":3,"measure":"Cash Transfer","frequency":"Daily","practiceCount":0,"providerCount":0,"matchingKeys":"[REDACTED]","indexLookupDuration":115,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.946Z","level":"INFO","message":"Index lookup completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":320,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":376,"datasourceId":1,"measure":"Charges by Provider","frequency":"Monthly","practiceCount":0,"providerCount":0,"matchingKeys":"[REDACTED]","indexLookupDuration":115,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.946Z","level":"INFO","message":"Index lookup completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":320,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":376,"datasourceId":1,"measure":"Payments by Provider","frequency":"Monthly","practiceCount":0,"providerCount":0,"matchingKeys":"[REDACTED]","indexLookupDuration":115,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.955Z","level":"INFO","message":"Main database connections closed","service":"bendcare-os","env":"development","file":"index.ts","line":160,"function":"process.closeDb"}
{"@timestamp":"2025-10-15T20:35:43.977Z","level":"INFO","message":"Cache query completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":355,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":407,"datasourceId":3,"measure":"Cash Transfer","frequency":"Monthly","matchingKeys":"[REDACTED]","rowsReturned":46,"indexLookupDuration":115,"fetchDuration":33,"totalDuration":148,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.977Z","level":"INFO","message":"Data source cache hit V2","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":164,"function":"DataSourceCacheService.getCached","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":407,"cacheKey":"[REDACTED]","cacheLevel":0,"rowCount":46,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.977Z","level":"WARN","message":"Security: RBAC filter: all scope, no filtering","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":494,"function":"DataSourceCacheService.applyRBACFilter","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":407,"component":"security","event":"RBAC filter: all scope, no filtering","severity":"low","userId":"[UUID]","rowCount":46,"permissionScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.977Z","level":"DEBUG","message":"Column mapping cache miss - loading from config","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":62,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":407,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.978Z","level":"INFO","message":"Cache query completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":355,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":408,"datasourceId":3,"measure":"Cancellations","frequency":"Monthly","matchingKeys":"[REDACTED]","rowsReturned":48,"indexLookupDuration":113,"fetchDuration":35,"totalDuration":148,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.978Z","level":"INFO","message":"Data source cache hit V2","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":164,"function":"DataSourceCacheService.getCached","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":408,"cacheKey":"[REDACTED]","cacheLevel":0,"rowCount":48,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.978Z","level":"WARN","message":"Security: RBAC filter: all scope, no filtering","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":494,"function":"DataSourceCacheService.applyRBACFilter","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":408,"component":"security","event":"RBAC filter: all scope, no filtering","severity":"low","userId":"[UUID]","rowCount":48,"permissionScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.978Z","level":"DEBUG","message":"Column mapping cache miss - loading from config","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":62,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":408,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.978Z","level":"INFO","message":"Cache query completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":355,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":408,"datasourceId":3,"measure":"Cancellations","frequency":"Monthly","matchingKeys":"[REDACTED]","rowsReturned":48,"indexLookupDuration":114,"fetchDuration":32,"totalDuration":147,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.979Z","level":"INFO","message":"Data source cache hit V2","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":164,"function":"DataSourceCacheService.getCached","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":409,"cacheKey":"[REDACTED]","cacheLevel":0,"rowCount":48,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.979Z","level":"WARN","message":"Security: RBAC filter: all scope, no filtering","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":494,"function":"DataSourceCacheService.applyRBACFilter","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":409,"component":"security","event":"RBAC filter: all scope, no filtering","severity":"low","userId":"[UUID]","rowCount":48,"permissionScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.979Z","level":"DEBUG","message":"Column mapping cache miss - loading from config","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":62,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":409,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.980Z","level":"INFO","message":"Cache query completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":355,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":410,"datasourceId":3,"measure":"Cash Transfer","frequency":"Monthly","matchingKeys":"[REDACTED]","rowsReturned":46,"indexLookupDuration":115,"fetchDuration":34,"totalDuration":149,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.980Z","level":"INFO","message":"Data source cache hit V2","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":164,"function":"DataSourceCacheService.getCached","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":410,"cacheKey":"[REDACTED]","cacheLevel":0,"rowCount":46,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.980Z","level":"WARN","message":"Security: RBAC filter: all scope, no filtering","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":494,"function":"DataSourceCacheService.applyRBACFilter","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":410,"component":"security","event":"RBAC filter: all scope, no filtering","severity":"low","userId":"[UUID]","rowCount":46,"permissionScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.980Z","level":"DEBUG","message":"Column mapping cache miss - loading from config","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":62,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":410,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.981Z","level":"INFO","message":"Cache query completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":355,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":411,"datasourceId":3,"measure":"Cash Transfer","frequency":"Monthly","matchingKeys":"[REDACTED]","rowsReturned":46,"indexLookupDuration":115,"fetchDuration":35,"totalDuration":150,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.981Z","level":"INFO","message":"Data source cache hit V2","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":164,"function":"DataSourceCacheService.getCached","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":411,"cacheKey":"[REDACTED]","cacheLevel":0,"rowCount":46,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.981Z","level":"WARN","message":"Security: RBAC filter: all scope, no filtering","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":494,"function":"DataSourceCacheService.applyRBACFilter","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":411,"component":"security","event":"RBAC filter: all scope, no filtering","severity":"low","userId":"[UUID]","rowCount":46,"permissionScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:43.981Z","level":"DEBUG","message":"Column mapping cache miss - loading from config","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":62,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":411,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.020Z","level":"INFO","message":"Redis connected successfully","service":"bendcare-os","env":"development","file":"redis.ts","line":109,"function":"EventEmitter.eval","component":"redis","host":"[REDACTED]","port":6379}
{"@timestamp":"2025-10-15T20:35:44.057Z","level":"INFO","message":"Redis ready for commands","service":"bendcare-os","env":"development","file":"redis.ts","line":119,"function":"EventEmitter.eval","component":"redis"}
{"@timestamp":"2025-10-15T20:35:44.115Z","level":"INFO","message":"Cache query completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":355,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":545,"datasourceId":3,"measure":"Cash Transfer","frequency":"Daily","matchingKeys":"[REDACTED]","rowsReturned":1428,"indexLookupDuration":115,"fetchDuration":169,"totalDuration":284,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.115Z","level":"INFO","message":"Data source cache hit V2","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":164,"function":"DataSourceCacheService.getCached","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":545,"cacheKey":"[REDACTED]","cacheLevel":0,"rowCount":1428,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.115Z","level":"WARN","message":"Security: RBAC filter: all scope, no filtering","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":494,"function":"DataSourceCacheService.applyRBACFilter","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":545,"component":"security","event":"RBAC filter: all scope, no filtering","severity":"low","userId":"[UUID]","rowCount":1428,"permissionScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.115Z","level":"DEBUG","message":"Column mapping cache miss - loading from config","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":62,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":545,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.183Z","level":"INFO","message":"Cache query completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":355,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":613,"datasourceId":1,"measure":"Charges by Provider","frequency":"Monthly","matchingKeys":"[REDACTED]","rowsReturned":1501,"indexLookupDuration":115,"fetchDuration":236,"totalDuration":351,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.183Z","level":"INFO","message":"Data source cache hit V2","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":164,"function":"DataSourceCacheService.getCached","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":613,"cacheKey":"[REDACTED]","cacheLevel":0,"rowCount":1501,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.183Z","level":"WARN","message":"Security: RBAC filter: all scope, no filtering","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":494,"function":"DataSourceCacheService.applyRBACFilter","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":613,"component":"security","event":"RBAC filter: all scope, no filtering","severity":"low","userId":"[UUID]","rowCount":1501,"permissionScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.184Z","level":"DEBUG","message":"Column mapping cache miss - loading from config","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":62,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":614,"component":"column-mapping-service","dataSourceId":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.246Z","level":"INFO","message":"Cache query completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":355,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":676,"datasourceId":1,"measure":"Payments by Provider","frequency":"Monthly","matchingKeys":"[REDACTED]","rowsReturned":1580,"indexLookupDuration":115,"fetchDuration":300,"totalDuration":415,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.247Z","level":"INFO","message":"Data source cache hit V2","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":164,"function":"DataSourceCacheService.getCached","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":677,"cacheKey":"[REDACTED]","cacheLevel":0,"rowCount":1580,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.248Z","level":"WARN","message":"Security: RBAC filter: all scope, no filtering","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":494,"function":"DataSourceCacheService.applyRBACFilter","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":678,"component":"security","event":"RBAC filter: all scope, no filtering","severity":"low","userId":"[UUID]","rowCount":1580,"permissionScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.249Z","level":"DEBUG","message":"Column mapping cache miss - loading from config","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":62,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":679,"component":"column-mapping-service","dataSourceId":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.251Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":681,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.252Z","level":"INFO","message":"Column mapping loaded and cached","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":82,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":682,"component":"column-mapping-service","dataSourceId":3,"mapping":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.252Z","level":"INFO","message":"Data source served from cache (server-filtered)","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":709,"function":"DataSourceCacheService.fetchDataSource","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","cacheKey":"[REDACTED]","cacheLevel":0,"cachedRowCount":46,"afterRBAC":46,"finalRowCount":46,"duration":455,"userId":"[UUID]","permissionScope":"all","security":"filtered_before_client_send","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.252Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":682,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.253Z","level":"INFO","message":"Analytics query completed (with caching)","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":391,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dataSourceId":3,"measure":"Cash Transfer","rowCount":46,"totalCount":5289376.439999999,"duration":491,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.253Z","level":"INFO","message":"Chart data fetched successfully","service":"bendcare-os","env":"development","file":"base-handler.ts","line":54,"function":"BarChartHandler.fetchData","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":683,"chartType":"bar","recordCount":46,"queryTimeMs":491,"cacheHit":true,"fetchDuration":492,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.253Z","level":"INFO","message":"Chart data fetched","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":71,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":683,"chartType":"stacked-bar","recordCount":46,"fetchDuration":492,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.254Z","level":"INFO","message":"Transforming bar chart data","service":"bendcare-os","env":"development","file":"bar-chart-handler.ts","line":41,"function":"BarChartHandler.transform","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":684,"chartType":"stacked-bar","recordCount":46,"groupBy":"provider_name","colorPalette":"blue","stackingMode":"normal","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.256Z","level":"INFO","message":"Bar chart data transformed","service":"bendcare-os","env":"development","file":"bar-chart-handler.ts","line":70,"function":"BarChartHandler.transform","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","chartType":"stacked-bar","duration":3,"datasetCount":6,"labelCount":9,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.257Z","level":"INFO","message":"Chart data transformed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":80,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":687,"chartType":"stacked-bar","datasetCount":6,"labelCount":9,"transformDuration":4,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.258Z","level":"INFO","message":"Chart data orchestration completed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":111,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":688,"chartType":"stacked-bar","totalDuration":504,"fetchDuration":492,"transformDuration":4,"recordCount":46,"hasColumns":false,"columnCount":0,"hasFormattedData":false,"formattedRowCount":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.259Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":689,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.259Z","level":"INFO","message":"Column mapping loaded and cached","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":82,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":689,"component":"column-mapping-service","dataSourceId":3,"mapping":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.259Z","level":"INFO","message":"Data source served from cache (server-filtered)","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":709,"function":"DataSourceCacheService.fetchDataSource","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","cacheKey":"[REDACTED]","cacheLevel":0,"cachedRowCount":48,"afterRBAC":48,"finalRowCount":48,"duration":461,"userId":"[UUID]","permissionScope":"all","security":"filtered_before_client_send","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.259Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":689,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.260Z","level":"INFO","message":"Analytics query completed (with caching)","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":391,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dataSourceId":3,"measure":"Cancellations","rowCount":48,"totalCount":48,"duration":497,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.260Z","level":"INFO","message":"Chart data fetched successfully","service":"bendcare-os","env":"development","file":"base-handler.ts","line":54,"function":"MetricChartHandler.fetchData","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":690,"chartType":"number","recordCount":48,"queryTimeMs":497,"cacheHit":true,"fetchDuration":498,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.260Z","level":"INFO","message":"Chart data fetched","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":71,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":690,"chartType":"number","recordCount":48,"fetchDuration":498,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.261Z","level":"INFO","message":"Index lookup completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":320,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":691,"datasourceId":3,"measure":"Cancellations","frequency":"Weekly","practiceCount":1,"providerCount":0,"matchingKeys":"[REDACTED]","indexLookupDuration":430,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.261Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":691,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.261Z","level":"INFO","message":"Column mapping loaded and cached","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":82,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":691,"component":"column-mapping-service","dataSourceId":3,"mapping":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.261Z","level":"INFO","message":"Data source served from cache (server-filtered)","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":709,"function":"DataSourceCacheService.fetchDataSource","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","cacheKey":"[REDACTED]","cacheLevel":0,"cachedRowCount":48,"afterRBAC":48,"finalRowCount":48,"duration":463,"userId":"[UUID]","permissionScope":"all","security":"filtered_before_client_send","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.262Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":692,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.262Z","level":"INFO","message":"Analytics query completed (with caching)","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":391,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dataSourceId":3,"measure":"Cancellations","rowCount":48,"totalCount":48,"duration":498,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.262Z","level":"INFO","message":"Chart data fetched successfully","service":"bendcare-os","env":"development","file":"base-handler.ts","line":54,"function":"ComboChartHandler.fetchData","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":692,"chartType":"dual-axis","recordCount":48,"queryTimeMs":498,"cacheHit":true,"fetchDuration":498,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.262Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":692,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.262Z","level":"INFO","message":"Column mapping loaded and cached","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":82,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":692,"component":"column-mapping-service","dataSourceId":3,"mapping":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.262Z","level":"INFO","message":"Data source served from cache (server-filtered)","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":709,"function":"DataSourceCacheService.fetchDataSource","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","cacheKey":"[REDACTED]","cacheLevel":0,"cachedRowCount":46,"afterRBAC":46,"finalRowCount":46,"duration":463,"userId":"[UUID]","permissionScope":"all","security":"filtered_before_client_send","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.262Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":692,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.262Z","level":"INFO","message":"Analytics query completed (with caching)","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":391,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dataSourceId":3,"measure":"Cash Transfer","rowCount":46,"totalCount":5289376.439999999,"duration":498,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.262Z","level":"INFO","message":"Chart data fetched successfully","service":"bendcare-os","env":"development","file":"base-handler.ts","line":54,"function":"ComboChartHandler.fetchData","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":692,"chartType":"dual-axis","recordCount":46,"queryTimeMs":498,"cacheHit":true,"fetchDuration":498,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.263Z","level":"INFO","message":"Dual-axis data fetched successfully","service":"bendcare-os","env":"development","file":"combo-handler.ts","line":72,"function":"ComboChartHandler.fetchData","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","primaryCount":48,"secondaryCount":46,"totalCount":94,"duration":499,"parallelFetch":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.263Z","level":"INFO","message":"Chart data fetched","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":71,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":693,"chartType":"dual-axis","recordCount":94,"fetchDuration":499,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.264Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":694,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.264Z","level":"INFO","message":"Column mapping loaded and cached","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":82,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":694,"component":"column-mapping-service","dataSourceId":3,"mapping":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.264Z","level":"INFO","message":"Data source served from cache (server-filtered)","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":709,"function":"DataSourceCacheService.fetchDataSource","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","cacheKey":"[REDACTED]","cacheLevel":0,"cachedRowCount":46,"afterRBAC":46,"finalRowCount":46,"duration":465,"userId":"[UUID]","permissionScope":"all","security":"filtered_before_client_send","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.264Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":694,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.265Z","level":"INFO","message":"Analytics query completed (with caching)","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":391,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dataSourceId":3,"measure":"Cash Transfer","rowCount":46,"totalCount":5289376.439999999,"duration":500,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.265Z","level":"INFO","message":"Chart data fetched successfully","service":"bendcare-os","env":"development","file":"base-handler.ts","line":54,"function":"MetricChartHandler.fetchData","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":695,"chartType":"number","recordCount":46,"queryTimeMs":500,"cacheHit":true,"fetchDuration":501,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.265Z","level":"INFO","message":"Chart data fetched","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":71,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":695,"chartType":"number","recordCount":46,"fetchDuration":501,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.265Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":695,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.265Z","level":"INFO","message":"Column mapping loaded and cached","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":82,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":695,"component":"column-mapping-service","dataSourceId":3,"mapping":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.266Z","level":"INFO","message":"Data source served from cache (server-filtered)","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":709,"function":"DataSourceCacheService.fetchDataSource","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","cacheKey":"[REDACTED]","cacheLevel":0,"cachedRowCount":1428,"afterRBAC":1428,"finalRowCount":1428,"duration":467,"userId":"[UUID]","permissionScope":"all","security":"filtered_before_client_send","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.266Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":696,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.266Z","level":"INFO","message":"Analytics query completed (with caching)","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":391,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dataSourceId":3,"measure":"Cash Transfer","rowCount":1428,"totalCount":5280122.160000001,"duration":501,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.267Z","level":"INFO","message":"Chart data fetched successfully","service":"bendcare-os","env":"development","file":"base-handler.ts","line":54,"function":"BarChartHandler.fetchData","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":697,"chartType":"bar","recordCount":1428,"queryTimeMs":501,"cacheHit":true,"fetchDuration":502,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.267Z","level":"INFO","message":"Chart data fetched","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":71,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":697,"chartType":"bar","recordCount":1428,"fetchDuration":502,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.267Z","level":"INFO","message":"Transforming bar chart data","service":"bendcare-os","env":"development","file":"bar-chart-handler.ts","line":41,"function":"BarChartHandler.transform","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":697,"chartType":"bar","recordCount":1428,"groupBy":"practice","colorPalette":"default","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.284Z","level":"INFO","message":"Bar chart data transformed","service":"bendcare-os","env":"development","file":"bar-chart-handler.ts","line":70,"function":"BarChartHandler.transform","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","chartType":"bar","duration":17,"datasetCount":1,"labelCount":281,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.284Z","level":"INFO","message":"Chart data transformed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":80,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":714,"chartType":"bar","datasetCount":1,"labelCount":281,"transformDuration":17,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.284Z","level":"INFO","message":"Chart data orchestration completed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":111,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":714,"chartType":"bar","totalDuration":527,"fetchDuration":502,"transformDuration":17,"recordCount":1428,"hasColumns":false,"columnCount":0,"hasFormattedData":false,"formattedRowCount":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.284Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":714,"component":"chart-config-cache","dataSourceId":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.285Z","level":"INFO","message":"Column mapping loaded and cached","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":82,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":715,"component":"column-mapping-service","dataSourceId":1,"mapping":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.285Z","level":"INFO","message":"Data source served from cache (server-filtered)","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":709,"function":"DataSourceCacheService.fetchDataSource","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","cacheKey":"[REDACTED]","cacheLevel":0,"cachedRowCount":1501,"afterRBAC":1501,"finalRowCount":1501,"duration":486,"userId":"[UUID]","permissionScope":"all","security":"filtered_before_client_send","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.285Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":715,"component":"column-mapping-service","dataSourceId":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.285Z","level":"INFO","message":"Analytics query completed (with caching)","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":391,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dataSourceId":1,"measure":"Charges by Provider","rowCount":1501,"totalCount":1057348789,"duration":519,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.286Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":716,"component":"chart-config-cache","dataSourceId":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.286Z","level":"INFO","message":"Column mapping loaded and cached","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":82,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":716,"component":"column-mapping-service","dataSourceId":1,"mapping":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.286Z","level":"INFO","message":"Data source served from cache (server-filtered)","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":709,"function":"DataSourceCacheService.fetchDataSource","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","cacheKey":"[REDACTED]","cacheLevel":0,"cachedRowCount":1580,"afterRBAC":1580,"finalRowCount":1580,"duration":486,"userId":"[UUID]","permissionScope":"all","security":"filtered_before_client_send","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.286Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":716,"component":"column-mapping-service","dataSourceId":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.287Z","level":"INFO","message":"Analytics query completed (with caching)","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":391,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dataSourceId":1,"measure":"Payments by Provider","rowCount":1580,"totalCount":396105515,"duration":521,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.287Z","level":"INFO","message":"Multiple series query completed (with caching)","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":726,"function":"AnalyticsQueryBuilder.queryMultipleSeries","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":717,"seriesCount":2,"totalRecords":3081,"queryTime":521,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.287Z","level":"INFO","message":"Chart data fetched successfully","service":"bendcare-os","env":"development","file":"base-handler.ts","line":54,"function":"BarChartHandler.fetchData","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":717,"chartType":"bar","recordCount":3081,"queryTimeMs":521,"cacheHit":true,"fetchDuration":521,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.287Z","level":"INFO","message":"Chart data fetched","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":71,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":717,"chartType":"bar","recordCount":3081,"fetchDuration":521,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.287Z","level":"INFO","message":"Transforming bar chart data","service":"bendcare-os","env":"development","file":"bar-chart-handler.ts","line":41,"function":"BarChartHandler.transform","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":717,"chartType":"bar","recordCount":3081,"groupBy":"provider_name","colorPalette":"default","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.289Z","level":"INFO","message":"Bar chart data transformed","service":"bendcare-os","env":"development","file":"bar-chart-handler.ts","line":70,"function":"BarChartHandler.transform","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","chartType":"bar","duration":2,"datasetCount":2,"labelCount":6,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.289Z","level":"INFO","message":"Chart data transformed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":80,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":719,"chartType":"bar","datasetCount":2,"labelCount":6,"transformDuration":2,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.289Z","level":"INFO","message":"Chart data orchestration completed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":111,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":719,"chartType":"bar","totalDuration":533,"fetchDuration":521,"transformDuration":2,"recordCount":3081,"hasColumns":false,"columnCount":0,"hasFormattedData":false,"formattedRowCount":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.292Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":722,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.292Z","level":"DEBUG","message":"Column name resolved","service":"bendcare-os","env":"development","file":"column-resolver.ts","line":64,"function":"getColumnName","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":722,"dataSourceId":3,"columnType":"measure","resolvedName":"numeric_value","fromConfig":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.292Z","level":"INFO","message":"Transforming metric chart data","service":"bendcare-os","env":"development","file":"metric-handler.ts","line":90,"function":"MetricChartHandler.transform","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":722,"chartType":"number","recordCount":48,"aggregationType":"sum","valueColumn":"numeric_value","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.292Z","level":"INFO","message":"Data aggregated","service":"bendcare-os","env":"development","file":"metric-handler.ts","line":74,"function":"MetricChartHandler.aggregateData","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","aggregationType":"sum","valueColumn":"numeric_value","valueCount":48,"result":382,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.292Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":722,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.292Z","level":"INFO","message":"Metric chart data transformed","service":"bendcare-os","env":"development","file":"metric-handler.ts","line":153,"function":"MetricChartHandler.transform","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","chartType":"number","duration":32,"aggregationType":"sum","aggregatedValue":382,"measureType":"count","datasetCount":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.292Z","level":"INFO","message":"Chart data transformed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":80,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":722,"chartType":"number","datasetCount":1,"labelCount":0,"transformDuration":32,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.292Z","level":"INFO","message":"Chart data orchestration completed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":111,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":722,"chartType":"number","totalDuration":537,"fetchDuration":498,"transformDuration":32,"recordCount":48,"hasColumns":false,"columnCount":0,"hasFormattedData":false,"formattedRowCount":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.319Z","level":"INFO","message":"Cache query completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":355,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":749,"datasourceId":3,"measure":"Cancellations","frequency":"Weekly","matchingKeys":"[REDACTED]","rowsReturned":199,"indexLookupDuration":430,"fetchDuration":58,"totalDuration":488,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.320Z","level":"INFO","message":"Data source cache hit V2","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":164,"function":"DataSourceCacheService.getCached","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":750,"cacheKey":"[REDACTED]","cacheLevel":0,"rowCount":199,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.320Z","level":"WARN","message":"Security: RBAC filter: all scope, no filtering","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":494,"function":"DataSourceCacheService.applyRBACFilter","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":750,"component":"security","event":"RBAC filter: all scope, no filtering","severity":"low","userId":"[UUID]","rowCount":199,"permissionScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.320Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":750,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.320Z","level":"INFO","message":"Data source served from cache (server-filtered)","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":709,"function":"DataSourceCacheService.fetchDataSource","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","cacheKey":"[REDACTED]","cacheLevel":0,"cachedRowCount":199,"afterRBAC":199,"finalRowCount":199,"duration":522,"userId":"[UUID]","permissionScope":"all","security":"filtered_before_client_send","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.320Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":750,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.320Z","level":"INFO","message":"Analytics query completed (with caching)","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":391,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dataSourceId":3,"measure":"Cancellations","practiceUid":114,"rowCount":199,"totalCount":199,"duration":557,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.320Z","level":"INFO","message":"Chart data fetched successfully","service":"bendcare-os","env":"development","file":"base-handler.ts","line":54,"function":"BarChartHandler.fetchData","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":750,"chartType":"bar","recordCount":199,"queryTimeMs":557,"cacheHit":true,"fetchDuration":557,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.320Z","level":"INFO","message":"Chart data fetched","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":71,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":750,"chartType":"stacked-bar","recordCount":199,"fetchDuration":557,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.320Z","level":"INFO","message":"Transforming bar chart data","service":"bendcare-os","env":"development","file":"bar-chart-handler.ts","line":41,"function":"BarChartHandler.transform","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":750,"chartType":"stacked-bar","recordCount":199,"groupBy":"provider_name","colorPalette":"default","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.322Z","level":"INFO","message":"Bar chart data transformed","service":"bendcare-os","env":"development","file":"bar-chart-handler.ts","line":70,"function":"BarChartHandler.transform","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","chartType":"stacked-bar","duration":2,"datasetCount":6,"labelCount":39,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.322Z","level":"INFO","message":"Chart data transformed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":80,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":752,"chartType":"stacked-bar","datasetCount":6,"labelCount":39,"transformDuration":2,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.322Z","level":"INFO","message":"Chart data orchestration completed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":111,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":752,"chartType":"stacked-bar","totalDuration":566,"fetchDuration":557,"transformDuration":2,"recordCount":199,"hasColumns":false,"columnCount":0,"hasFormattedData":false,"formattedRowCount":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.322Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":752,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.322Z","level":"DEBUG","message":"All columns resolved","service":"bendcare-os","env":"development","file":"column-resolver.ts","line":114,"function":"getResolvedColumns","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":752,"dataSourceId":3,"resolved":{"measureColumn":"numeric_value","dateColumn":"date_value","timePeriodColumn":"time_period","practiceColumn":"practice_uid","providerColumn":"provider_uid"},"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.322Z","level":"DEBUG","message":"Resolved columns for dual-axis chart","service":"bendcare-os","env":"development","file":"combo-handler.ts","line":111,"function":"ComboChartHandler.transform","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":752,"dataSourceId":3,"dateColumn":"date_value","measureColumn":"numeric_value","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.322Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":752,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.323Z","level":"INFO","message":"Dual-axis data transformation completed","service":"bendcare-os","env":"development","file":"combo-handler.ts","line":239,"function":"ComboChartHandler.transform","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","labelCount":9,"primaryDataPoints":48,"secondaryDataPoints":46,"primaryMeasureType":"count","secondaryMeasureType":"currency","duration":60,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.323Z","level":"INFO","message":"Chart data transformed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":80,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":753,"chartType":"dual-axis","datasetCount":2,"labelCount":9,"transformDuration":60,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.323Z","level":"INFO","message":"Chart data orchestration completed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":111,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":753,"chartType":"dual-axis","totalDuration":567,"fetchDuration":499,"transformDuration":60,"recordCount":94,"hasColumns":false,"columnCount":0,"hasFormattedData":false,"formattedRowCount":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.323Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":753,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.323Z","level":"DEBUG","message":"Column name resolved","service":"bendcare-os","env":"development","file":"column-resolver.ts","line":64,"function":"getColumnName","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":753,"dataSourceId":3,"columnType":"measure","resolvedName":"numeric_value","fromConfig":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.323Z","level":"INFO","message":"Transforming metric chart data","service":"bendcare-os","env":"development","file":"metric-handler.ts","line":90,"function":"MetricChartHandler.transform","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":753,"chartType":"number","recordCount":46,"aggregationType":"sum","valueColumn":"numeric_value","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.323Z","level":"INFO","message":"Data aggregated","service":"bendcare-os","env":"development","file":"metric-handler.ts","line":74,"function":"MetricChartHandler.aggregateData","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","aggregationType":"sum","valueColumn":"numeric_value","valueCount":46,"result":5289376.439999999,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.323Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":753,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.323Z","level":"INFO","message":"Metric chart data transformed","service":"bendcare-os","env":"development","file":"metric-handler.ts","line":153,"function":"MetricChartHandler.transform","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","chartType":"number","duration":58,"aggregationType":"sum","aggregatedValue":5289376.439999999,"measureType":"currency","datasetCount":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.323Z","level":"INFO","message":"Chart data transformed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":80,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":753,"chartType":"number","datasetCount":1,"labelCount":0,"transformDuration":58,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.323Z","level":"INFO","message":"Chart data orchestration completed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":111,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":753,"chartType":"number","totalDuration":568,"fetchDuration":501,"transformDuration":58,"recordCount":46,"hasColumns":false,"columnCount":0,"hasFormattedData":false,"formattedRowCount":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:44.434Z","level":"INFO","message":"Main database connections closed","service":"bendcare-os","env":"development","file":"index.ts","line":160,"function":"process.closeDb"}
✅ QUERY RESULT: {
  duration: '768ms',
  rowCount: 4462,
  sampleData: {
    practice_uid: 27,
    practice: 'Arthritis-Osteo Trtmnt & Rsrch Cntr',
    practice_primary: 'Munoz, George',
    provider_uid: 63,
    provider_name: 'Munoz, George',
    measure: 'Charges by Provider',
    frequency: 'Quarterly',
    date_index: '2024-03-31',
    measure_value: '3808918',
    measure_type: 'currency'
  }
}
{"@timestamp":"2025-10-15T20:35:44.714Z","level":"INFO","message":"Database query completed","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":420,"function":"DataSourceCacheService.queryDatabase","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1144,"schema":"ih","table":"agg_app_measures","rowCount":4462,"queryDuration":770,"hasAdvancedFilters":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:45.348Z","level":"INFO","message":"Data source cached","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":223,"function":"DataSourceCacheService.setCached","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1778,"key":"[REDACTED]","rowCount":4462,"sizeKB":1238,"ttl":14400,"expiresAt":"2025-10-16T00:35:44.716Z","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:45.350Z","level":"WARN","message":"Security: RBAC filter: all scope, no filtering","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":494,"function":"DataSourceCacheService.applyRBACFilter","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1780,"component":"security","event":"RBAC filter: all scope, no filtering","severity":"low","userId":"[UUID]","rowCount":4462,"permissionScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:45.350Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1780,"component":"column-mapping-service","dataSourceId":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:45.355Z","level":"INFO","message":"Data source fetched from database (server-filtered)","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":765,"function":"DataSourceCacheService.fetchDataSource","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","totalRowCount":4462,"afterRBAC":3368,"finalRowCount":3368,"duration":1557,"userId":"[UUID]","permissionScope":"all","security":"filtered_before_client_send","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:45.356Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1786,"component":"column-mapping-service","dataSourceId":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:45.360Z","level":"INFO","message":"Analytics query completed (with caching)","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":391,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dataSourceId":1,"measure":"Charges by Provider","rowCount":3368,"totalCount":2321011858,"duration":1596,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:45.360Z","level":"INFO","message":"Chart data fetched successfully","service":"bendcare-os","env":"development","file":"base-handler.ts","line":54,"function":"BarChartHandler.fetchData","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1790,"chartType":"bar","recordCount":3368,"queryTimeMs":1596,"cacheHit":true,"fetchDuration":1597,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:45.360Z","level":"INFO","message":"Chart data fetched","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":71,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1790,"chartType":"bar","recordCount":3368,"fetchDuration":1597,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:45.361Z","level":"INFO","message":"Transforming bar chart data","service":"bendcare-os","env":"development","file":"bar-chart-handler.ts","line":41,"function":"BarChartHandler.transform","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1791,"chartType":"bar","recordCount":3368,"groupBy":"provider_name","colorPalette":"default","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:45.369Z","level":"INFO","message":"Bar chart data transformed","service":"bendcare-os","env":"development","file":"bar-chart-handler.ts","line":70,"function":"BarChartHandler.transform","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","chartType":"bar","duration":8,"datasetCount":300,"labelCount":12,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:45.369Z","level":"INFO","message":"Chart data transformed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":80,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1799,"chartType":"bar","datasetCount":300,"labelCount":12,"transformDuration":9,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:45.370Z","level":"INFO","message":"Chart data orchestration completed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":111,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1800,"chartType":"bar","totalDuration":1614,"fetchDuration":1597,"transformDuration":9,"recordCount":3368,"hasColumns":false,"columnCount":0,"hasFormattedData":false,"formattedRowCount":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:45.371Z","level":"INFO","message":"Dashboard batch render completed","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":306,"function":"DashboardRenderer.renderDashboard","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dashboardId":"[UUID]","chartsRendered":9,"cacheHits":0,"cacheMisses":9,"totalQueryTime":5666,"parallelDuration":1613,"duration":1634,"queryDeduplication":{"uniqueQueries":8,"queriesDeduped":1,"deduplicationRate":"11%","totalCharts":9,"queriesSaved":1},"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:45.371Z","level":"INFO","message":"Query cache cleared","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":184,"function":"DashboardQueryCache.clear","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1801,"uniqueQueries":8,"queriesDeduped":1,"deduplicationRate":"11%","totalRequests":9,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:45.372Z","level":"INFO","message":"Dashboard batch render completed","service":"bendcare-os","env":"development","file":"route.ts","line":58,"function":"renderDashboardHandler","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dashboardId":"[UUID]","userId":"[UUID]","component":"analytics","operation":"batch_render","duration":1672,"metrics":{"chartsRendered":9,"queriesExecuted":9,"cacheHits":0,"cacheMisses":9,"cacheHitRate":0,"totalQueryTime":5666,"parallelExecution":true,"filtersApplied":1,"nocache":false},"slow":false,"performance":{"target":2000,"actual":1672,"overTarget":false},"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:45.386Z","level":"INFO","message":"Handler execution completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":205,"function":"eval","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1687,"userId":"[UUID]","statusCode":200,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:45.386Z","level":"INFO","message":"RBAC route completed successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":211,"function":"eval","correlationId":"cor_mgsgahic_rpjkja58","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1816,"userId":"[UUID]","statusCode":200,"totalDuration":1816,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
 POST /api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render 200 in 1865ms
{"@timestamp":"2025-10-15T20:35:45.471Z","level":"INFO","message":"GET /api/organizations - RBAC route","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":47,"function":"eval","correlationId":"cor_mgsgaizq_d40s6itl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"component":"api","request":{},"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:45.471Z","level":"INFO","message":"RBAC route initiated","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":48,"function":"eval","correlationId":"cor_mgsgaizq_d40s6itl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"endpoint":"/api/organizations","requiredPermissions":["organizations:read:own","organizations:read:organization","organizations:read:all"],"requireAllPermissions":false,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:45.540Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgsgaizq_d40s6itl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":69,"type":"api","identifier":"::1","current":27,"remaining":173,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:45.540Z","level":"INFO","message":"Rate limit check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":61,"function":"eval","correlationId":"cor_mgsgaizq_d40s6itl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":69,"limitType":"api","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:45.540Z","level":"DEBUG","message":"API auth check initiated","service":"bendcare-os","env":"development","file":"global-auth.ts","line":65,"function":"applyGlobalAuth","correlationId":"cor_mgsgaizq_d40s6itl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":69,"pathname":"/api/organizations","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:45.570Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgsgaizq_d40s6itl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":99,"type":"api","identifier":"::1","current":28,"remaining":172,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:45.570Z","level":"DEBUG","message":"Using httpOnly cookie for authentication","service":"bendcare-os","env":"development","file":"global-auth.ts","line":100,"function":"applyGlobalAuth","correlationId":"cor_mgsgaizq_d40s6itl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":99,"pathname":"/api/organizations","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:45.570Z","level":"DEBUG","message":"Using access token from httpOnly cookie","service":"bendcare-os","env":"development","file":"auth.ts","line":36,"function":"requireAuth","correlationId":"cor_mgsgaizq_d40s6itl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":99,"component":"auth","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:45.630Z","level":"DEBUG","message":"Loading user context","service":"bendcare-os","env":"development","file":"user-context.ts","line":304,"function":"getUserContextSafe","correlationId":"cor_mgsgaizq_d40s6itl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":159,"userId":"[UUID]","operation":"getUserContext","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
Query: select "user_id", "email", "first_name", "last_name", "is_active", "email_verified", "created_at", "updated_at" from "users" where "users"."user_id" = $1 limit $2 -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", 1]
Query: select "user_organizations"."user_organization_id", "user_organizations"."user_id", "user_organizations"."organization_id", "user_organizations"."is_active", "user_organizations"."joined_at", "user_organizations"."created_at", "organizations"."name", "organizations"."slug", "organizations"."parent_organization_id", "organizations"."is_active", "organizations"."created_at", "organizations"."updated_at", "organizations"."deleted_at" from "user_organizations" inner join "organizations" on "user_organizations"."organization_id" = "organizations"."organization_id" where ("user_organizations"."user_id" = $1 and "user_organizations"."is_active" = $2 and "organizations"."is_active" = $3) -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", true, true]
Query: select distinct "user_roles"."user_role_id", "user_roles"."user_id", "user_roles"."role_id", "user_roles"."organization_id", "user_roles"."granted_by", "user_roles"."granted_at", "user_roles"."expires_at", "user_roles"."is_active", "user_roles"."created_at", "roles"."name", "roles"."description", "roles"."organization_id", "roles"."is_system_role", "roles"."is_active", "roles"."created_at", "roles"."updated_at", "roles"."deleted_at", "permissions"."permission_id", "permissions"."name", "permissions"."description", "permissions"."resource", "permissions"."action", "permissions"."scope", "permissions"."is_active", "permissions"."created_at", "permissions"."updated_at" from "user_roles" inner join "roles" on "user_roles"."role_id" = "roles"."role_id" inner join "role_permissions" on "roles"."role_id" = "role_permissions"."role_id" inner join "permissions" on "role_permissions"."permission_id" = "permissions"."permission_id" where ("user_roles"."user_id" = $1 and "user_roles"."is_active" = $2 and "roles"."is_active" = $3 and "permissions"."is_active" = $4) -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", true, true, true]
{"@timestamp":"2025-10-15T20:35:45.650Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"user-context.ts","line":314,"function":"eval","correlationId":"cor_mgsgaizq_d40s6itl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":179,"userId":"[UUID]","rolesCount":1,"permissionsCount":90,"organizationsCount":0,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:45.651Z","level":"INFO","message":"API authentication successful","service":"bendcare-os","env":"development","file":"global-auth.ts","line":122,"function":"applyGlobalAuth","correlationId":"cor_mgsgaizq_d40s6itl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","pathname":"/api/organizations","userId":"[UUID]","userEmail":"[REDACTED]","authMethod":"httponly_cookie","duration":80,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:45.651Z","level":"INFO","message":"Global auth check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":71,"function":"eval","correlationId":"cor_mgsgaizq_d40s6itl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":111,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:45.651Z","level":"DEBUG","message":"Global authentication completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":74,"function":"eval","correlationId":"cor_mgsgaizq_d40s6itl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":180,"hasSession":true,"hasUser":true,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:45.651Z","level":"INFO","message":"User context retrieved from session","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":145,"function":"eval","correlationId":"cor_mgsgaizq_d40s6itl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","cached":true,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:45.651Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":167,"function":"eval","correlationId":"cor_mgsgaizq_d40s6itl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":180,"userId":"[UUID]","roleCount":1,"permissionCount":90,"isSuperAdmin":true,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:45.652Z","level":"INFO","message":"RBAC permission check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":183,"function":"eval","correlationId":"cor_mgsgaizq_d40s6itl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1,"userId":"[UUID]","permissions":["organizations:read:own","organizations:read:organization","organizations:read:all"],"requireAll":false,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:45.652Z","level":"INFO","message":"RBAC permission check passed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":192,"function":"eval","correlationId":"cor_mgsgaizq_d40s6itl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":181,"userId":"[UUID]","permissions":["organizations:read:own","organizations:read:organization","organizations:read:all"],"rbacDuration":1,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:45.652Z","level":"INFO","message":"Auth: rbac_check","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":199,"function":"eval","correlationId":"cor_mgsgaizq_d40s6itl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":181,"component":"auth","action":"rbac_check","success":true,"userId":"[UUID]","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
Query: select "organizations"."organization_id", "organizations"."name", "organizations"."slug", "organizations"."parent_organization_id", "organizations"."is_active", "organizations"."created_at", "organizations"."updated_at", "organizations"."deleted_at", "practices"."practice_id", "practices"."domain", "practices"."status", "practices"."template_id" from "organizations" left join "practices" on "organizations"."organization_id" = "practices"."practice_id" where ("organizations"."is_active" = $1 and "organizations"."deleted_at" is null and "organizations"."is_active" = $2) order by "organizations"."created_at" desc -- params: [true, true]
Query: select "organization_id", count(*) from "user_organizations" where ("user_organizations"."organization_id" in ($1, $2, $3, $4, $5) and "user_organizations"."is_active" = $6) group by "user_organizations"."organization_id" -- params: ["d9e5bd24-b104-4ff5-a219-678eedb31aaa", "4e23ee8f-33b1-4a6a-a371-0437d01c40d6", "7b70e645-82f2-4b18-8b22-db946991f6d5", "640c5969-74bc-4189-a455-81bf26f74829", "13f5a859-91ba-46ad-a4d1-40fb7a2996f2", true]
Query: select "parent_organization_id", count(*) from "organizations" where ("organizations"."parent_organization_id" in ($1, $2, $3, $4, $5) and "organizations"."parent_organization_id" is not null and "organizations"."is_active" = $6 and "organizations"."deleted_at" is null) group by "organizations"."parent_organization_id" -- params: ["d9e5bd24-b104-4ff5-a219-678eedb31aaa", "4e23ee8f-33b1-4a6a-a371-0437d01c40d6", "7b70e645-82f2-4b18-8b22-db946991f6d5", "640c5969-74bc-4189-a455-81bf26f74829", "13f5a859-91ba-46ad-a4d1-40fb7a2996f2", true]
{"@timestamp":"2025-10-15T20:35:45.659Z","level":"INFO","message":"organizations list query completed - returned 5 of 5","service":"bendcare-os","env":"development","file":"index.ts","line":257,"function":"OrganizationsService.getOrganizations","correlationId":"cor_mgsgaizq_d40s6itl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","operation":"list_organizations","resourceType":"organizations","userId":"[UUID]","filters":{"is_active":true},"filterCount":1,"results":{"returned":5,"total":5,"page":1,"hasMore":false},"empty":false,"duration":6,"slow":false,"component":"service","query":{"duration":2,"slow":false},"enrichment":{"duration":4,"slow":false},"rbacScope":"all","batchOptimized":true,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:45.660Z","level":"INFO","message":"organizations list query completed - returned 5 organizations","service":"bendcare-os","env":"development","file":"route.ts","line":67,"function":"getOrganizationsHandler","correlationId":"cor_mgsgaizq_d40s6itl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","operation":"list_organizations","resourceType":"organizations","userId":"[UUID]","isSuperAdmin":true,"filters":{"is_active":true},"filterCount":1,"results":{"returned":5,"active":5,"inactive":0,"page":1,"pageSize":10},"sort":{"field":"created_at","direction":"desc"},"duration":6,"slow":false,"component":"business-logic","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:45.660Z","level":"INFO","message":"Handler execution completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":205,"function":"eval","correlationId":"cor_mgsgaizq_d40s6itl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":7,"userId":"[UUID]","statusCode":200,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:45.661Z","level":"INFO","message":"RBAC route completed successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":211,"function":"eval","correlationId":"cor_mgsgaizq_d40s6itl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":190,"userId":"[UUID]","statusCode":200,"totalDuration":189,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
 GET /api/organizations?is_active=true 200 in 215ms
{"@timestamp":"2025-10-15T20:35:45.869Z","level":"INFO","message":"GET /api/organizations - RBAC route","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":47,"function":"eval","correlationId":"cor_mgsgajak_jd1aw35t","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"component":"api","request":{},"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:45.869Z","level":"INFO","message":"RBAC route initiated","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":48,"function":"eval","correlationId":"cor_mgsgajak_jd1aw35t","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"endpoint":"/api/organizations","requiredPermissions":["organizations:read:own","organizations:read:organization","organizations:read:all"],"requireAllPermissions":false,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:45.901Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgsgajak_jd1aw35t","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":32,"type":"api","identifier":"::1","current":29,"remaining":171,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:45.902Z","level":"INFO","message":"Rate limit check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":61,"function":"eval","correlationId":"cor_mgsgajak_jd1aw35t","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":32,"limitType":"api","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:45.902Z","level":"DEBUG","message":"API auth check initiated","service":"bendcare-os","env":"development","file":"global-auth.ts","line":65,"function":"applyGlobalAuth","correlationId":"cor_mgsgajak_jd1aw35t","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":33,"pathname":"/api/organizations","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:45.931Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgsgajak_jd1aw35t","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":62,"type":"api","identifier":"::1","current":30,"remaining":170,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:45.932Z","level":"DEBUG","message":"Using httpOnly cookie for authentication","service":"bendcare-os","env":"development","file":"global-auth.ts","line":100,"function":"applyGlobalAuth","correlationId":"cor_mgsgajak_jd1aw35t","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":63,"pathname":"/api/organizations","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:45.932Z","level":"DEBUG","message":"Using access token from httpOnly cookie","service":"bendcare-os","env":"development","file":"auth.ts","line":36,"function":"requireAuth","correlationId":"cor_mgsgajak_jd1aw35t","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":63,"component":"auth","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:46.069Z","level":"DEBUG","message":"User context cache hit","service":"bendcare-os","env":"development","file":"user-context.ts","line":288,"function":"getUserContextSafe","correlationId":"cor_mgsgajak_jd1aw35t","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":200,"userId":"[UUID]","operation":"getUserContext","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:46.069Z","level":"INFO","message":"API authentication successful","service":"bendcare-os","env":"development","file":"global-auth.ts","line":122,"function":"applyGlobalAuth","correlationId":"cor_mgsgajak_jd1aw35t","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","pathname":"/api/organizations","userId":"[UUID]","userEmail":"[REDACTED]","authMethod":"httponly_cookie","duration":137,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:46.070Z","level":"INFO","message":"Global auth check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":71,"function":"eval","correlationId":"cor_mgsgajak_jd1aw35t","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":167,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:46.070Z","level":"DEBUG","message":"Global authentication completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":74,"function":"eval","correlationId":"cor_mgsgajak_jd1aw35t","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":201,"hasSession":true,"hasUser":true,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:46.070Z","level":"INFO","message":"User context retrieved from session","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":145,"function":"eval","correlationId":"cor_mgsgajak_jd1aw35t","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","cached":true,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:46.071Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":167,"function":"eval","correlationId":"cor_mgsgajak_jd1aw35t","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":202,"userId":"[UUID]","roleCount":1,"permissionCount":90,"isSuperAdmin":true,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:46.071Z","level":"INFO","message":"RBAC permission check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":183,"function":"eval","correlationId":"cor_mgsgajak_jd1aw35t","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","permissions":["organizations:read:own","organizations:read:organization","organizations:read:all"],"requireAll":false,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:46.071Z","level":"INFO","message":"RBAC permission check passed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":192,"function":"eval","correlationId":"cor_mgsgajak_jd1aw35t","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":202,"userId":"[UUID]","permissions":["organizations:read:own","organizations:read:organization","organizations:read:all"],"rbacDuration":0,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:46.072Z","level":"INFO","message":"Auth: rbac_check","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":199,"function":"eval","correlationId":"cor_mgsgajak_jd1aw35t","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":203,"component":"auth","action":"rbac_check","success":true,"userId":"[UUID]","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
Query: select "organizations"."organization_id", "organizations"."name", "organizations"."slug", "organizations"."parent_organization_id", "organizations"."is_active", "organizations"."created_at", "organizations"."updated_at", "organizations"."deleted_at", "practices"."practice_id", "practices"."domain", "practices"."status", "practices"."template_id" from "organizations" left join "practices" on "organizations"."organization_id" = "practices"."practice_id" where ("organizations"."is_active" = $1 and "organizations"."deleted_at" is null and "organizations"."is_active" = $2) order by "organizations"."created_at" desc -- params: [true, true]
Query: select "organization_id", count(*) from "user_organizations" where ("user_organizations"."organization_id" in ($1, $2, $3, $4, $5) and "user_organizations"."is_active" = $6) group by "user_organizations"."organization_id" -- params: ["d9e5bd24-b104-4ff5-a219-678eedb31aaa", "4e23ee8f-33b1-4a6a-a371-0437d01c40d6", "7b70e645-82f2-4b18-8b22-db946991f6d5", "640c5969-74bc-4189-a455-81bf26f74829", "13f5a859-91ba-46ad-a4d1-40fb7a2996f2", true]
Query: select "parent_organization_id", count(*) from "organizations" where ("organizations"."parent_organization_id" in ($1, $2, $3, $4, $5) and "organizations"."parent_organization_id" is not null and "organizations"."is_active" = $6 and "organizations"."deleted_at" is null) group by "organizations"."parent_organization_id" -- params: ["d9e5bd24-b104-4ff5-a219-678eedb31aaa", "4e23ee8f-33b1-4a6a-a371-0437d01c40d6", "7b70e645-82f2-4b18-8b22-db946991f6d5", "640c5969-74bc-4189-a455-81bf26f74829", "13f5a859-91ba-46ad-a4d1-40fb7a2996f2", true]
{"@timestamp":"2025-10-15T20:35:46.078Z","level":"INFO","message":"organizations list query completed - returned 5 of 5","service":"bendcare-os","env":"development","file":"index.ts","line":257,"function":"OrganizationsService.getOrganizations","correlationId":"cor_mgsgajak_jd1aw35t","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","operation":"list_organizations","resourceType":"organizations","userId":"[UUID]","filters":{"is_active":true},"filterCount":1,"results":{"returned":5,"total":5,"page":1,"hasMore":false},"empty":false,"duration":5,"slow":false,"component":"service","query":{"duration":3,"slow":false},"enrichment":{"duration":2,"slow":false},"rbacScope":"all","batchOptimized":true,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:46.078Z","level":"INFO","message":"organizations list query completed - returned 5 organizations","service":"bendcare-os","env":"development","file":"route.ts","line":67,"function":"getOrganizationsHandler","correlationId":"cor_mgsgajak_jd1aw35t","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","operation":"list_organizations","resourceType":"organizations","userId":"[UUID]","isSuperAdmin":true,"filters":{"is_active":true},"filterCount":1,"results":{"returned":5,"active":5,"inactive":0,"page":1,"pageSize":10},"sort":{"field":"created_at","direction":"desc"},"duration":6,"slow":false,"component":"business-logic","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:46.079Z","level":"INFO","message":"Handler execution completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":205,"function":"eval","correlationId":"cor_mgsgajak_jd1aw35t","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":6,"userId":"[UUID]","statusCode":200,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:46.079Z","level":"INFO","message":"RBAC route completed successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":211,"function":"eval","correlationId":"cor_mgsgajak_jd1aw35t","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":210,"userId":"[UUID]","statusCode":200,"totalDuration":210,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
 GET /api/organizations?is_active=true 200 in 242ms
🌐 MIDDLEWARE: Processing request for: /dashboard/view/6db475e1-ad7b-45ca-8845-226a0d9a3b0a
🌐 MIDDLEWARE: Protected route detected
🌐 MIDDLEWARE: Checking auth - access token: true, refresh token: true
🌐 MIDDLEWARE: Access token valid - allowing access
🌐 MIDDLEWARE: User authenticated (or has refresh token) - allowing request to proceed
 GET /dashboard/view/6db475e1-ad7b-45ca-8845-226a0d9a3b0a 200 in 86ms
{"@timestamp":"2025-10-15T20:35:48.863Z","level":"INFO","message":"GET /api/admin/analytics/dashboards - RBAC route","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":47,"function":"eval","correlationId":"cor_mgsgalll_xae0v8ds","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"component":"api","request":{},"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:48.863Z","level":"INFO","message":"RBAC route initiated","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":48,"function":"eval","correlationId":"cor_mgsgalll_xae0v8ds","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"endpoint":"/api/admin/analytics/dashboards","requiredPermissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"requireAllPermissions":false,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:48.876Z","level":"INFO","message":"GET /api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a - RBAC route","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":47,"function":"eval","correlationId":"cor_mgsgalll_f6nj4sdf","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"component":"api","request":{},"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:48.876Z","level":"INFO","message":"RBAC route initiated","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":48,"function":"eval","correlationId":"cor_mgsgalll_f6nj4sdf","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"endpoint":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","requiredPermissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"requireAllPermissions":false,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:48.893Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgsgalll_xae0v8ds","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":30,"type":"api","identifier":"::1","current":31,"remaining":169,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:48.893Z","level":"INFO","message":"Rate limit check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":61,"function":"eval","correlationId":"cor_mgsgalll_xae0v8ds","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":30,"limitType":"api","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:48.893Z","level":"DEBUG","message":"API auth check initiated","service":"bendcare-os","env":"development","file":"global-auth.ts","line":65,"function":"applyGlobalAuth","correlationId":"cor_mgsgalll_xae0v8ds","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":30,"pathname":"/api/admin/analytics/dashboards","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:48.904Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","type":"api","identifier":"::1","current":32,"remaining":168,"limit":200}
{"@timestamp":"2025-10-15T20:35:48.904Z","level":"INFO","message":"JWT authentication middleware initiated","service":"bendcare-os","env":"development","file":"jwt-auth.ts","line":100,"function":"requireJWTAuth","url":"http://localhost:4001/api/auth/me","method":"GET","hasAuthHeader":false,"hasCookieHeader":"[REDACTED]"}
🔐 AUTH: Using access token from httpOnly cookie
{"@timestamp":"2025-10-15T20:35:48.906Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgsgalll_f6nj4sdf","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":30,"type":"api","identifier":"::1","current":33,"remaining":167,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:48.906Z","level":"INFO","message":"Rate limit check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":61,"function":"eval","correlationId":"cor_mgsgalll_f6nj4sdf","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":30,"limitType":"api","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:48.907Z","level":"DEBUG","message":"API auth check initiated","service":"bendcare-os","env":"development","file":"global-auth.ts","line":65,"function":"applyGlobalAuth","correlationId":"cor_mgsgalll_f6nj4sdf","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":31,"pathname":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:48.966Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgsgalll_xae0v8ds","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":103,"type":"api","identifier":"::1","current":34,"remaining":166,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:48.966Z","level":"DEBUG","message":"Using httpOnly cookie for authentication","service":"bendcare-os","env":"development","file":"global-auth.ts","line":100,"function":"applyGlobalAuth","correlationId":"cor_mgsgalll_xae0v8ds","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":103,"pathname":"/api/admin/analytics/dashboards","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:48.966Z","level":"DEBUG","message":"Using access token from httpOnly cookie","service":"bendcare-os","env":"development","file":"auth.ts","line":36,"function":"requireAuth","correlationId":"cor_mgsgalll_xae0v8ds","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":103,"component":"auth","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:48.967Z","level":"INFO","message":"Auth: jwt_validation","service":"bendcare-os","env":"development","file":"jwt-auth.ts","line":153,"function":"requireJWTAuth","component":"auth","action":"jwt_validation","success":true,"userId":"[UUID]","sessionId":"2vQBp_rVd8A_DaGh9-DDEQSW9sseDi-c","tokenSource":"[REDACTED]","validationDuration":62}
🔐 AUTH: JWT cache miss, falling back to database query
{"@timestamp":"2025-10-15T20:35:48.967Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgsgalll_f6nj4sdf","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":91,"type":"api","identifier":"::1","current":35,"remaining":165,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:48.967Z","level":"DEBUG","message":"Using httpOnly cookie for authentication","service":"bendcare-os","env":"development","file":"global-auth.ts","line":100,"function":"applyGlobalAuth","correlationId":"cor_mgsgalll_f6nj4sdf","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":91,"pathname":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:48.967Z","level":"DEBUG","message":"Using access token from httpOnly cookie","service":"bendcare-os","env":"development","file":"auth.ts","line":36,"function":"requireAuth","correlationId":"cor_mgsgalll_f6nj4sdf","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":91,"component":"auth","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:49.064Z","level":"DEBUG","message":"Redis user context cache hit","service":"bendcare-os","env":"development","file":"cached-user-context.ts","line":261,"function":"eval","userId":"[UUID]","rolesCount":1,"permissionsCount":90,"fromRedis":true}
{"@timestamp":"2025-10-15T20:35:49.064Z","level":"INFO","message":"JWT authentication completed","service":"bendcare-os","env":"development","file":"jwt-auth.ts","line":189,"function":"requireJWTAuth","userId":"[UUID]","sessionId":"2vQBp_rVd8A_DaGh9-DDEQSW9sseDi-c","tokenSource":"[REDACTED]","cacheHit":true,"roleCount":1,"permissionCount":90,"duration":160}
{"@timestamp":"2025-10-15T20:35:49.064Z","level":"WARN","message":"Security: jwt_authentication_successful","service":"bendcare-os","env":"development","file":"jwt-auth.ts","line":199,"function":"requireJWTAuth","component":"security","event":"jwt_authentication_successful","severity":"low","action":"jwt_middleware_success","userId":"[UUID]","tokenValidated":"[REDACTED]","rbacContextLoaded":true,"cacheOptimized":true}
{"@timestamp":"2025-10-15T20:35:49.064Z","level":"INFO","message":"JWT middleware completed","service":"bendcare-os","env":"development","file":"jwt-auth.ts","line":207,"function":"requireJWTAuth","duration":160,"performanceTiming":true,"tokenValidationTime":"[REDACTED]","cacheEnabled":true,"totalOperations":91}
{"@timestamp":"2025-10-15T20:35:49.065Z","level":"INFO","message":"user context retrieved successfully from JWT token","service":"bendcare-os","env":"development","file":"route.ts","line":41,"function":"GET","operation":"get_user_context","userId":"[UUID]","email":"[REDACTED]","rbac":{"roles":1,"permissions":90,"isSuperAdmin":true,"orgAdminFor":0},"organizations":{"direct":0,"accessible":0,"current":null},"duration":191,"slow":false,"component":"auth","cached":true}
 GET /api/auth/me 200 in 238ms
{"@timestamp":"2025-10-15T20:35:49.185Z","level":"DEBUG","message":"Loading user context","service":"bendcare-os","env":"development","file":"user-context.ts","line":304,"function":"getUserContextSafe","correlationId":"cor_mgsgalll_xae0v8ds","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":322,"userId":"[UUID]","operation":"getUserContext","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
Query: select "user_id", "email", "first_name", "last_name", "is_active", "email_verified", "created_at", "updated_at" from "users" where "users"."user_id" = $1 limit $2 -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", 1]
Query: select "user_organizations"."user_organization_id", "user_organizations"."user_id", "user_organizations"."organization_id", "user_organizations"."is_active", "user_organizations"."joined_at", "user_organizations"."created_at", "organizations"."name", "organizations"."slug", "organizations"."parent_organization_id", "organizations"."is_active", "organizations"."created_at", "organizations"."updated_at", "organizations"."deleted_at" from "user_organizations" inner join "organizations" on "user_organizations"."organization_id" = "organizations"."organization_id" where ("user_organizations"."user_id" = $1 and "user_organizations"."is_active" = $2 and "organizations"."is_active" = $3) -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", true, true]
Query: select distinct "user_roles"."user_role_id", "user_roles"."user_id", "user_roles"."role_id", "user_roles"."organization_id", "user_roles"."granted_by", "user_roles"."granted_at", "user_roles"."expires_at", "user_roles"."is_active", "user_roles"."created_at", "roles"."name", "roles"."description", "roles"."organization_id", "roles"."is_system_role", "roles"."is_active", "roles"."created_at", "roles"."updated_at", "roles"."deleted_at", "permissions"."permission_id", "permissions"."name", "permissions"."description", "permissions"."resource", "permissions"."action", "permissions"."scope", "permissions"."is_active", "permissions"."created_at", "permissions"."updated_at" from "user_roles" inner join "roles" on "user_roles"."role_id" = "roles"."role_id" inner join "role_permissions" on "roles"."role_id" = "role_permissions"."role_id" inner join "permissions" on "role_permissions"."permission_id" = "permissions"."permission_id" where ("user_roles"."user_id" = $1 and "user_roles"."is_active" = $2 and "roles"."is_active" = $3 and "permissions"."is_active" = $4) -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", true, true, true]
{"@timestamp":"2025-10-15T20:35:49.193Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"user-context.ts","line":314,"function":"eval","correlationId":"cor_mgsgalll_xae0v8ds","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":331,"userId":"[UUID]","rolesCount":1,"permissionsCount":90,"organizationsCount":0,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:49.194Z","level":"DEBUG","message":"User context cache hit","service":"bendcare-os","env":"development","file":"user-context.ts","line":288,"function":"getUserContextSafe","correlationId":"cor_mgsgalll_f6nj4sdf","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":318,"userId":"[UUID]","operation":"getUserContext","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:49.194Z","level":"INFO","message":"API authentication successful","service":"bendcare-os","env":"development","file":"global-auth.ts","line":122,"function":"applyGlobalAuth","correlationId":"cor_mgsgalll_xae0v8ds","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","pathname":"/api/admin/analytics/dashboards","userId":"[UUID]","userEmail":"[REDACTED]","authMethod":"httponly_cookie","duration":228,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:49.194Z","level":"INFO","message":"API authentication successful","service":"bendcare-os","env":"development","file":"global-auth.ts","line":122,"function":"applyGlobalAuth","correlationId":"cor_mgsgalll_f6nj4sdf","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","pathname":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","userId":"[UUID]","userEmail":"[REDACTED]","authMethod":"httponly_cookie","duration":227,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:49.194Z","level":"INFO","message":"Global auth check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":71,"function":"eval","correlationId":"cor_mgsgalll_xae0v8ds","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":301,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:49.194Z","level":"DEBUG","message":"Global authentication completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":74,"function":"eval","correlationId":"cor_mgsgalll_xae0v8ds","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":331,"hasSession":true,"hasUser":true,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:49.194Z","level":"INFO","message":"User context retrieved from session","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":145,"function":"eval","correlationId":"cor_mgsgalll_xae0v8ds","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","cached":true,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:49.194Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":167,"function":"eval","correlationId":"cor_mgsgalll_xae0v8ds","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":331,"userId":"[UUID]","roleCount":1,"permissionCount":90,"isSuperAdmin":true,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:49.194Z","level":"INFO","message":"Global auth check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":71,"function":"eval","correlationId":"cor_mgsgalll_f6nj4sdf","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":288,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:49.194Z","level":"DEBUG","message":"Global authentication completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":74,"function":"eval","correlationId":"cor_mgsgalll_f6nj4sdf","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":318,"hasSession":true,"hasUser":true,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:49.194Z","level":"INFO","message":"User context retrieved from session","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":145,"function":"eval","correlationId":"cor_mgsgalll_f6nj4sdf","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","cached":true,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:49.194Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":167,"function":"eval","correlationId":"cor_mgsgalll_f6nj4sdf","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":318,"userId":"[UUID]","roleCount":1,"permissionCount":90,"isSuperAdmin":true,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:49.194Z","level":"INFO","message":"RBAC permission check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":183,"function":"eval","correlationId":"cor_mgsgalll_xae0v8ds","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","permissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"requireAll":false,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:49.195Z","level":"INFO","message":"RBAC permission check passed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":192,"function":"eval","correlationId":"cor_mgsgalll_xae0v8ds","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":332,"userId":"[UUID]","permissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"rbacDuration":0,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:49.195Z","level":"INFO","message":"Auth: rbac_check","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":199,"function":"eval","correlationId":"cor_mgsgalll_xae0v8ds","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":332,"component":"auth","action":"rbac_check","success":true,"userId":"[UUID]","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:49.195Z","level":"INFO","message":"RBAC permission check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":183,"function":"eval","correlationId":"cor_mgsgalll_f6nj4sdf","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1,"userId":"[UUID]","permissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"requireAll":false,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:49.195Z","level":"INFO","message":"RBAC permission check passed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":192,"function":"eval","correlationId":"cor_mgsgalll_f6nj4sdf","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":319,"userId":"[UUID]","permissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"rbacDuration":1,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:49.195Z","level":"INFO","message":"Auth: rbac_check","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":199,"function":"eval","correlationId":"cor_mgsgalll_f6nj4sdf","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":319,"component":"auth","action":"rbac_check","success":true,"userId":"[UUID]","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
Query: select "dashboards"."dashboard_id", "dashboards"."dashboard_name", "dashboards"."dashboard_description", "dashboards"."layout_config", "dashboards"."dashboard_category_id", "dashboards"."organization_id", "dashboards"."created_by", "dashboards"."created_at", "dashboards"."updated_at", "dashboards"."is_active", "dashboards"."is_published", "dashboards"."is_default", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "users"."user_id", "users"."first_name", "users"."last_name", "users"."email", count("dashboard_charts"."chart_definition_id") from "dashboards" left join "chart_categories" on "dashboards"."dashboard_category_id" = "chart_categories"."chart_category_id" left join "users" on "dashboards"."created_by" = "users"."user_id" left join "dashboard_charts" on "dashboards"."dashboard_id" = "dashboard_charts"."dashboard_id" where ("dashboards"."is_active" = $1 and "dashboards"."is_published" = $2) group by "dashboards"."dashboard_id", "dashboards"."dashboard_name", "dashboards"."dashboard_description", "dashboards"."layout_config", "dashboards"."dashboard_category_id", "dashboards"."organization_id", "dashboards"."created_by", "dashboards"."created_at", "dashboards"."updated_at", "dashboards"."is_active", "dashboards"."is_published", "dashboards"."is_default", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "users"."user_id", "users"."first_name", "users"."last_name", "users"."email" order by "dashboards"."created_at" desc limit $3 -- params: [true, true, 1000000]
{"@timestamp":"2025-10-15T20:35:49.195Z","level":"INFO","message":"Dashboard get request initiated","service":"bendcare-os","env":"development","file":"route.ts","line":30,"function":"getDashboardHandler","correlationId":"cor_mgsgalll_f6nj4sdf","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":319,"dashboardId":"[UUID]","requestingUserId":"[UUID]","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
Query: select "dashboards"."dashboard_id", "dashboards"."dashboard_name", "dashboards"."dashboard_description", "dashboards"."layout_config", "dashboards"."dashboard_category_id", "dashboards"."organization_id", "dashboards"."created_by", "dashboards"."created_at", "dashboards"."updated_at", "dashboards"."is_active", "dashboards"."is_published", "dashboards"."is_default", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "dashboards" left join "chart_categories" on "dashboards"."dashboard_category_id" = "chart_categories"."chart_category_id" left join "users" on "dashboards"."created_by" = "users"."user_id" where "dashboards"."dashboard_id" = $1 limit $2 -- params: ["6db475e1-ad7b-45ca-8845-226a0d9a3b0a", 1]
Query: select count(*) from "dashboard_charts" where "dashboard_charts"."dashboard_id" = $1 -- params: ["6db475e1-ad7b-45ca-8845-226a0d9a3b0a"]
{"@timestamp":"2025-10-15T20:35:49.199Z","level":"INFO","message":"dashboards list query completed - returned 8 of 8","service":"bendcare-os","env":"development","file":"rbac-dashboards-service.ts","line":211,"function":"RBACDashboardsServiceImpl.getDashboards","correlationId":"cor_mgsgalll_xae0v8ds","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","operation":"list_dashboards","resourceType":"dashboards","userId":"[UUID]","filters":{"is_active":true,"is_published":true},"filterCount":2,"results":{"returned":8,"total":8,"page":1},"empty":false,"duration":4,"slow":false,"component":"service","query":{"duration":4,"slow":false},"rbacScope":"all","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
Query: select count(*) from "dashboards" where ("dashboards"."is_active" = $1 and "dashboards"."is_published" = $2) -- params: [true, true]
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "dashboard_charts"."position_config" from "dashboard_charts" inner join "chart_definitions" on "dashboard_charts"."chart_definition_id" = "chart_definitions"."chart_definition_id" where "dashboard_charts"."dashboard_id" = $1 order by "dashboard_charts"."added_at" -- params: ["6db475e1-ad7b-45ca-8845-226a0d9a3b0a"]
{"@timestamp":"2025-10-15T20:35:49.200Z","level":"INFO","message":"dashboards counted","service":"bendcare-os","env":"development","file":"rbac-dashboards-service.ts","line":366,"function":"RBACDashboardsServiceImpl.getDashboardCount","correlationId":"cor_mgsgalll_xae0v8ds","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","operation":"count_dashboards","userId":"[UUID]","filters":{"is_active":true,"is_published":true},"count":8,"duration":1,"metadata":{"query":{"duration":1,"slow":false},"rbacScope":"all","component":"service"},"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:49.200Z","level":"INFO","message":"dashboards list query completed - returned 8 of 8","service":"bendcare-os","env":"development","file":"route.ts","line":63,"function":"getDashboardsHandler","correlationId":"cor_mgsgalll_xae0v8ds","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","operation":"list_dashboards","resourceType":"dashboards","userId":"[UUID]","filters":{"is_active":true,"is_published":true},"filterCount":2,"results":{"returned":8,"total":8,"published":8,"draft":0,"hasDefault":true,"defaultDashboardId":"[UUID]","totalCharts":30,"averageChartsPerDashboard":4,"page":1,"pageSize":8},"duration":5,"slow":false,"component":"analytics","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:49.200Z","level":"INFO","message":"Handler execution completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":205,"function":"eval","correlationId":"cor_mgsgalll_xae0v8ds","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":5,"userId":"[UUID]","statusCode":200,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-15T20:35:49.201Z","level":"INFO","message":"RBAC route completed successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":211,"function":"eval","correlationId":"cor_mgsgalll_xae0v8ds","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":338,"userId":"[UUID]","statusCode":200,"totalDuration":337,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
 GET /api/admin/analytics/dashboards?is_published=true&is_active=true 200 in 375ms
{"@timestamp":"2025-10-15T20:35:49.201Z","level":"INFO","message":"dashboard retrieved successfully","service":"bendcare-os","env":"development","file":"rbac-dashboards-service.ts","line":336,"function":"RBACDashboardsServiceImpl.getDashboardById","correlationId":"cor_mgsgalll_f6nj4sdf","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","operation":"read_dashboard","resourceType":"dashboard","resourceId":"[UUID]","resourceName":"All Types","userId":"[UUID]","found":true,"duration":6,"slow":false,"component":"service","query":{"duration":4,"slow":false},"chartCountQuery":{"duration":1,"slow":false},"chartsQuery":{"duration":1,"slow":false},"chartCount":9,"rbacScope":"all","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:49.202Z","level":"DEBUG","message":"DB: SELECT on dashboards","service":"bendcare-os","env":"development","file":"route.ts","line":42,"function":"getDashboardHandler","correlationId":"cor_mgsgalll_f6nj4sdf","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","component":"database","operation":"SELECT","table":"dashboards","duration":6,"rowCount":1,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:49.202Z","level":"INFO","message":"Handler execution completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":205,"function":"eval","correlationId":"cor_mgsgalll_f6nj4sdf","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":7,"userId":"[UUID]","statusCode":200,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
{"@timestamp":"2025-10-15T20:35:49.202Z","level":"INFO","message":"RBAC route completed successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":211,"function":"eval","correlationId":"cor_mgsgalll_f6nj4sdf","method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":326,"userId":"[UUID]","statusCode":200,"totalDuration":326,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a"}}
 GET /api/admin/analytics/dashboards/6db475e1-ad7b-45ca-8845-226a0d9a3b0a 200 in 368ms
{"@timestamp":"2025-10-15T20:35:49.227Z","level":"INFO","message":"Connecting to Redis","service":"bendcare-os","env":"development","file":"redis.ts","line":78,"function":"RedisClientManager.connect","component":"redis","host":"bcos-redis-dev-rt5vbv.serverless.use1.cache.amazonaws.com","port":6379,"username":"[REDACTED]","keyPrefix":"[REDACTED]","tls":true}
{"@timestamp":"2025-10-15T20:35:49.231Z","level":"INFO","message":"GET /api/admin/analytics/charts - RBAC route","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":47,"function":"eval","correlationId":"cor_mgsgalwd_fa0ef4fu","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"component":"api","request":{},"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:49.231Z","level":"INFO","message":"RBAC route initiated","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":48,"function":"eval","correlationId":"cor_mgsgalwd_fa0ef4fu","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"endpoint":"/api/admin/analytics/charts","requiredPermissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"requireAllPermissions":false,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:49.264Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgsgalwd_fa0ef4fu","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":33,"type":"api","identifier":"::1","current":36,"remaining":164,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:49.264Z","level":"INFO","message":"Rate limit check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":61,"function":"eval","correlationId":"cor_mgsgalwd_fa0ef4fu","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":33,"limitType":"api","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:49.265Z","level":"DEBUG","message":"API auth check initiated","service":"bendcare-os","env":"development","file":"global-auth.ts","line":65,"function":"applyGlobalAuth","correlationId":"cor_mgsgalwd_fa0ef4fu","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":34,"pathname":"/api/admin/analytics/charts","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:49.295Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgsgalwd_fa0ef4fu","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":64,"type":"api","identifier":"::1","current":37,"remaining":163,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:49.295Z","level":"DEBUG","message":"Using httpOnly cookie for authentication","service":"bendcare-os","env":"development","file":"global-auth.ts","line":100,"function":"applyGlobalAuth","correlationId":"cor_mgsgalwd_fa0ef4fu","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":64,"pathname":"/api/admin/analytics/charts","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:49.295Z","level":"DEBUG","message":"Using access token from httpOnly cookie","service":"bendcare-os","env":"development","file":"auth.ts","line":36,"function":"requireAuth","correlationId":"cor_mgsgalwd_fa0ef4fu","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":64,"component":"auth","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:49.329Z","level":"INFO","message":"Redis connected successfully","service":"bendcare-os","env":"development","file":"redis.ts","line":109,"function":"EventEmitter.eval","component":"redis","host":"[REDACTED]","port":6379}
{"@timestamp":"2025-10-15T20:35:49.360Z","level":"DEBUG","message":"User context cache hit","service":"bendcare-os","env":"development","file":"user-context.ts","line":288,"function":"getUserContextSafe","correlationId":"cor_mgsgalwd_fa0ef4fu","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":129,"userId":"[UUID]","operation":"getUserContext","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:49.360Z","level":"INFO","message":"API authentication successful","service":"bendcare-os","env":"development","file":"global-auth.ts","line":122,"function":"applyGlobalAuth","correlationId":"cor_mgsgalwd_fa0ef4fu","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","pathname":"/api/admin/analytics/charts","userId":"[UUID]","userEmail":"[REDACTED]","authMethod":"httponly_cookie","duration":65,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:49.360Z","level":"INFO","message":"Global auth check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":71,"function":"eval","correlationId":"cor_mgsgalwd_fa0ef4fu","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":96,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:49.360Z","level":"DEBUG","message":"Global authentication completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":74,"function":"eval","correlationId":"cor_mgsgalwd_fa0ef4fu","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":129,"hasSession":true,"hasUser":true,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:49.360Z","level":"INFO","message":"User context retrieved from session","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":145,"function":"eval","correlationId":"cor_mgsgalwd_fa0ef4fu","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","cached":true,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:49.360Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":167,"function":"eval","correlationId":"cor_mgsgalwd_fa0ef4fu","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":129,"userId":"[UUID]","roleCount":1,"permissionCount":90,"isSuperAdmin":true,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:49.360Z","level":"INFO","message":"RBAC permission check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":183,"function":"eval","correlationId":"cor_mgsgalwd_fa0ef4fu","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","permissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"requireAll":false,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:49.361Z","level":"INFO","message":"RBAC permission check passed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":192,"function":"eval","correlationId":"cor_mgsgalwd_fa0ef4fu","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":130,"userId":"[UUID]","permissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"rbacDuration":0,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:49.361Z","level":"INFO","message":"Auth: rbac_check","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":199,"function":"eval","correlationId":"cor_mgsgalwd_fa0ef4fu","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":130,"component":"auth","action":"rbac_check","success":true,"userId":"[UUID]","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "chart_definitions"."data_source", "chart_definitions"."chart_config", "chart_definitions"."access_control", "chart_definitions"."data_source_id", "chart_definitions"."chart_category_id", "chart_definitions"."created_by", "chart_definitions"."created_at", "chart_definitions"."updated_at", "chart_definitions"."is_active", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "chart_definitions" left join "chart_categories" on "chart_definitions"."chart_category_id" = "chart_categories"."chart_category_id" left join "users" on "chart_definitions"."created_by" = "users"."user_id" where "chart_definitions"."is_active" = $1 order by "chart_definitions"."created_at" desc limit $2 -- params: [true, 1000000]
Query: select count(*) from "chart_definitions" where "chart_definitions"."is_active" = $1 -- params: [true]
{"@timestamp":"2025-10-15T20:35:49.365Z","level":"INFO","message":"charts list query completed - returned 15 of 15","service":"bendcare-os","env":"development","file":"route.ts","line":50,"function":"getChartsHandler","correlationId":"cor_mgsgalwd_fa0ef4fu","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","operation":"list_charts","resourceType":"chart_definitions","userId":"[UUID]","filters":{"is_active":true},"filterCount":1,"results":{"returned":15,"total":15,"chartTypeBreakdown":{"bar":5,"number":3,"stacked-bar":2,"dual-axis":2,"progress-bar":1,"table":1,"horizontal-bar":1},"activeCount":15,"inactiveCount":0},"duration":4,"slow":false,"component":"analytics","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:49.365Z","level":"INFO","message":"Handler execution completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":205,"function":"eval","correlationId":"cor_mgsgalwd_fa0ef4fu","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":4,"userId":"[UUID]","statusCode":200,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-15T20:35:49.365Z","level":"INFO","message":"RBAC route completed successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":211,"function":"eval","correlationId":"cor_mgsgalwd_fa0ef4fu","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":134,"userId":"[UUID]","statusCode":200,"totalDuration":134,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
 GET /api/admin/analytics/charts?is_active=true 200 in 152ms
{"@timestamp":"2025-10-15T20:35:49.367Z","level":"INFO","message":"Redis ready for commands","service":"bendcare-os","env":"development","file":"redis.ts","line":119,"function":"EventEmitter.eval","component":"redis"}
🌐 MIDDLEWARE: ✓ CSRF validated for POST /api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render
{"@timestamp":"2025-10-15T20:35:49.371Z","level":"DEBUG","message":"Request sanitization completed","service":"bendcare-os","env":"development","file":"request-sanitization.ts","line":232,"function":"sanitizeRequestBody","duration":0,"hasErrors":false,"errorCount":0}
{"@timestamp":"2025-10-15T20:35:49.390Z","level":"INFO","message":"POST /api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render - RBAC route","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":47,"function":"eval","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"component":"api","request":{},"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.391Z","level":"INFO","message":"RBAC route initiated","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":48,"function":"eval","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1,"endpoint":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","requiredPermissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"requireAllPermissions":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.422Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":32,"type":"api","identifier":"::1","current":38,"remaining":162,"limit":200,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.423Z","level":"INFO","message":"Rate limit check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":61,"function":"eval","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":32,"limitType":"api","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.423Z","level":"DEBUG","message":"API auth check initiated","service":"bendcare-os","env":"development","file":"global-auth.ts","line":65,"function":"applyGlobalAuth","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":33,"pathname":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.452Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":62,"type":"api","identifier":"::1","current":39,"remaining":161,"limit":200,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.453Z","level":"DEBUG","message":"Using httpOnly cookie for authentication","service":"bendcare-os","env":"development","file":"global-auth.ts","line":100,"function":"applyGlobalAuth","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":63,"pathname":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.453Z","level":"DEBUG","message":"Using access token from httpOnly cookie","service":"bendcare-os","env":"development","file":"auth.ts","line":36,"function":"requireAuth","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":63,"component":"auth","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.515Z","level":"DEBUG","message":"User context cache hit","service":"bendcare-os","env":"development","file":"user-context.ts","line":288,"function":"getUserContextSafe","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":125,"userId":"[UUID]","operation":"getUserContext","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.515Z","level":"INFO","message":"API authentication successful","service":"bendcare-os","env":"development","file":"global-auth.ts","line":122,"function":"applyGlobalAuth","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","pathname":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","userId":"[UUID]","userEmail":"[REDACTED]","authMethod":"httponly_cookie","duration":62,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.515Z","level":"INFO","message":"Global auth check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":71,"function":"eval","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":92,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.515Z","level":"DEBUG","message":"Global authentication completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":74,"function":"eval","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":125,"hasSession":true,"hasUser":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.515Z","level":"INFO","message":"User context retrieved from session","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":145,"function":"eval","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","cached":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.515Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":167,"function":"eval","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":125,"userId":"[UUID]","roleCount":1,"permissionCount":90,"isSuperAdmin":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.515Z","level":"INFO","message":"RBAC permission check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":183,"function":"eval","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","permissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"requireAll":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.516Z","level":"INFO","message":"RBAC permission check passed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":192,"function":"eval","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":126,"userId":"[UUID]","permissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"rbacDuration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.516Z","level":"INFO","message":"Auth: rbac_check","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":199,"function":"eval","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":126,"component":"auth","action":"rbac_check","success":true,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
Error: Route "/api/admin/analytics/dashboard/[dashboardId]/render" used `params.dashboardId`. `params` should be awaited before using its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis
    at renderDashboardHandler (app/api/admin/analytics/dashboard/[dashboardId]/render/route.ts:47:11)
    at eval (lib/api/rbac-route-handler.ts:261:32)
  45 |   const startTime = Date.now();
  46 |   const { params } = args[0] as RenderDashboardParams;
> 47 |   const { dashboardId } = params;
     |           ^
  48 |
  49 |   log.info('Dashboard batch render request initiated', {
  50 |     dashboardId,
{"@timestamp":"2025-10-15T20:35:49.549Z","level":"INFO","message":"Dashboard batch render request initiated","service":"bendcare-os","env":"development","file":"route.ts","line":25,"function":"renderDashboardHandler","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":159,"dashboardId":"[UUID]","userId":"[UUID]","component":"analytics","operation":"batch_render","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.550Z","level":"INFO","message":"Dashboard universal filters applied","service":"bendcare-os","env":"development","file":"route.ts","line":40,"function":"renderDashboardHandler","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":160,"dashboardId":"[UUID]","filters":{"hasDateRange":false,"dateRangePreset":"ytd"},"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.550Z","level":"INFO","message":"Dashboard batch render initiated","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":55,"function":"DashboardRenderer.renderDashboard","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":160,"dashboardId":"[UUID]","userId":"[UUID]","hasUniversalFilters":true,"organizationFilter":null,"queryDeduplicationEnabled":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
Query: select "dashboards"."dashboard_id", "dashboards"."dashboard_name", "dashboards"."dashboard_description", "dashboards"."layout_config", "dashboards"."dashboard_category_id", "dashboards"."organization_id", "dashboards"."created_by", "dashboards"."created_at", "dashboards"."updated_at", "dashboards"."is_active", "dashboards"."is_published", "dashboards"."is_default", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "dashboards" left join "chart_categories" on "dashboards"."dashboard_category_id" = "chart_categories"."chart_category_id" left join "users" on "dashboards"."created_by" = "users"."user_id" where "dashboards"."dashboard_id" = $1 limit $2 -- params: ["6db475e1-ad7b-45ca-8845-226a0d9a3b0a", 1]
Query: select count(*) from "dashboard_charts" where "dashboard_charts"."dashboard_id" = $1 -- params: ["6db475e1-ad7b-45ca-8845-226a0d9a3b0a"]
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "dashboard_charts"."position_config" from "dashboard_charts" inner join "chart_definitions" on "dashboard_charts"."chart_definition_id" = "chart_definitions"."chart_definition_id" where "dashboard_charts"."dashboard_id" = $1 order by "dashboard_charts"."added_at" -- params: ["6db475e1-ad7b-45ca-8845-226a0d9a3b0a"]
{"@timestamp":"2025-10-15T20:35:49.554Z","level":"INFO","message":"dashboard retrieved successfully","service":"bendcare-os","env":"development","file":"rbac-dashboards-service.ts","line":336,"function":"RBACDashboardsServiceImpl.getDashboardById","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","operation":"read_dashboard","resourceType":"dashboard","resourceId":"[UUID]","resourceName":"All Types","userId":"[UUID]","found":true,"duration":4,"slow":false,"component":"service","query":{"duration":2,"slow":false},"chartCountQuery":{"duration":1,"slow":false},"chartsQuery":{"duration":1,"slow":false},"chartCount":9,"rbacScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "chart_definitions"."data_source", "chart_definitions"."chart_config", "chart_definitions"."access_control", "chart_definitions"."data_source_id", "chart_definitions"."chart_category_id", "chart_definitions"."created_by", "chart_definitions"."created_at", "chart_definitions"."updated_at", "chart_definitions"."is_active", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "chart_definitions" left join "chart_categories" on "chart_definitions"."chart_category_id" = "chart_categories"."chart_category_id" left join "users" on "chart_definitions"."created_by" = "users"."user_id" where "chart_definitions"."chart_definition_id" = $1 limit $2 -- params: ["0028fc86-2082-4522-b52c-673d75e7814f", 1]
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "chart_definitions"."data_source", "chart_definitions"."chart_config", "chart_definitions"."access_control", "chart_definitions"."data_source_id", "chart_definitions"."chart_category_id", "chart_definitions"."created_by", "chart_definitions"."created_at", "chart_definitions"."updated_at", "chart_definitions"."is_active", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "chart_definitions" left join "chart_categories" on "chart_definitions"."chart_category_id" = "chart_categories"."chart_category_id" left join "users" on "chart_definitions"."created_by" = "users"."user_id" where "chart_definitions"."chart_definition_id" = $1 limit $2 -- params: ["610281e2-0f74-4bdb-a35c-a99892c74881", 1]
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "chart_definitions"."data_source", "chart_definitions"."chart_config", "chart_definitions"."access_control", "chart_definitions"."data_source_id", "chart_definitions"."chart_category_id", "chart_definitions"."created_by", "chart_definitions"."created_at", "chart_definitions"."updated_at", "chart_definitions"."is_active", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "chart_definitions" left join "chart_categories" on "chart_definitions"."chart_category_id" = "chart_categories"."chart_category_id" left join "users" on "chart_definitions"."created_by" = "users"."user_id" where "chart_definitions"."chart_definition_id" = $1 limit $2 -- params: ["60ffd8fd-d938-4256-8d9e-d4d0e0ae7164", 1]
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "chart_definitions"."data_source", "chart_definitions"."chart_config", "chart_definitions"."access_control", "chart_definitions"."data_source_id", "chart_definitions"."chart_category_id", "chart_definitions"."created_by", "chart_definitions"."created_at", "chart_definitions"."updated_at", "chart_definitions"."is_active", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "chart_definitions" left join "chart_categories" on "chart_definitions"."chart_category_id" = "chart_categories"."chart_category_id" left join "users" on "chart_definitions"."created_by" = "users"."user_id" where "chart_definitions"."chart_definition_id" = $1 limit $2 -- params: ["51c68586-3a63-4bb4-bc49-02fb20ba6faa", 1]
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "chart_definitions"."data_source", "chart_definitions"."chart_config", "chart_definitions"."access_control", "chart_definitions"."data_source_id", "chart_definitions"."chart_category_id", "chart_definitions"."created_by", "chart_definitions"."created_at", "chart_definitions"."updated_at", "chart_definitions"."is_active", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "chart_definitions" left join "chart_categories" on "chart_definitions"."chart_category_id" = "chart_categories"."chart_category_id" left join "users" on "chart_definitions"."created_by" = "users"."user_id" where "chart_definitions"."chart_definition_id" = $1 limit $2 -- params: ["f7af2586-89c1-4fa2-beaf-d243959df179", 1]
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "chart_definitions"."data_source", "chart_definitions"."chart_config", "chart_definitions"."access_control", "chart_definitions"."data_source_id", "chart_definitions"."chart_category_id", "chart_definitions"."created_by", "chart_definitions"."created_at", "chart_definitions"."updated_at", "chart_definitions"."is_active", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "chart_definitions" left join "chart_categories" on "chart_definitions"."chart_category_id" = "chart_categories"."chart_category_id" left join "users" on "chart_definitions"."created_by" = "users"."user_id" where "chart_definitions"."chart_definition_id" = $1 limit $2 -- params: ["b0f26439-c29e-4880-8e87-6903e64564de", 1]
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "chart_definitions"."data_source", "chart_definitions"."chart_config", "chart_definitions"."access_control", "chart_definitions"."data_source_id", "chart_definitions"."chart_category_id", "chart_definitions"."created_by", "chart_definitions"."created_at", "chart_definitions"."updated_at", "chart_definitions"."is_active", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "chart_definitions" left join "chart_categories" on "chart_definitions"."chart_category_id" = "chart_categories"."chart_category_id" left join "users" on "chart_definitions"."created_by" = "users"."user_id" where "chart_definitions"."chart_definition_id" = $1 limit $2 -- params: ["f93a786b-6de8-4398-92c7-282ed4fb7818", 1]
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "chart_definitions"."data_source", "chart_definitions"."chart_config", "chart_definitions"."access_control", "chart_definitions"."data_source_id", "chart_definitions"."chart_category_id", "chart_definitions"."created_by", "chart_definitions"."created_at", "chart_definitions"."updated_at", "chart_definitions"."is_active", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "chart_definitions" left join "chart_categories" on "chart_definitions"."chart_category_id" = "chart_categories"."chart_category_id" left join "users" on "chart_definitions"."created_by" = "users"."user_id" where "chart_definitions"."chart_definition_id" = $1 limit $2 -- params: ["3b78a662-bee2-4128-a9f4-4b42c74a3ee1", 1]
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "chart_definitions"."data_source", "chart_definitions"."chart_config", "chart_definitions"."access_control", "chart_definitions"."data_source_id", "chart_definitions"."chart_category_id", "chart_definitions"."created_by", "chart_definitions"."created_at", "chart_definitions"."updated_at", "chart_definitions"."is_active", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "chart_definitions" left join "chart_categories" on "chart_definitions"."chart_category_id" = "chart_categories"."chart_category_id" left join "users" on "chart_definitions"."created_by" = "users"."user_id" where "chart_definitions"."chart_definition_id" = $1 limit $2 -- params: ["13eb537d-ae9f-4041-941b-1f492b45fdc2", 1]
{"@timestamp":"2025-10-15T20:35:49.561Z","level":"INFO","message":"Dashboard charts loaded","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":136,"function":"DashboardRenderer.renderDashboard","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":171,"dashboardId":"[UUID]","totalCharts":9,"validCharts":9,"chartTypes":["stacked-bar","number","bar","number","stacked-bar","dual-axis","dual-axis","bar","bar"],"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.561Z","level":"INFO","message":"Processing chart in batch","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":154,"function":"eval","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":171,"chartId":"[UUID]","chartName":"Stacked Bar","chartType":"stacked-bar","batchSupported":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.561Z","level":"INFO","message":"Batch chart config prepared","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":222,"function":"eval","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":171,"chartId":"[UUID]","chartType":"stacked-bar","chartName":"Stacked Bar","hasGroupBy":true,"groupByValue":"provider_name","hasDualAxisConfig":false,"hasAggregation":false,"runtimeFilterKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.561Z","level":"DEBUG","message":"Query hash generated","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":95,"function":"generateQueryHash","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":171,"dataSourceId":3,"measure":"Cash Transfer","frequency":"Monthly","hashLength":64,"signatureKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.561Z","level":"INFO","message":"Query cache miss - executing query","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":161,"function":"DashboardQueryCache.get","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":171,"queryHash":"d2abb5de1a277710","cacheSize":0,"deduplication":"miss","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.561Z","level":"INFO","message":"Processing chart in batch","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":154,"function":"eval","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":171,"chartId":"[UUID]","chartName":"Big Angry","chartType":"number","batchSupported":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.561Z","level":"INFO","message":"Batch chart config prepared","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":222,"function":"eval","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":171,"chartId":"[UUID]","chartType":"number","chartName":"Big Angry","hasGroupBy":false,"hasDualAxisConfig":false,"hasAggregation":false,"runtimeFilterKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.562Z","level":"DEBUG","message":"Query hash generated","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":95,"function":"generateQueryHash","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":172,"dataSourceId":3,"measure":"Cash Transfer","frequency":"Monthly","hashLength":64,"signatureKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.562Z","level":"INFO","message":"Query cache miss - executing query","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":161,"function":"DashboardQueryCache.get","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":172,"queryHash":"10a9a3ae557b2c54","cacheSize":1,"deduplication":"miss","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.562Z","level":"INFO","message":"Processing chart in batch","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":154,"function":"eval","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":172,"chartId":"[UUID]","chartName":"Charges by Provider","chartType":"bar","batchSupported":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.562Z","level":"INFO","message":"Batch chart config prepared","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":222,"function":"eval","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":172,"chartId":"[UUID]","chartType":"bar","chartName":"Charges by Provider","hasGroupBy":true,"groupByValue":"provider_name","hasDualAxisConfig":false,"hasAggregation":false,"runtimeFilterKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.562Z","level":"DEBUG","message":"Query hash generated","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":95,"function":"generateQueryHash","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":172,"dataSourceId":1,"measure":"Charges by Provider","hashLength":64,"signatureKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.562Z","level":"INFO","message":"Query cache miss - executing query","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":161,"function":"DashboardQueryCache.get","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":172,"queryHash":"[PHONE]","cacheSize":2,"deduplication":"miss","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.562Z","level":"INFO","message":"Processing chart in batch","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":154,"function":"eval","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":172,"chartId":"[UUID]","chartName":"Cancellations - YTD","chartType":"number","batchSupported":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.562Z","level":"INFO","message":"Batch chart config prepared","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":222,"function":"eval","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":172,"chartId":"[UUID]","chartType":"number","chartName":"Cancellations - YTD","hasGroupBy":false,"hasDualAxisConfig":false,"hasAggregation":false,"runtimeFilterKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.562Z","level":"DEBUG","message":"Query hash generated","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":95,"function":"generateQueryHash","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":172,"dataSourceId":3,"measure":"Cancellations","frequency":"Monthly","hashLength":64,"signatureKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.562Z","level":"INFO","message":"Query cache miss - executing query","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":161,"function":"DashboardQueryCache.get","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":172,"queryHash":"1689dd20ef08bd1b","cacheSize":3,"deduplication":"miss","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.562Z","level":"INFO","message":"Processing chart in batch","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":154,"function":"eval","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":172,"chartId":"[UUID]","chartName":"Cancellations by Provider","chartType":"stacked-bar","batchSupported":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.562Z","level":"INFO","message":"Batch chart config prepared","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":222,"function":"eval","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":172,"chartId":"[UUID]","chartType":"stacked-bar","chartName":"Cancellations by Provider","hasGroupBy":true,"groupByValue":"provider_name","hasDualAxisConfig":false,"hasAggregation":false,"runtimeFilterKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.562Z","level":"DEBUG","message":"Query hash generated","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":95,"function":"generateQueryHash","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":172,"dataSourceId":3,"measure":"Cancellations","frequency":"Weekly","hashLength":64,"signatureKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.562Z","level":"INFO","message":"Query cache miss - executing query","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":161,"function":"DashboardQueryCache.get","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":172,"queryHash":"387675e67713b58e","cacheSize":4,"deduplication":"miss","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.562Z","level":"INFO","message":"Processing chart in batch","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":154,"function":"eval","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":172,"chartId":"[UUID]","chartName":"dual2","chartType":"dual-axis","batchSupported":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.563Z","level":"INFO","message":"Batch chart config prepared","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":222,"function":"eval","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":173,"chartId":"[UUID]","chartType":"dual-axis","chartName":"dual2","hasGroupBy":true,"groupByValue":"practice","hasDualAxisConfig":true,"hasAggregation":false,"runtimeFilterKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.563Z","level":"DEBUG","message":"Query hash generated","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":95,"function":"generateQueryHash","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":173,"dataSourceId":3,"hashLength":64,"signatureKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.563Z","level":"INFO","message":"Query cache miss - executing query","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":161,"function":"DashboardQueryCache.get","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":173,"queryHash":"b66f80418ed50fbb","cacheSize":5,"deduplication":"miss","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.563Z","level":"INFO","message":"Processing chart in batch","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":154,"function":"eval","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":173,"chartId":"[UUID]","chartName":"Dual","chartType":"dual-axis","batchSupported":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.563Z","level":"INFO","message":"Batch chart config prepared","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":222,"function":"eval","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":173,"chartId":"[UUID]","chartType":"dual-axis","chartName":"Dual","hasGroupBy":true,"groupByValue":"provider_name","hasDualAxisConfig":true,"hasAggregation":false,"runtimeFilterKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.563Z","level":"DEBUG","message":"Query hash generated","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":95,"function":"generateQueryHash","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":173,"dataSourceId":3,"hashLength":64,"signatureKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.563Z","level":"INFO","message":"Query cache hit","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":147,"function":"DashboardQueryCache.get","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":173,"queryHash":"b66f80418ed50fbb","cacheSize":6,"deduplication":"hit","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.563Z","level":"INFO","message":"Processing chart in batch","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":154,"function":"eval","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":173,"chartId":"[UUID]","chartName":"Charges vs Payments","chartType":"bar","batchSupported":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.563Z","level":"INFO","message":"Batch chart config prepared","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":222,"function":"eval","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":173,"chartId":"[UUID]","chartType":"bar","chartName":"Charges vs Payments","hasGroupBy":true,"groupByValue":"provider_name","hasDualAxisConfig":false,"hasAggregation":false,"runtimeFilterKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.563Z","level":"DEBUG","message":"Query hash generated","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":95,"function":"generateQueryHash","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":173,"dataSourceId":1,"measure":"Charges by Provider","frequency":"Monthly","hashLength":64,"signatureKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.563Z","level":"INFO","message":"Query cache miss - executing query","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":161,"function":"DashboardQueryCache.get","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":173,"queryHash":"027ad3aaee202983","cacheSize":6,"deduplication":"miss","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.563Z","level":"INFO","message":"Processing chart in batch","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":154,"function":"eval","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":173,"chartId":"[UUID]","chartName":"Daily Cash Transfer","chartType":"bar","batchSupported":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.563Z","level":"INFO","message":"Batch chart config prepared","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":222,"function":"eval","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":173,"chartId":"[UUID]","chartType":"bar","chartName":"Daily Cash Transfer","hasGroupBy":true,"groupByValue":"practice","hasDualAxisConfig":false,"hasAggregation":false,"runtimeFilterKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.563Z","level":"DEBUG","message":"Query hash generated","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":95,"function":"generateQueryHash","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":173,"dataSourceId":3,"measure":"Cash Transfer","frequency":"Daily","hashLength":64,"signatureKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.563Z","level":"INFO","message":"Query cache miss - executing query","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":161,"function":"DashboardQueryCache.get","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":173,"queryHash":"8e7c29d2516bf193","cacheSize":7,"deduplication":"miss","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.563Z","level":"INFO","message":"Chart configuration resolved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":28,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":173,"chartType":"stacked-bar","dataSourceId":3,"hasRuntimeFilters":true,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.564Z","level":"INFO","message":"Chart configuration resolved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":28,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":174,"chartType":"number","dataSourceId":3,"hasRuntimeFilters":true,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.564Z","level":"INFO","message":"Chart configuration resolved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":28,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":174,"chartType":"bar","dataSourceId":1,"hasRuntimeFilters":true,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.564Z","level":"INFO","message":"Chart configuration resolved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":28,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":174,"chartType":"number","dataSourceId":3,"hasRuntimeFilters":true,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.564Z","level":"INFO","message":"Chart configuration resolved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":28,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":174,"chartType":"stacked-bar","dataSourceId":3,"hasRuntimeFilters":true,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.564Z","level":"INFO","message":"Chart configuration resolved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":28,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":174,"chartType":"dual-axis","dataSourceId":3,"hasRuntimeFilters":true,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.564Z","level":"INFO","message":"Chart configuration resolved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":28,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":174,"chartType":"bar","dataSourceId":1,"hasRuntimeFilters":true,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.564Z","level":"INFO","message":"Chart configuration resolved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":28,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":174,"chartType":"bar","dataSourceId":3,"hasRuntimeFilters":true,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
Query: select "data_source_id", "data_source_name", "data_source_description", "table_name", "schema_name", "database_type", "connection_config", "is_active", "requires_auth", "created_at", "updated_at", "created_by" from "chart_data_sources" where "chart_data_sources"."data_source_id" = $1 -- params: [3]
Query: select "data_source_id", "data_source_name", "data_source_description", "table_name", "schema_name", "database_type", "connection_config", "is_active", "requires_auth", "created_at", "updated_at", "created_by" from "chart_data_sources" where "chart_data_sources"."data_source_id" = $1 -- params: [3]
Query: select "data_source_id", "data_source_name", "data_source_description", "table_name", "schema_name", "database_type", "connection_config", "is_active", "requires_auth", "created_at", "updated_at", "created_by" from "chart_data_sources" where "chart_data_sources"."data_source_id" = $1 -- params: [1]
Query: select "data_source_id", "data_source_name", "data_source_description", "table_name", "schema_name", "database_type", "connection_config", "is_active", "requires_auth", "created_at", "updated_at", "created_by" from "chart_data_sources" where "chart_data_sources"."data_source_id" = $1 -- params: [3]
Query: select "data_source_id", "data_source_name", "data_source_description", "table_name", "schema_name", "database_type", "connection_config", "is_active", "requires_auth", "created_at", "updated_at", "created_by" from "chart_data_sources" where "chart_data_sources"."data_source_id" = $1 -- params: [3]
Query: select "data_source_id", "data_source_name", "data_source_description", "table_name", "schema_name", "database_type", "connection_config", "is_active", "requires_auth", "created_at", "updated_at", "created_by" from "chart_data_sources" where "chart_data_sources"."data_source_id" = $1 -- params: [3]
Query: select "data_source_id", "data_source_name", "data_source_description", "table_name", "schema_name", "database_type", "connection_config", "is_active", "requires_auth", "created_at", "updated_at", "created_by" from "chart_data_sources" where "chart_data_sources"."data_source_id" = $1 -- params: [1]
Query: select "data_source_id", "data_source_name", "data_source_description", "table_name", "schema_name", "database_type", "connection_config", "is_active", "requires_auth", "created_at", "updated_at", "created_by" from "chart_data_sources" where "chart_data_sources"."data_source_id" = $1 -- params: [3]
Query: select count(*) from "chart_data_source_columns" where ("chart_data_source_columns"."data_source_id" = $1 and "chart_data_source_columns"."is_active" = $2) -- params: [3, true]
Query: select count(*) from "chart_data_source_columns" where ("chart_data_source_columns"."data_source_id" = $1 and "chart_data_source_columns"."is_active" = $2) -- params: [3, true]
Query: select count(*) from "chart_data_source_columns" where ("chart_data_source_columns"."data_source_id" = $1 and "chart_data_source_columns"."is_active" = $2) -- params: [3, true]
Query: select count(*) from "chart_data_source_columns" where ("chart_data_source_columns"."data_source_id" = $1 and "chart_data_source_columns"."is_active" = $2) -- params: [1, true]
Query: select count(*) from "chart_data_source_columns" where ("chart_data_source_columns"."data_source_id" = $1 and "chart_data_source_columns"."is_active" = $2) -- params: [1, true]
Query: select count(*) from "chart_data_source_columns" where ("chart_data_source_columns"."data_source_id" = $1 and "chart_data_source_columns"."is_active" = $2) -- params: [3, true]
Query: select count(*) from "chart_data_source_columns" where ("chart_data_source_columns"."data_source_id" = $1 and "chart_data_source_columns"."is_active" = $2) -- params: [3, true]
Query: select count(*) from "chart_data_source_columns" where ("chart_data_source_columns"."data_source_id" = $1 and "chart_data_source_columns"."is_active" = $2) -- params: [3, true]
{"@timestamp":"2025-10-15T20:35:49.569Z","level":"INFO","message":"Data source access check passed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":207,"function":"ChartDataOrchestrator.verifyDataSourceAccess","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":179,"dataSourceId":1,"dataSourceName":"Practice Analytics","userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.569Z","level":"INFO","message":"Data source access verified","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":36,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":179,"dataSourceId":1,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.569Z","level":"INFO","message":"Runtime filters merged","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":42,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":179,"chartType":"bar","hasStartDate":true,"hasEndDate":true,"hasPracticeUid":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.569Z","level":"INFO","message":"Chart handler retrieved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":55,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":179,"chartType":"bar","handlerType":"bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.569Z","level":"INFO","message":"Chart configuration validated","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":64,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":179,"chartType":"bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.569Z","level":"INFO","message":"Fetching chart data with Redis cache integration","service":"bendcare-os","env":"development","file":"base-handler.ts","line":42,"function":"BarChartHandler.fetchData","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":179,"chartType":"bar","dataSourceId":1,"userId":"[UUID]","hasDataSourceId":true,"note":"Passing UserContext to enable Redis cache path","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.569Z","level":"INFO","message":"Building multiple series query with caching","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":692,"function":"AnalyticsQueryBuilder.queryMultipleSeries","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":179,"seriesCount":2,"measures":["Charges by Provider","Payments by Provider"],"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.569Z","level":"INFO","message":"Building analytics query with caching","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":325,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":179,"params":{"data_source_id":1,"start_date":"2025-01-01","end_date":"2025-10-15","limit":10000,"measure":"Charges by Provider","frequency":"Monthly","advanced_filters":[]},"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.569Z","level":"INFO","message":"Building analytics query with caching","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":325,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":179,"params":{"data_source_id":1,"start_date":"2025-01-01","end_date":"2025-10-15","limit":10000,"measure":"Payments by Provider","frequency":"Monthly","advanced_filters":[]},"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.569Z","level":"INFO","message":"Data source access check passed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":207,"function":"ChartDataOrchestrator.verifyDataSourceAccess","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":179,"dataSourceId":3,"dataSourceName":"App Measures with Entities","userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.569Z","level":"INFO","message":"Data source access verified","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":36,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":179,"dataSourceId":3,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.569Z","level":"INFO","message":"Runtime filters merged","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":42,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":179,"chartType":"number","hasStartDate":true,"hasEndDate":true,"hasPracticeUid":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.570Z","level":"INFO","message":"Chart handler retrieved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":55,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":180,"chartType":"number","handlerType":"number","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.570Z","level":"INFO","message":"Chart configuration validated","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":64,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":180,"chartType":"number","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.570Z","level":"INFO","message":"Fetching chart data with Redis cache integration","service":"bendcare-os","env":"development","file":"base-handler.ts","line":42,"function":"MetricChartHandler.fetchData","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":180,"chartType":"number","dataSourceId":3,"userId":"[UUID]","hasDataSourceId":true,"note":"Passing UserContext to enable Redis cache path","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.570Z","level":"INFO","message":"Building analytics query with caching","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":325,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":180,"params":{"data_source_id":3,"start_date":"2025-01-01","end_date":"2025-10-15","limit":10000,"measure":"Cancellations","frequency":"Monthly","advanced_filters":[]},"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.570Z","level":"INFO","message":"Data source access check passed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":207,"function":"ChartDataOrchestrator.verifyDataSourceAccess","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":180,"dataSourceId":3,"dataSourceName":"App Measures with Entities","userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.570Z","level":"INFO","message":"Data source access verified","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":36,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":180,"dataSourceId":3,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.570Z","level":"INFO","message":"Runtime filters merged","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":42,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":180,"chartType":"dual-axis","hasStartDate":true,"hasEndDate":true,"hasPracticeUid":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.570Z","level":"INFO","message":"Chart handler retrieved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":55,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":180,"chartType":"dual-axis","handlerType":"dual-axis","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.570Z","level":"INFO","message":"Chart configuration validated","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":64,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":180,"chartType":"dual-axis","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.570Z","level":"INFO","message":"Fetching dual-axis data in parallel","service":"bendcare-os","env":"development","file":"combo-handler.ts","line":51,"function":"ComboChartHandler.fetchData","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":180,"chartType":"dual-axis","primaryMeasure":"Cancellations","secondaryMeasure":"Cash Transfer","userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.570Z","level":"INFO","message":"Fetching chart data with Redis cache integration","service":"bendcare-os","env":"development","file":"base-handler.ts","line":42,"function":"ComboChartHandler.fetchData","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":180,"chartType":"dual-axis","dataSourceId":3,"userId":"[UUID]","hasDataSourceId":true,"note":"Passing UserContext to enable Redis cache path","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.570Z","level":"INFO","message":"Building analytics query with caching","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":325,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":180,"params":{"data_source_id":3,"start_date":"2025-01-01","end_date":"2025-10-15","limit":10000,"measure":"Cancellations","frequency":"Monthly","advanced_filters":[]},"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.570Z","level":"INFO","message":"Fetching chart data with Redis cache integration","service":"bendcare-os","env":"development","file":"base-handler.ts","line":42,"function":"ComboChartHandler.fetchData","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":180,"chartType":"dual-axis","dataSourceId":3,"userId":"[UUID]","hasDataSourceId":true,"note":"Passing UserContext to enable Redis cache path","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.570Z","level":"INFO","message":"Building analytics query with caching","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":325,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":180,"params":{"data_source_id":3,"start_date":"2025-01-01","end_date":"2025-10-15","limit":10000,"measure":"Cash Transfer","frequency":"Monthly","advanced_filters":[]},"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.570Z","level":"INFO","message":"Data source access check passed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":207,"function":"ChartDataOrchestrator.verifyDataSourceAccess","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":180,"dataSourceId":3,"dataSourceName":"App Measures with Entities","userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.570Z","level":"INFO","message":"Data source access verified","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":36,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":180,"dataSourceId":3,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.570Z","level":"INFO","message":"Runtime filters merged","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":42,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":180,"chartType":"stacked-bar","hasStartDate":true,"hasEndDate":true,"hasPracticeUid":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.570Z","level":"DEBUG","message":"Handler found via canHandle() method","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":52,"function":"ChartTypeRegistry.getHandler","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":180,"chartType":"stacked-bar","handlerType":"bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.570Z","level":"INFO","message":"Chart handler retrieved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":55,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":180,"chartType":"stacked-bar","handlerType":"bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.570Z","level":"INFO","message":"Chart configuration validated","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":64,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":180,"chartType":"stacked-bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.571Z","level":"INFO","message":"Fetching chart data with Redis cache integration","service":"bendcare-os","env":"development","file":"base-handler.ts","line":42,"function":"BarChartHandler.fetchData","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":181,"chartType":"bar","dataSourceId":3,"userId":"[UUID]","hasDataSourceId":true,"note":"Passing UserContext to enable Redis cache path","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.571Z","level":"INFO","message":"Building analytics query with caching","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":325,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":181,"params":{"data_source_id":3,"start_date":"2025-01-01","end_date":"2025-10-15","limit":10000,"measure":"Cash Transfer","frequency":"Monthly","advanced_filters":[]},"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.571Z","level":"INFO","message":"Data source access check passed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":207,"function":"ChartDataOrchestrator.verifyDataSourceAccess","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":181,"dataSourceId":3,"dataSourceName":"App Measures with Entities","userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.571Z","level":"INFO","message":"Data source access verified","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":36,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":181,"dataSourceId":3,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.571Z","level":"INFO","message":"Runtime filters merged","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":42,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":181,"chartType":"bar","hasStartDate":true,"hasEndDate":true,"hasPracticeUid":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.571Z","level":"INFO","message":"Chart handler retrieved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":55,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":181,"chartType":"bar","handlerType":"bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.571Z","level":"INFO","message":"Chart configuration validated","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":64,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":181,"chartType":"bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.571Z","level":"INFO","message":"Fetching chart data with Redis cache integration","service":"bendcare-os","env":"development","file":"base-handler.ts","line":42,"function":"BarChartHandler.fetchData","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":181,"chartType":"bar","dataSourceId":3,"userId":"[UUID]","hasDataSourceId":true,"note":"Passing UserContext to enable Redis cache path","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.571Z","level":"INFO","message":"Building analytics query with caching","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":325,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":181,"params":{"data_source_id":3,"start_date":"2025-01-01","end_date":"2025-10-15","limit":10000,"measure":"Cash Transfer","frequency":"Daily","advanced_filters":[]},"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.571Z","level":"INFO","message":"Data source access check passed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":207,"function":"ChartDataOrchestrator.verifyDataSourceAccess","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":181,"dataSourceId":3,"dataSourceName":"App Measures with Entities","userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.571Z","level":"INFO","message":"Data source access verified","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":36,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":181,"dataSourceId":3,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.571Z","level":"INFO","message":"Runtime filters merged","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":42,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":181,"chartType":"number","hasStartDate":true,"hasEndDate":true,"hasPracticeUid":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.571Z","level":"INFO","message":"Chart handler retrieved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":55,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":181,"chartType":"number","handlerType":"number","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.571Z","level":"INFO","message":"Chart configuration validated","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":64,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":181,"chartType":"number","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.571Z","level":"INFO","message":"Fetching chart data with Redis cache integration","service":"bendcare-os","env":"development","file":"base-handler.ts","line":42,"function":"MetricChartHandler.fetchData","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":181,"chartType":"number","dataSourceId":3,"userId":"[UUID]","hasDataSourceId":true,"note":"Passing UserContext to enable Redis cache path","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.571Z","level":"INFO","message":"Building analytics query with caching","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":325,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":181,"params":{"data_source_id":3,"start_date":"2025-01-01","end_date":"2025-10-15","limit":10000,"measure":"Cash Transfer","frequency":"Monthly","advanced_filters":[]},"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.571Z","level":"INFO","message":"Data source access check passed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":207,"function":"ChartDataOrchestrator.verifyDataSourceAccess","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":181,"dataSourceId":1,"dataSourceName":"Practice Analytics","userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.572Z","level":"INFO","message":"Data source access verified","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":36,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":182,"dataSourceId":1,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.572Z","level":"INFO","message":"Runtime filters merged","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":42,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":182,"chartType":"bar","hasStartDate":true,"hasEndDate":true,"hasPracticeUid":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.572Z","level":"INFO","message":"Chart handler retrieved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":55,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":182,"chartType":"bar","handlerType":"bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.572Z","level":"INFO","message":"Chart configuration validated","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":64,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":182,"chartType":"bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.572Z","level":"INFO","message":"Fetching chart data with Redis cache integration","service":"bendcare-os","env":"development","file":"base-handler.ts","line":42,"function":"BarChartHandler.fetchData","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":182,"chartType":"bar","dataSourceId":1,"userId":"[UUID]","hasDataSourceId":true,"note":"Passing UserContext to enable Redis cache path","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.572Z","level":"INFO","message":"Building analytics query with caching","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":325,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":182,"params":{"data_source_id":1,"start_date":"2025-01-01","end_date":"2025-10-15","limit":10000,"measure":"Charges by Provider","advanced_filters":[]},"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.572Z","level":"INFO","message":"Data source access check passed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":207,"function":"ChartDataOrchestrator.verifyDataSourceAccess","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":182,"dataSourceId":3,"dataSourceName":"App Measures with Entities","userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.572Z","level":"INFO","message":"Data source access verified","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":36,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":182,"dataSourceId":3,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.572Z","level":"INFO","message":"Runtime filters merged","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":42,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":182,"chartType":"stacked-bar","hasStartDate":true,"hasEndDate":true,"hasPracticeUid":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.572Z","level":"DEBUG","message":"Handler found via canHandle() method","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":52,"function":"ChartTypeRegistry.getHandler","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":182,"chartType":"stacked-bar","handlerType":"bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.572Z","level":"INFO","message":"Chart handler retrieved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":55,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":182,"chartType":"stacked-bar","handlerType":"bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.572Z","level":"INFO","message":"Chart configuration validated","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":64,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":182,"chartType":"stacked-bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.572Z","level":"INFO","message":"Fetching chart data with Redis cache integration","service":"bendcare-os","env":"development","file":"base-handler.ts","line":42,"function":"BarChartHandler.fetchData","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":182,"chartType":"bar","dataSourceId":3,"userId":"[UUID]","hasDataSourceId":true,"note":"Passing UserContext to enable Redis cache path","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.572Z","level":"INFO","message":"Building analytics query with caching","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":325,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":182,"params":{"data_source_id":3,"start_date":"2025-01-01","end_date":"2025-10-15","limit":10000,"measure":"Cancellations","frequency":"Weekly","practice_uid":114,"advanced_filters":[]},"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.604Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":214,"component":"chart-config-cache","dataSourceId":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.604Z","level":"DEBUG","message":"Chart context built","service":"bendcare-os","env":"development","file":"chart-context.ts","line":46,"function":"buildChartRenderContext","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","userId":"[UUID]","permissionScope":"all","practiceCount":0,"providerCount":0,"organizationCount":0,"includesHierarchy":false,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.604Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":214,"component":"chart-config-cache","dataSourceId":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.604Z","level":"DEBUG","message":"Chart context built","service":"bendcare-os","env":"development","file":"chart-context.ts","line":46,"function":"buildChartRenderContext","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","userId":"[UUID]","permissionScope":"all","practiceCount":0,"providerCount":0,"organizationCount":0,"includesHierarchy":false,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.604Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":214,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.604Z","level":"DEBUG","message":"Chart context built","service":"bendcare-os","env":"development","file":"chart-context.ts","line":46,"function":"buildChartRenderContext","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","userId":"[UUID]","permissionScope":"all","practiceCount":0,"providerCount":0,"organizationCount":0,"includesHierarchy":false,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.604Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":214,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.604Z","level":"DEBUG","message":"Chart context built","service":"bendcare-os","env":"development","file":"chart-context.ts","line":46,"function":"buildChartRenderContext","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","userId":"[UUID]","permissionScope":"all","practiceCount":0,"providerCount":0,"organizationCount":0,"includesHierarchy":false,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.605Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":215,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.605Z","level":"DEBUG","message":"Chart context built","service":"bendcare-os","env":"development","file":"chart-context.ts","line":46,"function":"buildChartRenderContext","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","userId":"[UUID]","permissionScope":"all","practiceCount":0,"providerCount":0,"organizationCount":0,"includesHierarchy":false,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.605Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":215,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.605Z","level":"DEBUG","message":"Chart context built","service":"bendcare-os","env":"development","file":"chart-context.ts","line":46,"function":"buildChartRenderContext","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","userId":"[UUID]","permissionScope":"all","practiceCount":0,"providerCount":0,"organizationCount":0,"includesHierarchy":false,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.605Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":215,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.605Z","level":"DEBUG","message":"Chart context built","service":"bendcare-os","env":"development","file":"chart-context.ts","line":46,"function":"buildChartRenderContext","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","userId":"[UUID]","permissionScope":"all","practiceCount":0,"providerCount":0,"organizationCount":0,"includesHierarchy":false,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.605Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":215,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.605Z","level":"DEBUG","message":"Chart context built","service":"bendcare-os","env":"development","file":"chart-context.ts","line":46,"function":"buildChartRenderContext","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","userId":"[UUID]","permissionScope":"all","practiceCount":0,"providerCount":0,"organizationCount":0,"includesHierarchy":false,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.606Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":216,"component":"chart-config-cache","dataSourceId":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.606Z","level":"DEBUG","message":"Chart context built","service":"bendcare-os","env":"development","file":"chart-context.ts","line":46,"function":"buildChartRenderContext","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","userId":"[UUID]","permissionScope":"all","practiceCount":0,"providerCount":0,"organizationCount":0,"includesHierarchy":false,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.606Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":216,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.606Z","level":"DEBUG","message":"Chart context built","service":"bendcare-os","env":"development","file":"chart-context.ts","line":46,"function":"buildChartRenderContext","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","userId":"[UUID]","permissionScope":"all","practiceCount":0,"providerCount":0,"organizationCount":0,"includesHierarchy":false,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.710Z","level":"INFO","message":"Data source cache miss V2","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":183,"function":"DataSourceCacheService.getCached","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":320,"dataSourceId":1,"measure":"Charges by Provider","isWarm":true,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.710Z","level":"INFO","message":"Data source cache miss - querying database","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":724,"function":"DataSourceCacheService.fetchDataSource","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":320,"dataSourceId":1,"measure":"Charges by Provider","nocache":false,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.738Z","level":"INFO","message":"Connecting to Redis","service":"bendcare-os","env":"development","file":"redis.ts","line":78,"function":"RedisClientManager.connect","component":"redis","host":"bcos-redis-dev-rt5vbv.serverless.use1.cache.amazonaws.com","port":6379,"username":"[REDACTED]","keyPrefix":"[REDACTED]","tls":true}
{"@timestamp":"2025-10-15T20:35:49.740Z","level":"INFO","message":"Main database connections closed","service":"bendcare-os","env":"development","file":"index.ts","line":160,"function":"process.closeDb"}
{"@timestamp":"2025-10-15T20:35:49.742Z","level":"INFO","message":"Index lookup completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":320,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":352,"datasourceId":1,"measure":"Charges by Provider","frequency":"Monthly","practiceCount":0,"providerCount":0,"matchingKeys":"[REDACTED]","indexLookupDuration":31,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.742Z","level":"INFO","message":"Index lookup completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":320,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":352,"datasourceId":1,"measure":"Payments by Provider","frequency":"Monthly","practiceCount":0,"providerCount":0,"matchingKeys":"[REDACTED]","indexLookupDuration":32,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.743Z","level":"INFO","message":"Index lookup completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":320,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":353,"datasourceId":3,"measure":"Cancellations","frequency":"Monthly","practiceCount":0,"providerCount":0,"matchingKeys":"[REDACTED]","indexLookupDuration":33,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.743Z","level":"INFO","message":"Index lookup completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":320,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":353,"datasourceId":3,"measure":"Cancellations","frequency":"Monthly","practiceCount":0,"providerCount":0,"matchingKeys":"[REDACTED]","indexLookupDuration":33,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.743Z","level":"INFO","message":"Index lookup completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":320,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":353,"datasourceId":3,"measure":"Cash Transfer","frequency":"Monthly","practiceCount":0,"providerCount":0,"matchingKeys":"[REDACTED]","indexLookupDuration":33,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.743Z","level":"INFO","message":"Index lookup completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":320,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":353,"datasourceId":3,"measure":"Cash Transfer","frequency":"Monthly","practiceCount":0,"providerCount":0,"matchingKeys":"[REDACTED]","indexLookupDuration":33,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.743Z","level":"INFO","message":"Index lookup completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":320,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":353,"datasourceId":3,"measure":"Cash Transfer","frequency":"Daily","practiceCount":0,"providerCount":0,"matchingKeys":"[REDACTED]","indexLookupDuration":33,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.743Z","level":"INFO","message":"Index lookup completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":320,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":353,"datasourceId":3,"measure":"Cash Transfer","frequency":"Monthly","practiceCount":0,"providerCount":0,"matchingKeys":"[REDACTED]","indexLookupDuration":33,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.743Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":353,"component":"chart-config-cache","dataSourceId":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.743Z","level":"DEBUG","message":"Executing data source query","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":411,"function":"DataSourceCacheService.queryDatabase","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":353,"query":"\n      SELECT * \n      FROM ih.agg_app_measures\n      WHERE measure = $1\n      ORDER BY date_index ASC\n    ","paramCount":1,"hasAdvancedFilters":false,"note":"RBAC filtering will be applied in-memory after fetch","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
🔍 EXECUTING SQL: {
  sql: '\n' +
    '      SELECT * \n' +
    '      FROM ih.agg_app_measures\n' +
    '      WHERE measure = $1\n' +
    '      ORDER BY date_index ASC\n' +
    '    ',
  parameters: [ 'Charges by Provider' ],
  paramCount: 1
}
{"@timestamp":"2025-10-15T20:35:49.749Z","level":"INFO","message":"Registering chart type handlers","service":"bendcare-os","env":"development","file":"index.ts","line":43,"function":"registerAllHandlers"}
{"@timestamp":"2025-10-15T20:35:49.749Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"line","totalHandlers":1}
{"@timestamp":"2025-10-15T20:35:49.749Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"bar","totalHandlers":2}
{"@timestamp":"2025-10-15T20:35:49.750Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"pie","totalHandlers":3}
{"@timestamp":"2025-10-15T20:35:49.750Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"table","totalHandlers":4}
{"@timestamp":"2025-10-15T20:35:49.750Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"number","totalHandlers":5}
{"@timestamp":"2025-10-15T20:35:49.750Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"progress-bar","totalHandlers":6}
{"@timestamp":"2025-10-15T20:35:49.750Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"dual-axis","totalHandlers":7}
{"@timestamp":"2025-10-15T20:35:49.750Z","level":"INFO","message":"Chart type handlers registered successfully","service":"bendcare-os","env":"development","file":"index.ts","line":66,"function":"registerAllHandlers","count":7,"types":["line","bar","pie","table","number","progress-bar","dual-axis"]}
{"@timestamp":"2025-10-15T20:35:49.849Z","level":"INFO","message":"Redis connected successfully","service":"bendcare-os","env":"development","file":"redis.ts","line":109,"function":"EventEmitter.eval","component":"redis","host":"[REDACTED]","port":6379}
{"@timestamp":"2025-10-15T20:35:49.852Z","level":"INFO","message":"Cache query completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":355,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":462,"datasourceId":1,"measure":"Charges by Provider","frequency":"Monthly","matchingKeys":"[REDACTED]","rowsReturned":1501,"indexLookupDuration":31,"fetchDuration":110,"totalDuration":142,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.852Z","level":"INFO","message":"Data source cache hit V2","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":164,"function":"DataSourceCacheService.getCached","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":462,"cacheKey":"[REDACTED]","cacheLevel":0,"rowCount":1501,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.852Z","level":"WARN","message":"Security: RBAC filter: all scope, no filtering","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":494,"function":"DataSourceCacheService.applyRBACFilter","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":462,"component":"security","event":"RBAC filter: all scope, no filtering","severity":"low","userId":"[UUID]","rowCount":1501,"permissionScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.852Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":462,"component":"column-mapping-service","dataSourceId":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.852Z","level":"INFO","message":"Data source served from cache (server-filtered)","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":709,"function":"DataSourceCacheService.fetchDataSource","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","cacheKey":"[REDACTED]","cacheLevel":0,"cachedRowCount":1501,"afterRBAC":1501,"finalRowCount":1501,"duration":248,"userId":"[UUID]","permissionScope":"all","security":"filtered_before_client_send","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.852Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":462,"component":"column-mapping-service","dataSourceId":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.853Z","level":"INFO","message":"Analytics query completed (with caching)","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":391,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dataSourceId":1,"measure":"Charges by Provider","rowCount":1501,"totalCount":1057348789,"duration":283,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.889Z","level":"INFO","message":"Redis ready for commands","service":"bendcare-os","env":"development","file":"redis.ts","line":119,"function":"EventEmitter.eval","component":"redis"}
{"@timestamp":"2025-10-15T20:35:49.923Z","level":"INFO","message":"Cache query completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":355,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":533,"datasourceId":1,"measure":"Payments by Provider","frequency":"Monthly","matchingKeys":"[REDACTED]","rowsReturned":1580,"indexLookupDuration":32,"fetchDuration":181,"totalDuration":213,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.924Z","level":"INFO","message":"Data source cache hit V2","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":164,"function":"DataSourceCacheService.getCached","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":534,"cacheKey":"[REDACTED]","cacheLevel":0,"rowCount":1580,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.924Z","level":"WARN","message":"Security: RBAC filter: all scope, no filtering","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":494,"function":"DataSourceCacheService.applyRBACFilter","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":534,"component":"security","event":"RBAC filter: all scope, no filtering","severity":"low","userId":"[UUID]","rowCount":1580,"permissionScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.924Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":534,"component":"column-mapping-service","dataSourceId":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.924Z","level":"INFO","message":"Data source served from cache (server-filtered)","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":709,"function":"DataSourceCacheService.fetchDataSource","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","cacheKey":"[REDACTED]","cacheLevel":0,"cachedRowCount":1580,"afterRBAC":1580,"finalRowCount":1580,"duration":320,"userId":"[UUID]","permissionScope":"all","security":"filtered_before_client_send","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.924Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":534,"component":"column-mapping-service","dataSourceId":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.924Z","level":"INFO","message":"Analytics query completed (with caching)","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":391,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dataSourceId":1,"measure":"Payments by Provider","rowCount":1580,"totalCount":396105515,"duration":355,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.925Z","level":"INFO","message":"Multiple series query completed (with caching)","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":726,"function":"AnalyticsQueryBuilder.queryMultipleSeries","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":535,"seriesCount":2,"totalRecords":3081,"queryTime":356,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.925Z","level":"INFO","message":"Chart data fetched successfully","service":"bendcare-os","env":"development","file":"base-handler.ts","line":54,"function":"BarChartHandler.fetchData","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":535,"chartType":"bar","recordCount":3081,"queryTimeMs":356,"cacheHit":true,"fetchDuration":356,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.925Z","level":"INFO","message":"Chart data fetched","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":71,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":535,"chartType":"bar","recordCount":3081,"fetchDuration":356,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.925Z","level":"INFO","message":"Transforming bar chart data","service":"bendcare-os","env":"development","file":"bar-chart-handler.ts","line":41,"function":"BarChartHandler.transform","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":535,"chartType":"bar","recordCount":3081,"groupBy":"provider_name","colorPalette":"default","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.926Z","level":"INFO","message":"Bar chart data transformed","service":"bendcare-os","env":"development","file":"bar-chart-handler.ts","line":70,"function":"BarChartHandler.transform","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","chartType":"bar","duration":1,"datasetCount":2,"labelCount":6,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.926Z","level":"INFO","message":"Chart data transformed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":80,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":536,"chartType":"bar","datasetCount":2,"labelCount":6,"transformDuration":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.927Z","level":"INFO","message":"Chart data orchestration completed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":111,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":537,"chartType":"bar","totalDuration":363,"fetchDuration":356,"transformDuration":1,"recordCount":3081,"hasColumns":false,"columnCount":0,"hasFormattedData":false,"formattedRowCount":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.927Z","level":"INFO","message":"Cache query completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":355,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":537,"datasourceId":3,"measure":"Cancellations","frequency":"Monthly","matchingKeys":"[REDACTED]","rowsReturned":48,"indexLookupDuration":33,"fetchDuration":184,"totalDuration":217,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.927Z","level":"INFO","message":"Data source cache hit V2","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":164,"function":"DataSourceCacheService.getCached","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":537,"cacheKey":"[REDACTED]","cacheLevel":0,"rowCount":48,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.927Z","level":"WARN","message":"Security: RBAC filter: all scope, no filtering","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":494,"function":"DataSourceCacheService.applyRBACFilter","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":537,"component":"security","event":"RBAC filter: all scope, no filtering","severity":"low","userId":"[UUID]","rowCount":48,"permissionScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.927Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":537,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.927Z","level":"INFO","message":"Data source served from cache (server-filtered)","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":709,"function":"DataSourceCacheService.fetchDataSource","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","cacheKey":"[REDACTED]","cacheLevel":0,"cachedRowCount":48,"afterRBAC":48,"finalRowCount":48,"duration":323,"userId":"[UUID]","permissionScope":"all","security":"filtered_before_client_send","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.927Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":537,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.927Z","level":"INFO","message":"Analytics query completed (with caching)","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":391,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dataSourceId":3,"measure":"Cancellations","rowCount":48,"totalCount":48,"duration":357,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.927Z","level":"INFO","message":"Chart data fetched successfully","service":"bendcare-os","env":"development","file":"base-handler.ts","line":54,"function":"MetricChartHandler.fetchData","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":537,"chartType":"number","recordCount":48,"queryTimeMs":357,"cacheHit":true,"fetchDuration":357,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.927Z","level":"INFO","message":"Chart data fetched","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":71,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":537,"chartType":"number","recordCount":48,"fetchDuration":357,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.928Z","level":"INFO","message":"Cache query completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":355,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":538,"datasourceId":3,"measure":"Cancellations","frequency":"Monthly","matchingKeys":"[REDACTED]","rowsReturned":48,"indexLookupDuration":33,"fetchDuration":185,"totalDuration":218,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.928Z","level":"INFO","message":"Data source cache hit V2","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":164,"function":"DataSourceCacheService.getCached","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":538,"cacheKey":"[REDACTED]","cacheLevel":0,"rowCount":48,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.928Z","level":"WARN","message":"Security: RBAC filter: all scope, no filtering","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":494,"function":"DataSourceCacheService.applyRBACFilter","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":538,"component":"security","event":"RBAC filter: all scope, no filtering","severity":"low","userId":"[UUID]","rowCount":48,"permissionScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.928Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":538,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.928Z","level":"INFO","message":"Data source served from cache (server-filtered)","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":709,"function":"DataSourceCacheService.fetchDataSource","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","cacheKey":"[REDACTED]","cacheLevel":0,"cachedRowCount":48,"afterRBAC":48,"finalRowCount":48,"duration":324,"userId":"[UUID]","permissionScope":"all","security":"filtered_before_client_send","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.928Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":538,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.928Z","level":"INFO","message":"Analytics query completed (with caching)","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":391,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dataSourceId":3,"measure":"Cancellations","rowCount":48,"totalCount":48,"duration":358,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.928Z","level":"INFO","message":"Chart data fetched successfully","service":"bendcare-os","env":"development","file":"base-handler.ts","line":54,"function":"ComboChartHandler.fetchData","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":538,"chartType":"dual-axis","recordCount":48,"queryTimeMs":358,"cacheHit":true,"fetchDuration":358,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.928Z","level":"INFO","message":"Cache query completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":355,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":538,"datasourceId":3,"measure":"Cash Transfer","frequency":"Monthly","matchingKeys":"[REDACTED]","rowsReturned":46,"indexLookupDuration":33,"fetchDuration":185,"totalDuration":218,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.928Z","level":"INFO","message":"Data source cache hit V2","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":164,"function":"DataSourceCacheService.getCached","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":538,"cacheKey":"[REDACTED]","cacheLevel":0,"rowCount":46,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.928Z","level":"WARN","message":"Security: RBAC filter: all scope, no filtering","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":494,"function":"DataSourceCacheService.applyRBACFilter","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":538,"component":"security","event":"RBAC filter: all scope, no filtering","severity":"low","userId":"[UUID]","rowCount":46,"permissionScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.928Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":538,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.928Z","level":"INFO","message":"Data source served from cache (server-filtered)","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":709,"function":"DataSourceCacheService.fetchDataSource","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","cacheKey":"[REDACTED]","cacheLevel":0,"cachedRowCount":46,"afterRBAC":46,"finalRowCount":46,"duration":323,"userId":"[UUID]","permissionScope":"all","security":"filtered_before_client_send","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.928Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":538,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.929Z","level":"INFO","message":"Analytics query completed (with caching)","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":391,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dataSourceId":3,"measure":"Cash Transfer","rowCount":46,"totalCount":5289376.439999999,"duration":359,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.929Z","level":"INFO","message":"Chart data fetched successfully","service":"bendcare-os","env":"development","file":"base-handler.ts","line":54,"function":"ComboChartHandler.fetchData","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":539,"chartType":"dual-axis","recordCount":46,"queryTimeMs":359,"cacheHit":true,"fetchDuration":359,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.929Z","level":"INFO","message":"Dual-axis data fetched successfully","service":"bendcare-os","env":"development","file":"combo-handler.ts","line":72,"function":"ComboChartHandler.fetchData","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","primaryCount":48,"secondaryCount":46,"totalCount":94,"duration":359,"parallelFetch":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.929Z","level":"INFO","message":"Chart data fetched","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":71,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":539,"chartType":"dual-axis","recordCount":94,"fetchDuration":359,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.929Z","level":"INFO","message":"Cache query completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":355,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":539,"datasourceId":3,"measure":"Cash Transfer","frequency":"Monthly","matchingKeys":"[REDACTED]","rowsReturned":46,"indexLookupDuration":33,"fetchDuration":186,"totalDuration":219,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.929Z","level":"INFO","message":"Data source cache hit V2","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":164,"function":"DataSourceCacheService.getCached","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":539,"cacheKey":"[REDACTED]","cacheLevel":0,"rowCount":46,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.929Z","level":"WARN","message":"Security: RBAC filter: all scope, no filtering","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":494,"function":"DataSourceCacheService.applyRBACFilter","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":539,"component":"security","event":"RBAC filter: all scope, no filtering","severity":"low","userId":"[UUID]","rowCount":46,"permissionScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.929Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":539,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.929Z","level":"INFO","message":"Data source served from cache (server-filtered)","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":709,"function":"DataSourceCacheService.fetchDataSource","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","cacheKey":"[REDACTED]","cacheLevel":0,"cachedRowCount":46,"afterRBAC":46,"finalRowCount":46,"duration":324,"userId":"[UUID]","permissionScope":"all","security":"filtered_before_client_send","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.929Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":539,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.929Z","level":"INFO","message":"Analytics query completed (with caching)","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":391,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dataSourceId":3,"measure":"Cash Transfer","rowCount":46,"totalCount":5289376.439999999,"duration":358,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.929Z","level":"INFO","message":"Chart data fetched successfully","service":"bendcare-os","env":"development","file":"base-handler.ts","line":54,"function":"BarChartHandler.fetchData","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":539,"chartType":"bar","recordCount":46,"queryTimeMs":358,"cacheHit":true,"fetchDuration":359,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.930Z","level":"INFO","message":"Chart data fetched","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":71,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":540,"chartType":"stacked-bar","recordCount":46,"fetchDuration":359,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.930Z","level":"INFO","message":"Transforming bar chart data","service":"bendcare-os","env":"development","file":"bar-chart-handler.ts","line":41,"function":"BarChartHandler.transform","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":540,"chartType":"stacked-bar","recordCount":46,"groupBy":"provider_name","colorPalette":"blue","stackingMode":"normal","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.930Z","level":"INFO","message":"Bar chart data transformed","service":"bendcare-os","env":"development","file":"bar-chart-handler.ts","line":70,"function":"BarChartHandler.transform","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","chartType":"stacked-bar","duration":0,"datasetCount":6,"labelCount":9,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.930Z","level":"INFO","message":"Chart data transformed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":80,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":540,"chartType":"stacked-bar","datasetCount":6,"labelCount":9,"transformDuration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:49.930Z","level":"INFO","message":"Chart data orchestration completed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":111,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":540,"chartType":"stacked-bar","totalDuration":369,"fetchDuration":359,"transformDuration":0,"recordCount":46,"hasColumns":false,"columnCount":0,"hasFormattedData":false,"formattedRowCount":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.027Z","level":"INFO","message":"Cache query completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":355,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":637,"datasourceId":3,"measure":"Cash Transfer","frequency":"Daily","matchingKeys":"[REDACTED]","rowsReturned":1428,"indexLookupDuration":33,"fetchDuration":284,"totalDuration":317,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.027Z","level":"INFO","message":"Data source cache hit V2","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":164,"function":"DataSourceCacheService.getCached","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":637,"cacheKey":"[REDACTED]","cacheLevel":0,"rowCount":1428,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.027Z","level":"WARN","message":"Security: RBAC filter: all scope, no filtering","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":494,"function":"DataSourceCacheService.applyRBACFilter","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":637,"component":"security","event":"RBAC filter: all scope, no filtering","severity":"low","userId":"[UUID]","rowCount":1428,"permissionScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.028Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":638,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.028Z","level":"INFO","message":"Data source served from cache (server-filtered)","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":709,"function":"DataSourceCacheService.fetchDataSource","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","cacheKey":"[REDACTED]","cacheLevel":0,"cachedRowCount":1428,"afterRBAC":1428,"finalRowCount":1428,"duration":423,"userId":"[UUID]","permissionScope":"all","security":"filtered_before_client_send","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.028Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":638,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.028Z","level":"INFO","message":"Analytics query completed (with caching)","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":391,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dataSourceId":3,"measure":"Cash Transfer","rowCount":1428,"totalCount":5280122.160000001,"duration":457,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.028Z","level":"INFO","message":"Chart data fetched successfully","service":"bendcare-os","env":"development","file":"base-handler.ts","line":54,"function":"BarChartHandler.fetchData","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":638,"chartType":"bar","recordCount":1428,"queryTimeMs":457,"cacheHit":true,"fetchDuration":457,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.028Z","level":"INFO","message":"Chart data fetched","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":71,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":638,"chartType":"bar","recordCount":1428,"fetchDuration":457,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.029Z","level":"INFO","message":"Transforming bar chart data","service":"bendcare-os","env":"development","file":"bar-chart-handler.ts","line":41,"function":"BarChartHandler.transform","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":639,"chartType":"bar","recordCount":1428,"groupBy":"practice","colorPalette":"default","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.042Z","level":"INFO","message":"Bar chart data transformed","service":"bendcare-os","env":"development","file":"bar-chart-handler.ts","line":70,"function":"BarChartHandler.transform","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","chartType":"bar","duration":14,"datasetCount":1,"labelCount":281,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.042Z","level":"INFO","message":"Chart data transformed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":80,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":652,"chartType":"bar","datasetCount":1,"labelCount":281,"transformDuration":14,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.042Z","level":"INFO","message":"Chart data orchestration completed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":111,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":652,"chartType":"bar","totalDuration":479,"fetchDuration":457,"transformDuration":14,"recordCount":1428,"hasColumns":false,"columnCount":0,"hasFormattedData":false,"formattedRowCount":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.043Z","level":"INFO","message":"Cache query completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":355,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":653,"datasourceId":3,"measure":"Cash Transfer","frequency":"Monthly","matchingKeys":"[REDACTED]","rowsReturned":46,"indexLookupDuration":33,"fetchDuration":300,"totalDuration":333,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.043Z","level":"INFO","message":"Data source cache hit V2","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":164,"function":"DataSourceCacheService.getCached","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":653,"cacheKey":"[REDACTED]","cacheLevel":0,"rowCount":46,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.043Z","level":"WARN","message":"Security: RBAC filter: all scope, no filtering","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":494,"function":"DataSourceCacheService.applyRBACFilter","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":653,"component":"security","event":"RBAC filter: all scope, no filtering","severity":"low","userId":"[UUID]","rowCount":46,"permissionScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.043Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":653,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.043Z","level":"INFO","message":"Data source served from cache (server-filtered)","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":709,"function":"DataSourceCacheService.fetchDataSource","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","cacheKey":"[REDACTED]","cacheLevel":0,"cachedRowCount":46,"afterRBAC":46,"finalRowCount":46,"duration":438,"userId":"[UUID]","permissionScope":"all","security":"filtered_before_client_send","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.043Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":653,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.043Z","level":"INFO","message":"Analytics query completed (with caching)","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":391,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dataSourceId":3,"measure":"Cash Transfer","rowCount":46,"totalCount":5289376.439999999,"duration":472,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.043Z","level":"INFO","message":"Chart data fetched successfully","service":"bendcare-os","env":"development","file":"base-handler.ts","line":54,"function":"MetricChartHandler.fetchData","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":653,"chartType":"number","recordCount":46,"queryTimeMs":472,"cacheHit":true,"fetchDuration":472,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.044Z","level":"INFO","message":"Chart data fetched","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":71,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":654,"chartType":"number","recordCount":46,"fetchDuration":472,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.044Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":654,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.044Z","level":"DEBUG","message":"Column name resolved","service":"bendcare-os","env":"development","file":"column-resolver.ts","line":64,"function":"getColumnName","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":654,"dataSourceId":3,"columnType":"measure","resolvedName":"numeric_value","fromConfig":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.044Z","level":"INFO","message":"Transforming metric chart data","service":"bendcare-os","env":"development","file":"metric-handler.ts","line":90,"function":"MetricChartHandler.transform","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":654,"chartType":"number","recordCount":48,"aggregationType":"sum","valueColumn":"numeric_value","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.044Z","level":"INFO","message":"Data aggregated","service":"bendcare-os","env":"development","file":"metric-handler.ts","line":74,"function":"MetricChartHandler.aggregateData","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","aggregationType":"sum","valueColumn":"numeric_value","valueCount":48,"result":382,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.044Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":654,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.044Z","level":"INFO","message":"Metric chart data transformed","service":"bendcare-os","env":"development","file":"metric-handler.ts","line":153,"function":"MetricChartHandler.transform","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","chartType":"number","duration":116,"aggregationType":"sum","aggregatedValue":382,"measureType":"count","datasetCount":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.044Z","level":"INFO","message":"Chart data transformed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":80,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":654,"chartType":"number","datasetCount":1,"labelCount":0,"transformDuration":117,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.044Z","level":"INFO","message":"Chart data orchestration completed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":111,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":654,"chartType":"number","totalDuration":482,"fetchDuration":357,"transformDuration":117,"recordCount":48,"hasColumns":false,"columnCount":0,"hasFormattedData":false,"formattedRowCount":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.045Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":655,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.045Z","level":"DEBUG","message":"All columns resolved","service":"bendcare-os","env":"development","file":"column-resolver.ts","line":114,"function":"getResolvedColumns","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":655,"dataSourceId":3,"resolved":{"measureColumn":"numeric_value","dateColumn":"date_value","timePeriodColumn":"time_period","practiceColumn":"practice_uid","providerColumn":"provider_uid"},"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.045Z","level":"DEBUG","message":"Resolved columns for dual-axis chart","service":"bendcare-os","env":"development","file":"combo-handler.ts","line":111,"function":"ComboChartHandler.transform","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":655,"dataSourceId":3,"dateColumn":"date_value","measureColumn":"numeric_value","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.045Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":655,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.045Z","level":"INFO","message":"Dual-axis data transformation completed","service":"bendcare-os","env":"development","file":"combo-handler.ts","line":239,"function":"ComboChartHandler.transform","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","labelCount":9,"primaryDataPoints":48,"secondaryDataPoints":46,"primaryMeasureType":"count","secondaryMeasureType":"currency","duration":116,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.045Z","level":"INFO","message":"Chart data transformed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":80,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":655,"chartType":"dual-axis","datasetCount":2,"labelCount":9,"transformDuration":116,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.045Z","level":"INFO","message":"Chart data orchestration completed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":111,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":655,"chartType":"dual-axis","totalDuration":482,"fetchDuration":359,"transformDuration":116,"recordCount":94,"hasColumns":false,"columnCount":0,"hasFormattedData":false,"formattedRowCount":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.076Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":686,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.077Z","level":"DEBUG","message":"Column name resolved","service":"bendcare-os","env":"development","file":"column-resolver.ts","line":64,"function":"getColumnName","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":687,"dataSourceId":3,"columnType":"measure","resolvedName":"numeric_value","fromConfig":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.077Z","level":"INFO","message":"Transforming metric chart data","service":"bendcare-os","env":"development","file":"metric-handler.ts","line":90,"function":"MetricChartHandler.transform","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":687,"chartType":"number","recordCount":46,"aggregationType":"sum","valueColumn":"numeric_value","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.077Z","level":"INFO","message":"Data aggregated","service":"bendcare-os","env":"development","file":"metric-handler.ts","line":74,"function":"MetricChartHandler.aggregateData","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","aggregationType":"sum","valueColumn":"numeric_value","valueCount":46,"result":5289376.439999999,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.077Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":687,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.077Z","level":"INFO","message":"Metric chart data transformed","service":"bendcare-os","env":"development","file":"metric-handler.ts","line":153,"function":"MetricChartHandler.transform","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","chartType":"number","duration":33,"aggregationType":"sum","aggregatedValue":5289376.439999999,"measureType":"currency","datasetCount":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.077Z","level":"INFO","message":"Chart data transformed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":80,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":687,"chartType":"number","datasetCount":1,"labelCount":0,"transformDuration":33,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.077Z","level":"INFO","message":"Chart data orchestration completed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":111,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":687,"chartType":"number","totalDuration":515,"fetchDuration":472,"transformDuration":33,"recordCount":46,"hasColumns":false,"columnCount":0,"hasFormattedData":false,"formattedRowCount":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.077Z","level":"INFO","message":"Index lookup completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":320,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":687,"datasourceId":3,"measure":"Cancellations","frequency":"Weekly","practiceCount":1,"providerCount":0,"matchingKeys":"[REDACTED]","indexLookupDuration":367,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.113Z","level":"INFO","message":"Cache query completed V2","service":"bendcare-os","env":"development","file":"analytics-cache-v2.ts","line":355,"function":"AnalyticsCacheV2.query","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":723,"datasourceId":3,"measure":"Cancellations","frequency":"Weekly","matchingKeys":"[REDACTED]","rowsReturned":199,"indexLookupDuration":367,"fetchDuration":36,"totalDuration":403,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.113Z","level":"INFO","message":"Data source cache hit V2","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":164,"function":"DataSourceCacheService.getCached","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":723,"cacheKey":"[REDACTED]","cacheLevel":0,"rowCount":199,"version":"v2","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.113Z","level":"WARN","message":"Security: RBAC filter: all scope, no filtering","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":494,"function":"DataSourceCacheService.applyRBACFilter","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":723,"component":"security","event":"RBAC filter: all scope, no filtering","severity":"low","userId":"[UUID]","rowCount":199,"permissionScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.113Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":723,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.114Z","level":"INFO","message":"Data source served from cache (server-filtered)","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":709,"function":"DataSourceCacheService.fetchDataSource","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","cacheKey":"[REDACTED]","cacheLevel":0,"cachedRowCount":199,"afterRBAC":199,"finalRowCount":199,"duration":508,"userId":"[UUID]","permissionScope":"all","security":"filtered_before_client_send","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.114Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":724,"component":"column-mapping-service","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.114Z","level":"INFO","message":"Analytics query completed (with caching)","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":391,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dataSourceId":3,"measure":"Cancellations","practiceUid":114,"rowCount":199,"totalCount":199,"duration":542,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.114Z","level":"INFO","message":"Chart data fetched successfully","service":"bendcare-os","env":"development","file":"base-handler.ts","line":54,"function":"BarChartHandler.fetchData","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":724,"chartType":"bar","recordCount":199,"queryTimeMs":542,"cacheHit":true,"fetchDuration":542,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.114Z","level":"INFO","message":"Chart data fetched","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":71,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":724,"chartType":"stacked-bar","recordCount":199,"fetchDuration":542,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.114Z","level":"INFO","message":"Transforming bar chart data","service":"bendcare-os","env":"development","file":"bar-chart-handler.ts","line":41,"function":"BarChartHandler.transform","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":724,"chartType":"stacked-bar","recordCount":199,"groupBy":"provider_name","colorPalette":"default","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.116Z","level":"INFO","message":"Bar chart data transformed","service":"bendcare-os","env":"development","file":"bar-chart-handler.ts","line":70,"function":"BarChartHandler.transform","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","chartType":"stacked-bar","duration":2,"datasetCount":6,"labelCount":39,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.116Z","level":"INFO","message":"Chart data transformed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":80,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":726,"chartType":"stacked-bar","datasetCount":6,"labelCount":39,"transformDuration":2,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.116Z","level":"INFO","message":"Chart data orchestration completed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":111,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":726,"chartType":"stacked-bar","totalDuration":554,"fetchDuration":542,"transformDuration":2,"recordCount":199,"hasColumns":false,"columnCount":0,"hasFormattedData":false,"formattedRowCount":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.268Z","level":"INFO","message":"Main database connections closed","service":"bendcare-os","env":"development","file":"index.ts","line":160,"function":"process.closeDb"}
✅ QUERY RESULT: {
  duration: '558ms',
  rowCount: 4462,
  sampleData: {
    practice_uid: 27,
    practice: 'Arthritis-Osteo Trtmnt & Rsrch Cntr',
    practice_primary: 'Munoz, George',
    provider_uid: 63,
    provider_name: 'Munoz, George',
    measure: 'Charges by Provider',
    frequency: 'Quarterly',
    date_index: '2024-03-31',
    measure_value: '3808918',
    measure_type: 'currency'
  }
}
{"@timestamp":"2025-10-15T20:35:50.302Z","level":"INFO","message":"Database query completed","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":420,"function":"DataSourceCacheService.queryDatabase","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":912,"schema":"ih","table":"agg_app_measures","rowCount":4462,"queryDuration":558,"hasAdvancedFilters":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.796Z","level":"INFO","message":"Data source cached","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":223,"function":"DataSourceCacheService.setCached","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1406,"key":"[REDACTED]","rowCount":4462,"sizeKB":1238,"ttl":14400,"expiresAt":"2025-10-16T00:35:50.302Z","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.796Z","level":"WARN","message":"Security: RBAC filter: all scope, no filtering","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":494,"function":"DataSourceCacheService.applyRBACFilter","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1406,"component":"security","event":"RBAC filter: all scope, no filtering","severity":"low","userId":"[UUID]","rowCount":4462,"permissionScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.797Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1407,"component":"column-mapping-service","dataSourceId":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.799Z","level":"INFO","message":"Data source fetched from database (server-filtered)","service":"bendcare-os","env":"development","file":"data-source-cache.ts","line":765,"function":"DataSourceCacheService.fetchDataSource","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","totalRowCount":4462,"afterRBAC":3368,"finalRowCount":3368,"duration":1192,"userId":"[UUID]","permissionScope":"all","security":"filtered_before_client_send","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.799Z","level":"DEBUG","message":"Column mapping cache hit","service":"bendcare-os","env":"development","file":"column-mapping-service.ts","line":56,"function":"ColumnMappingService.getMapping","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1409,"component":"column-mapping-service","dataSourceId":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.801Z","level":"INFO","message":"Analytics query completed (with caching)","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":391,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dataSourceId":1,"measure":"Charges by Provider","rowCount":3368,"totalCount":2321011858,"duration":1229,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.802Z","level":"INFO","message":"Chart data fetched successfully","service":"bendcare-os","env":"development","file":"base-handler.ts","line":54,"function":"BarChartHandler.fetchData","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1412,"chartType":"bar","recordCount":3368,"queryTimeMs":1229,"cacheHit":true,"fetchDuration":1229,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.802Z","level":"INFO","message":"Chart data fetched","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":71,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1412,"chartType":"bar","recordCount":3368,"fetchDuration":1230,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.802Z","level":"INFO","message":"Transforming bar chart data","service":"bendcare-os","env":"development","file":"bar-chart-handler.ts","line":41,"function":"BarChartHandler.transform","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1412,"chartType":"bar","recordCount":3368,"groupBy":"provider_name","colorPalette":"default","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.809Z","level":"INFO","message":"Bar chart data transformed","service":"bendcare-os","env":"development","file":"bar-chart-handler.ts","line":70,"function":"BarChartHandler.transform","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","chartType":"bar","duration":6,"datasetCount":300,"labelCount":12,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.809Z","level":"INFO","message":"Chart data transformed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":80,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1419,"chartType":"bar","datasetCount":300,"labelCount":12,"transformDuration":7,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.810Z","level":"INFO","message":"Chart data orchestration completed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":111,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1420,"chartType":"bar","totalDuration":1247,"fetchDuration":1230,"transformDuration":7,"recordCount":3368,"hasColumns":false,"columnCount":0,"hasFormattedData":false,"formattedRowCount":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.810Z","level":"INFO","message":"Dashboard batch render completed","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":306,"function":"DashboardRenderer.renderDashboard","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dashboardId":"[UUID]","chartsRendered":9,"cacheHits":0,"cacheMisses":9,"totalQueryTime":4491,"parallelDuration":1247,"duration":1260,"queryDeduplication":{"uniqueQueries":8,"queriesDeduped":1,"deduplicationRate":"11%","totalCharts":9,"queriesSaved":1},"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.811Z","level":"INFO","message":"Query cache cleared","service":"bendcare-os","env":"development","file":"dashboard-query-cache.ts","line":184,"function":"DashboardQueryCache.clear","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1421,"uniqueQueries":8,"queriesDeduped":1,"deduplicationRate":"11%","totalRequests":9,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.812Z","level":"INFO","message":"Dashboard batch render completed","service":"bendcare-os","env":"development","file":"route.ts","line":58,"function":"renderDashboardHandler","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dashboardId":"[UUID]","userId":"[UUID]","component":"analytics","operation":"batch_render","duration":1295,"metrics":{"chartsRendered":9,"queriesExecuted":9,"cacheHits":0,"cacheMisses":9,"cacheHitRate":0,"totalQueryTime":4491,"parallelExecution":true,"filtersApplied":1,"nocache":false},"slow":false,"performance":{"target":2000,"actual":1295,"overTarget":false},"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.829Z","level":"INFO","message":"Handler execution completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":205,"function":"eval","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1313,"userId":"[UUID]","statusCode":200,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
{"@timestamp":"2025-10-15T20:35:50.829Z","level":"INFO","message":"RBAC route completed successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":211,"function":"eval","correlationId":"cor_mgsgam0r_rhn7z6c3","method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1439,"userId":"[UUID]","statusCode":200,"totalDuration":1439,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render"}}
 POST /api/admin/analytics/dashboard/6db475e1-ad7b-45ca-8845-226a0d9a3b0a/render 200 in 1458ms
{"@timestamp":"2025-10-15T20:35:50.878Z","level":"INFO","message":"GET /api/organizations - RBAC route","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":47,"function":"eval","correlationId":"cor_mgsgan64_dnjuh4wl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"component":"api","request":{},"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:50.878Z","level":"INFO","message":"RBAC route initiated","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":48,"function":"eval","correlationId":"cor_mgsgan64_dnjuh4wl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"endpoint":"/api/organizations","requiredPermissions":["organizations:read:own","organizations:read:organization","organizations:read:all"],"requireAllPermissions":false,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:50.909Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgsgan64_dnjuh4wl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":31,"type":"api","identifier":"::1","current":40,"remaining":160,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:50.909Z","level":"INFO","message":"Rate limit check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":61,"function":"eval","correlationId":"cor_mgsgan64_dnjuh4wl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":31,"limitType":"api","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:50.910Z","level":"DEBUG","message":"API auth check initiated","service":"bendcare-os","env":"development","file":"global-auth.ts","line":65,"function":"applyGlobalAuth","correlationId":"cor_mgsgan64_dnjuh4wl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":32,"pathname":"/api/organizations","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:50.938Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgsgan64_dnjuh4wl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":60,"type":"api","identifier":"::1","current":41,"remaining":159,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:50.938Z","level":"DEBUG","message":"Using httpOnly cookie for authentication","service":"bendcare-os","env":"development","file":"global-auth.ts","line":100,"function":"applyGlobalAuth","correlationId":"cor_mgsgan64_dnjuh4wl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":60,"pathname":"/api/organizations","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:50.939Z","level":"DEBUG","message":"Using access token from httpOnly cookie","service":"bendcare-os","env":"development","file":"auth.ts","line":36,"function":"requireAuth","correlationId":"cor_mgsgan64_dnjuh4wl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":61,"component":"auth","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:51.000Z","level":"DEBUG","message":"Loading user context","service":"bendcare-os","env":"development","file":"user-context.ts","line":304,"function":"getUserContextSafe","correlationId":"cor_mgsgan64_dnjuh4wl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":122,"userId":"[UUID]","operation":"getUserContext","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
Query: select "user_id", "email", "first_name", "last_name", "is_active", "email_verified", "created_at", "updated_at" from "users" where "users"."user_id" = $1 limit $2 -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", 1]
Query: select "user_organizations"."user_organization_id", "user_organizations"."user_id", "user_organizations"."organization_id", "user_organizations"."is_active", "user_organizations"."joined_at", "user_organizations"."created_at", "organizations"."name", "organizations"."slug", "organizations"."parent_organization_id", "organizations"."is_active", "organizations"."created_at", "organizations"."updated_at", "organizations"."deleted_at" from "user_organizations" inner join "organizations" on "user_organizations"."organization_id" = "organizations"."organization_id" where ("user_organizations"."user_id" = $1 and "user_organizations"."is_active" = $2 and "organizations"."is_active" = $3) -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", true, true]
Query: select distinct "user_roles"."user_role_id", "user_roles"."user_id", "user_roles"."role_id", "user_roles"."organization_id", "user_roles"."granted_by", "user_roles"."granted_at", "user_roles"."expires_at", "user_roles"."is_active", "user_roles"."created_at", "roles"."name", "roles"."description", "roles"."organization_id", "roles"."is_system_role", "roles"."is_active", "roles"."created_at", "roles"."updated_at", "roles"."deleted_at", "permissions"."permission_id", "permissions"."name", "permissions"."description", "permissions"."resource", "permissions"."action", "permissions"."scope", "permissions"."is_active", "permissions"."created_at", "permissions"."updated_at" from "user_roles" inner join "roles" on "user_roles"."role_id" = "roles"."role_id" inner join "role_permissions" on "roles"."role_id" = "role_permissions"."role_id" inner join "permissions" on "role_permissions"."permission_id" = "permissions"."permission_id" where ("user_roles"."user_id" = $1 and "user_roles"."is_active" = $2 and "roles"."is_active" = $3 and "permissions"."is_active" = $4) -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", true, true, true]
{"@timestamp":"2025-10-15T20:35:51.017Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"user-context.ts","line":314,"function":"eval","correlationId":"cor_mgsgan64_dnjuh4wl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":139,"userId":"[UUID]","rolesCount":1,"permissionsCount":90,"organizationsCount":0,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:51.017Z","level":"INFO","message":"API authentication successful","service":"bendcare-os","env":"development","file":"global-auth.ts","line":122,"function":"applyGlobalAuth","correlationId":"cor_mgsgan64_dnjuh4wl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","pathname":"/api/organizations","userId":"[UUID]","userEmail":"[REDACTED]","authMethod":"httponly_cookie","duration":78,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:51.018Z","level":"INFO","message":"Global auth check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":71,"function":"eval","correlationId":"cor_mgsgan64_dnjuh4wl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":108,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:51.018Z","level":"DEBUG","message":"Global authentication completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":74,"function":"eval","correlationId":"cor_mgsgan64_dnjuh4wl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":140,"hasSession":true,"hasUser":true,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:51.018Z","level":"INFO","message":"User context retrieved from session","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":145,"function":"eval","correlationId":"cor_mgsgan64_dnjuh4wl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","cached":true,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:51.019Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":167,"function":"eval","correlationId":"cor_mgsgan64_dnjuh4wl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":141,"userId":"[UUID]","roleCount":1,"permissionCount":90,"isSuperAdmin":true,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:51.020Z","level":"INFO","message":"RBAC permission check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":183,"function":"eval","correlationId":"cor_mgsgan64_dnjuh4wl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","permissions":["organizations:read:own","organizations:read:organization","organizations:read:all"],"requireAll":false,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:51.020Z","level":"INFO","message":"RBAC permission check passed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":192,"function":"eval","correlationId":"cor_mgsgan64_dnjuh4wl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":142,"userId":"[UUID]","permissions":["organizations:read:own","organizations:read:organization","organizations:read:all"],"rbacDuration":0,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:51.021Z","level":"INFO","message":"Auth: rbac_check","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":199,"function":"eval","correlationId":"cor_mgsgan64_dnjuh4wl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":143,"component":"auth","action":"rbac_check","success":true,"userId":"[UUID]","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
Query: select "organizations"."organization_id", "organizations"."name", "organizations"."slug", "organizations"."parent_organization_id", "organizations"."is_active", "organizations"."created_at", "organizations"."updated_at", "organizations"."deleted_at", "practices"."practice_id", "practices"."domain", "practices"."status", "practices"."template_id" from "organizations" left join "practices" on "organizations"."organization_id" = "practices"."practice_id" where ("organizations"."is_active" = $1 and "organizations"."deleted_at" is null and "organizations"."is_active" = $2) order by "organizations"."created_at" desc -- params: [true, true]
Query: select "organization_id", count(*) from "user_organizations" where ("user_organizations"."organization_id" in ($1, $2, $3, $4, $5) and "user_organizations"."is_active" = $6) group by "user_organizations"."organization_id" -- params: ["d9e5bd24-b104-4ff5-a219-678eedb31aaa", "4e23ee8f-33b1-4a6a-a371-0437d01c40d6", "7b70e645-82f2-4b18-8b22-db946991f6d5", "640c5969-74bc-4189-a455-81bf26f74829", "13f5a859-91ba-46ad-a4d1-40fb7a2996f2", true]
Query: select "parent_organization_id", count(*) from "organizations" where ("organizations"."parent_organization_id" in ($1, $2, $3, $4, $5) and "organizations"."parent_organization_id" is not null and "organizations"."is_active" = $6 and "organizations"."deleted_at" is null) group by "organizations"."parent_organization_id" -- params: ["d9e5bd24-b104-4ff5-a219-678eedb31aaa", "4e23ee8f-33b1-4a6a-a371-0437d01c40d6", "7b70e645-82f2-4b18-8b22-db946991f6d5", "640c5969-74bc-4189-a455-81bf26f74829", "13f5a859-91ba-46ad-a4d1-40fb7a2996f2", true]
{"@timestamp":"2025-10-15T20:35:51.026Z","level":"INFO","message":"organizations list query completed - returned 5 of 5","service":"bendcare-os","env":"development","file":"index.ts","line":257,"function":"OrganizationsService.getOrganizations","correlationId":"cor_mgsgan64_dnjuh4wl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","operation":"list_organizations","resourceType":"organizations","userId":"[UUID]","filters":{"is_active":true},"filterCount":1,"results":{"returned":5,"total":5,"page":1,"hasMore":false},"empty":false,"duration":5,"slow":false,"component":"service","query":{"duration":2,"slow":false},"enrichment":{"duration":3,"slow":false},"rbacScope":"all","batchOptimized":true,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:51.027Z","level":"INFO","message":"organizations list query completed - returned 5 organizations","service":"bendcare-os","env":"development","file":"route.ts","line":67,"function":"getOrganizationsHandler","correlationId":"cor_mgsgan64_dnjuh4wl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","operation":"list_organizations","resourceType":"organizations","userId":"[UUID]","isSuperAdmin":true,"filters":{"is_active":true},"filterCount":1,"results":{"returned":5,"active":5,"inactive":0,"page":1,"pageSize":10},"sort":{"field":"created_at","direction":"desc"},"duration":6,"slow":false,"component":"business-logic","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:51.028Z","level":"INFO","message":"Handler execution completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":205,"function":"eval","correlationId":"cor_mgsgan64_dnjuh4wl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":6,"userId":"[UUID]","statusCode":200,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:51.028Z","level":"INFO","message":"RBAC route completed successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":211,"function":"eval","correlationId":"cor_mgsgan64_dnjuh4wl","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":150,"userId":"[UUID]","statusCode":200,"totalDuration":150,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
 GET /api/organizations?is_active=true 200 in 168ms
{"@timestamp":"2025-10-15T20:35:51.282Z","level":"INFO","message":"GET /api/organizations - RBAC route","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":47,"function":"eval","correlationId":"cor_mgsganh3_nmzebbpx","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"component":"api","request":{},"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:51.283Z","level":"INFO","message":"RBAC route initiated","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":48,"function":"eval","correlationId":"cor_mgsganh3_nmzebbpx","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1,"endpoint":"/api/organizations","requiredPermissions":["organizations:read:own","organizations:read:organization","organizations:read:all"],"requireAllPermissions":false,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:51.313Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgsganh3_nmzebbpx","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":31,"type":"api","identifier":"::1","current":42,"remaining":158,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:51.313Z","level":"INFO","message":"Rate limit check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":61,"function":"eval","correlationId":"cor_mgsganh3_nmzebbpx","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":30,"limitType":"api","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:51.313Z","level":"DEBUG","message":"API auth check initiated","service":"bendcare-os","env":"development","file":"global-auth.ts","line":65,"function":"applyGlobalAuth","correlationId":"cor_mgsganh3_nmzebbpx","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":31,"pathname":"/api/organizations","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:51.342Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgsganh3_nmzebbpx","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":60,"type":"api","identifier":"::1","current":43,"remaining":157,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:51.343Z","level":"DEBUG","message":"Using httpOnly cookie for authentication","service":"bendcare-os","env":"development","file":"global-auth.ts","line":100,"function":"applyGlobalAuth","correlationId":"cor_mgsganh3_nmzebbpx","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":61,"pathname":"/api/organizations","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:51.343Z","level":"DEBUG","message":"Using access token from httpOnly cookie","service":"bendcare-os","env":"development","file":"auth.ts","line":36,"function":"requireAuth","correlationId":"cor_mgsganh3_nmzebbpx","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":61,"component":"auth","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:51.409Z","level":"DEBUG","message":"User context cache hit","service":"bendcare-os","env":"development","file":"user-context.ts","line":288,"function":"getUserContextSafe","correlationId":"cor_mgsganh3_nmzebbpx","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":127,"userId":"[UUID]","operation":"getUserContext","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:51.410Z","level":"INFO","message":"API authentication successful","service":"bendcare-os","env":"development","file":"global-auth.ts","line":122,"function":"applyGlobalAuth","correlationId":"cor_mgsganh3_nmzebbpx","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","pathname":"/api/organizations","userId":"[UUID]","userEmail":"[REDACTED]","authMethod":"httponly_cookie","duration":66,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:51.410Z","level":"INFO","message":"Global auth check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":71,"function":"eval","correlationId":"cor_mgsganh3_nmzebbpx","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":97,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:51.410Z","level":"DEBUG","message":"Global authentication completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":74,"function":"eval","correlationId":"cor_mgsganh3_nmzebbpx","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":128,"hasSession":true,"hasUser":true,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:51.411Z","level":"INFO","message":"User context retrieved from session","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":145,"function":"eval","correlationId":"cor_mgsganh3_nmzebbpx","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","cached":true,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:51.411Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":167,"function":"eval","correlationId":"cor_mgsganh3_nmzebbpx","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":129,"userId":"[UUID]","roleCount":1,"permissionCount":90,"isSuperAdmin":true,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:51.412Z","level":"INFO","message":"RBAC permission check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":183,"function":"eval","correlationId":"cor_mgsganh3_nmzebbpx","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","permissions":["organizations:read:own","organizations:read:organization","organizations:read:all"],"requireAll":false,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:51.412Z","level":"INFO","message":"RBAC permission check passed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":192,"function":"eval","correlationId":"cor_mgsganh3_nmzebbpx","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":130,"userId":"[UUID]","permissions":["organizations:read:own","organizations:read:organization","organizations:read:all"],"rbacDuration":0,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:51.413Z","level":"INFO","message":"Auth: rbac_check","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":199,"function":"eval","correlationId":"cor_mgsganh3_nmzebbpx","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":131,"component":"auth","action":"rbac_check","success":true,"userId":"[UUID]","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
Query: select "organizations"."organization_id", "organizations"."name", "organizations"."slug", "organizations"."parent_organization_id", "organizations"."is_active", "organizations"."created_at", "organizations"."updated_at", "organizations"."deleted_at", "practices"."practice_id", "practices"."domain", "practices"."status", "practices"."template_id" from "organizations" left join "practices" on "organizations"."organization_id" = "practices"."practice_id" where ("organizations"."is_active" = $1 and "organizations"."deleted_at" is null and "organizations"."is_active" = $2) order by "organizations"."created_at" desc -- params: [true, true]
Query: select "organization_id", count(*) from "user_organizations" where ("user_organizations"."organization_id" in ($1, $2, $3, $4, $5) and "user_organizations"."is_active" = $6) group by "user_organizations"."organization_id" -- params: ["d9e5bd24-b104-4ff5-a219-678eedb31aaa", "4e23ee8f-33b1-4a6a-a371-0437d01c40d6", "7b70e645-82f2-4b18-8b22-db946991f6d5", "640c5969-74bc-4189-a455-81bf26f74829", "13f5a859-91ba-46ad-a4d1-40fb7a2996f2", true]
Query: select "parent_organization_id", count(*) from "organizations" where ("organizations"."parent_organization_id" in ($1, $2, $3, $4, $5) and "organizations"."parent_organization_id" is not null and "organizations"."is_active" = $6 and "organizations"."deleted_at" is null) group by "organizations"."parent_organization_id" -- params: ["d9e5bd24-b104-4ff5-a219-678eedb31aaa", "4e23ee8f-33b1-4a6a-a371-0437d01c40d6", "7b70e645-82f2-4b18-8b22-db946991f6d5", "640c5969-74bc-4189-a455-81bf26f74829", "13f5a859-91ba-46ad-a4d1-40fb7a2996f2", true]
{"@timestamp":"2025-10-15T20:35:51.422Z","level":"INFO","message":"organizations list query completed - returned 5 of 5","service":"bendcare-os","env":"development","file":"index.ts","line":257,"function":"OrganizationsService.getOrganizations","correlationId":"cor_mgsganh3_nmzebbpx","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","operation":"list_organizations","resourceType":"organizations","userId":"[UUID]","filters":{"is_active":true},"filterCount":1,"results":{"returned":5,"total":5,"page":1,"hasMore":false},"empty":false,"duration":9,"slow":false,"component":"service","query":{"duration":5,"slow":false},"enrichment":{"duration":4,"slow":false},"rbacScope":"all","batchOptimized":true,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:51.423Z","level":"INFO","message":"organizations list query completed - returned 5 organizations","service":"bendcare-os","env":"development","file":"route.ts","line":67,"function":"getOrganizationsHandler","correlationId":"cor_mgsganh3_nmzebbpx","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","operation":"list_organizations","resourceType":"organizations","userId":"[UUID]","isSuperAdmin":true,"filters":{"is_active":true},"filterCount":1,"results":{"returned":5,"active":5,"inactive":0,"page":1,"pageSize":10},"sort":{"field":"created_at","direction":"desc"},"duration":9,"slow":false,"component":"business-logic","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:51.423Z","level":"INFO","message":"Handler execution completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":205,"function":"eval","correlationId":"cor_mgsganh3_nmzebbpx","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":10,"userId":"[UUID]","statusCode":200,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-15T20:35:51.424Z","level":"INFO","message":"RBAC route completed successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":211,"function":"eval","correlationId":"cor_mgsganh3_nmzebbpx","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":142,"userId":"[UUID]","statusCode":200,"totalDuration":141,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
 GET /api/organizations?is_active=true 200 in 168ms

