{
  "id": "4abd4391-33b0-43c5-a4a7-b9a0c81739a2",
  "prevId": "596b25b2-f643-400d-ab12-8e339f65d253",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.account_security": {
      "name": "account_security",
      "schema": "",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "failed_login_attempts": {
          "name": "failed_login_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_failed_attempt": {
          "name": "last_failed_attempt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "locked_until": {
          "name": "locked_until",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "lockout_reason": {
          "name": "lockout_reason",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "max_concurrent_sessions": {
          "name": "max_concurrent_sessions",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 3
        },
        "require_fresh_auth_minutes": {
          "name": "require_fresh_auth_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 5
        },
        "password_changed_at": {
          "name": "password_changed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_password_reset": {
          "name": "last_password_reset",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "suspicious_activity_detected": {
          "name": "suspicious_activity_detected",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "mfa_enabled": {
          "name": "mfa_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "mfa_method": {
          "name": "mfa_method",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "mfa_enforced_at": {
          "name": "mfa_enforced_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "mfa_skips_remaining": {
          "name": "mfa_skips_remaining",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 5
        },
        "mfa_skip_count": {
          "name": "mfa_skip_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "mfa_first_skipped_at": {
          "name": "mfa_first_skipped_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "mfa_last_skipped_at": {
          "name": "mfa_last_skipped_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_account_security_locked_until": {
          "name": "idx_account_security_locked_until",
          "columns": [
            {
              "expression": "locked_until",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_account_security_suspicious": {
          "name": "idx_account_security_suspicious",
          "columns": [
            {
              "expression": "suspicious_activity_detected",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_account_security_mfa_enabled": {
          "name": "idx_account_security_mfa_enabled",
          "columns": [
            {
              "expression": "mfa_enabled",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_account_security_mfa_skips": {
          "name": "idx_account_security_mfa_skips",
          "columns": [
            {
              "expression": "mfa_skips_remaining",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "account_security_user_id_users_user_id_fk": {
          "name": "account_security_user_id_users_user_id_fk",
          "tableFrom": "account_security",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.audit_logs": {
      "name": "audit_logs",
      "schema": "",
      "columns": {
        "audit_log_id": {
          "name": "audit_log_id",
          "type": "varchar(255)",
          "primaryKey": true,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resource_type": {
          "name": "resource_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "resource_id": {
          "name": "resource_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "old_values": {
          "name": "old_values",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "new_values": {
          "name": "new_values",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "severity": {
          "name": "severity",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'low'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_audit_logs_event_type": {
          "name": "idx_audit_logs_event_type",
          "columns": [
            {
              "expression": "event_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_audit_logs_user_id": {
          "name": "idx_audit_logs_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_audit_logs_severity": {
          "name": "idx_audit_logs_severity",
          "columns": [
            {
              "expression": "severity",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_audit_logs_created_at": {
          "name": "idx_audit_logs_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_audit_logs_resource": {
          "name": "idx_audit_logs_resource",
          "columns": [
            {
              "expression": "resource_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "resource_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.chart_categories": {
      "name": "chart_categories",
      "schema": "",
      "columns": {
        "chart_category_id": {
          "name": "chart_category_id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "chart_categories_chart_category_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "cache": "1",
            "cycle": false
          }
        },
        "category_name": {
          "name": "category_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "category_description": {
          "name": "category_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "parent_category_id": {
          "name": "parent_category_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_chart_categories_name": {
          "name": "idx_chart_categories_name",
          "columns": [
            {
              "expression": "category_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_chart_categories_parent": {
          "name": "idx_chart_categories_parent",
          "columns": [
            {
              "expression": "parent_category_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.chart_data_source_columns": {
      "name": "chart_data_source_columns",
      "schema": "",
      "columns": {
        "column_id": {
          "name": "column_id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "chart_data_source_columns_column_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "cache": "1",
            "cycle": false
          }
        },
        "data_source_id": {
          "name": "data_source_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "column_name": {
          "name": "column_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "column_description": {
          "name": "column_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "data_type": {
          "name": "data_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "is_filterable": {
          "name": "is_filterable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_groupable": {
          "name": "is_groupable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_measure": {
          "name": "is_measure",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_dimension": {
          "name": "is_dimension",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_date_field": {
          "name": "is_date_field",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_measure_type": {
          "name": "is_measure_type",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_time_period": {
          "name": "is_time_period",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_expansion_dimension": {
          "name": "is_expansion_dimension",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "expansion_display_name": {
          "name": "expansion_display_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "format_type": {
          "name": "format_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "default_aggregation": {
          "name": "default_aggregation",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "display_icon": {
          "name": "display_icon",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "icon_type": {
          "name": "icon_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "icon_color_mode": {
          "name": "icon_color_mode",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'auto'"
        },
        "icon_color": {
          "name": "icon_color",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "icon_mapping": {
          "name": "icon_mapping",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_sensitive": {
          "name": "is_sensitive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "access_level": {
          "name": "access_level",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'all'"
        },
        "allowed_values": {
          "name": "allowed_values",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "validation_rules": {
          "name": "validation_rules",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "example_value": {
          "name": "example_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_chart_data_source_columns_data_source": {
          "name": "idx_chart_data_source_columns_data_source",
          "columns": [
            {
              "expression": "data_source_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_chart_data_source_columns_flags": {
          "name": "idx_chart_data_source_columns_flags",
          "columns": [
            {
              "expression": "is_filterable",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_groupable",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_measure",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_measure_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_chart_data_source_columns_active": {
          "name": "idx_chart_data_source_columns_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_chart_data_source_columns_unique": {
          "name": "idx_chart_data_source_columns_unique",
          "columns": [
            {
              "expression": "data_source_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "column_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "chart_data_source_columns_data_source_id_chart_data_sources_data_source_id_fk": {
          "name": "chart_data_source_columns_data_source_id_chart_data_sources_data_source_id_fk",
          "tableFrom": "chart_data_source_columns",
          "tableTo": "chart_data_sources",
          "columnsFrom": [
            "data_source_id"
          ],
          "columnsTo": [
            "data_source_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.chart_data_sources": {
      "name": "chart_data_sources",
      "schema": "",
      "columns": {
        "data_source_id": {
          "name": "data_source_id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "chart_data_sources_data_source_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "cache": "1",
            "cycle": false
          }
        },
        "data_source_name": {
          "name": "data_source_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "data_source_description": {
          "name": "data_source_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "table_name": {
          "name": "table_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "schema_name": {
          "name": "schema_name",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "data_source_type": {
          "name": "data_source_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'measure-based'"
        },
        "database_type": {
          "name": "database_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'postgresql'"
        },
        "connection_config": {
          "name": "connection_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "requires_auth": {
          "name": "requires_auth",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_chart_data_sources_active": {
          "name": "idx_chart_data_sources_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_chart_data_sources_table": {
          "name": "idx_chart_data_sources_table",
          "columns": [
            {
              "expression": "table_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_chart_data_sources_type": {
          "name": "idx_chart_data_sources_type",
          "columns": [
            {
              "expression": "data_source_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.chart_definitions": {
      "name": "chart_definitions",
      "schema": "",
      "columns": {
        "chart_definition_id": {
          "name": "chart_definition_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "chart_name": {
          "name": "chart_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "chart_description": {
          "name": "chart_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "chart_type": {
          "name": "chart_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "data_source": {
          "name": "data_source",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "chart_config": {
          "name": "chart_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "access_control": {
          "name": "access_control",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "data_source_id": {
          "name": "data_source_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "chart_category_id": {
          "name": "chart_category_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "drill_down_enabled": {
          "name": "drill_down_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "drill_down_type": {
          "name": "drill_down_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "drill_down_target_chart_id": {
          "name": "drill_down_target_chart_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "drill_down_button_label": {
          "name": "drill_down_button_label",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'Drill Down'"
        }
      },
      "indexes": {
        "idx_chart_definitions_name": {
          "name": "idx_chart_definitions_name",
          "columns": [
            {
              "expression": "chart_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_chart_definitions_type": {
          "name": "idx_chart_definitions_type",
          "columns": [
            {
              "expression": "chart_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_chart_definitions_created_by": {
          "name": "idx_chart_definitions_created_by",
          "columns": [
            {
              "expression": "created_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_chart_definitions_data_source": {
          "name": "idx_chart_definitions_data_source",
          "columns": [
            {
              "expression": "data_source_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_chart_definitions_category": {
          "name": "idx_chart_definitions_category",
          "columns": [
            {
              "expression": "chart_category_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_chart_definitions_active": {
          "name": "idx_chart_definitions_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_chart_definitions_created_at": {
          "name": "idx_chart_definitions_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "chart_definitions_data_source_id_chart_data_sources_data_source_id_fk": {
          "name": "chart_definitions_data_source_id_chart_data_sources_data_source_id_fk",
          "tableFrom": "chart_definitions",
          "tableTo": "chart_data_sources",
          "columnsFrom": [
            "data_source_id"
          ],
          "columnsTo": [
            "data_source_id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "chart_definitions_chart_category_id_chart_categories_chart_category_id_fk": {
          "name": "chart_definitions_chart_category_id_chart_categories_chart_category_id_fk",
          "tableFrom": "chart_definitions",
          "tableTo": "chart_categories",
          "columnsFrom": [
            "chart_category_id"
          ],
          "columnsTo": [
            "chart_category_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "chart_definitions_created_by_users_user_id_fk": {
          "name": "chart_definitions_created_by_users_user_id_fk",
          "tableFrom": "chart_definitions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "chart_definitions_drill_down_target_chart_id_chart_definitions_chart_definition_id_fk": {
          "name": "chart_definitions_drill_down_target_chart_id_chart_definitions_chart_definition_id_fk",
          "tableFrom": "chart_definitions",
          "tableTo": "chart_definitions",
          "columnsFrom": [
            "drill_down_target_chart_id"
          ],
          "columnsTo": [
            "chart_definition_id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.chart_display_configurations": {
      "name": "chart_display_configurations",
      "schema": "",
      "columns": {
        "display_configuration_id": {
          "name": "display_configuration_id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "chart_display_configurations_display_configuration_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "cache": "1",
            "cycle": false
          }
        },
        "chart_type": {
          "name": "chart_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "frequency": {
          "name": "frequency",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "x_axis_config": {
          "name": "x_axis_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "y_axis_config": {
          "name": "y_axis_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "default_width": {
          "name": "default_width",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 800
        },
        "default_height": {
          "name": "default_height",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 400
        },
        "padding_config": {
          "name": "padding_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "time_unit": {
          "name": "time_unit",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "time_display_format": {
          "name": "time_display_format",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "time_tooltip_format": {
          "name": "time_tooltip_format",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "show_legend": {
          "name": "show_legend",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "show_tooltips": {
          "name": "show_tooltips",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "enable_animation": {
          "name": "enable_animation",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "default_color_palette_id": {
          "name": "default_color_palette_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_chart_display_configurations_type_freq": {
          "name": "idx_chart_display_configurations_type_freq",
          "columns": [
            {
              "expression": "chart_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "frequency",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_chart_display_configurations_default": {
          "name": "idx_chart_display_configurations_default",
          "columns": [
            {
              "expression": "is_default",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_chart_display_configurations_active": {
          "name": "idx_chart_display_configurations_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "chart_display_configurations_default_color_palette_id_color_palettes_palette_id_fk": {
          "name": "chart_display_configurations_default_color_palette_id_color_palettes_palette_id_fk",
          "tableFrom": "chart_display_configurations",
          "tableTo": "color_palettes",
          "columnsFrom": [
            "default_color_palette_id"
          ],
          "columnsTo": [
            "palette_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.chart_permissions": {
      "name": "chart_permissions",
      "schema": "",
      "columns": {
        "chart_permission_id": {
          "name": "chart_permission_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "chart_definition_id": {
          "name": "chart_definition_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "permission_type": {
          "name": "permission_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "granted_by_user_id": {
          "name": "granted_by_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "granted_at": {
          "name": "granted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_chart_permissions_chart": {
          "name": "idx_chart_permissions_chart",
          "columns": [
            {
              "expression": "chart_definition_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_chart_permissions_user": {
          "name": "idx_chart_permissions_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_chart_permissions_type": {
          "name": "idx_chart_permissions_type",
          "columns": [
            {
              "expression": "permission_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "chart_permissions_chart_definition_id_chart_definitions_chart_definition_id_fk": {
          "name": "chart_permissions_chart_definition_id_chart_definitions_chart_definition_id_fk",
          "tableFrom": "chart_permissions",
          "tableTo": "chart_definitions",
          "columnsFrom": [
            "chart_definition_id"
          ],
          "columnsTo": [
            "chart_definition_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "chart_permissions_user_id_users_user_id_fk": {
          "name": "chart_permissions_user_id_users_user_id_fk",
          "tableFrom": "chart_permissions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "chart_permissions_granted_by_user_id_users_user_id_fk": {
          "name": "chart_permissions_granted_by_user_id_users_user_id_fk",
          "tableFrom": "chart_permissions",
          "tableTo": "users",
          "columnsFrom": [
            "granted_by_user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.chart_provider_colors": {
      "name": "chart_provider_colors",
      "schema": "",
      "columns": {
        "provider_color_id": {
          "name": "provider_color_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "provider_uid": {
          "name": "provider_uid",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "provider_name": {
          "name": "provider_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "assigned_color": {
          "name": "assigned_color",
          "type": "varchar(7)",
          "primaryKey": false,
          "notNull": true
        },
        "color_palette_id": {
          "name": "color_palette_id",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'tableau20'"
        },
        "is_custom": {
          "name": "is_custom",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_provider_colors_org_provider": {
          "name": "idx_provider_colors_org_provider",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "provider_uid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_provider_colors_uid": {
          "name": "idx_provider_colors_uid",
          "columns": [
            {
              "expression": "provider_uid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_provider_colors_org": {
          "name": "idx_provider_colors_org",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_provider_colors_custom": {
          "name": "idx_provider_colors_custom",
          "columns": [
            {
              "expression": "is_custom",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_org_provider_color": {
          "name": "unique_org_provider_color",
          "nullsNotDistinct": false,
          "columns": [
            "organization_id",
            "provider_uid"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.color_palettes": {
      "name": "color_palettes",
      "schema": "",
      "columns": {
        "palette_id": {
          "name": "palette_id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "color_palettes_palette_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "cache": "1",
            "cycle": false
          }
        },
        "palette_name": {
          "name": "palette_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "palette_description": {
          "name": "palette_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "colors": {
          "name": "colors",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "palette_type": {
          "name": "palette_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'general'"
        },
        "max_colors": {
          "name": "max_colors",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_colorblind_safe": {
          "name": "is_colorblind_safe",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "contrast_ratio": {
          "name": "contrast_ratio",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_system": {
          "name": "is_system",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_color_palettes_default": {
          "name": "idx_color_palettes_default",
          "columns": [
            {
              "expression": "is_default",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_color_palettes_type": {
          "name": "idx_color_palettes_type",
          "columns": [
            {
              "expression": "palette_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_color_palettes_system": {
          "name": "idx_color_palettes_system",
          "columns": [
            {
              "expression": "is_system",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.csrf_failure_events": {
      "name": "csrf_failure_events",
      "schema": "",
      "columns": {
        "event_id": {
          "name": "event_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": true
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "pathname": {
          "name": "pathname",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_csrf_failures_ip_timestamp": {
          "name": "idx_csrf_failures_ip_timestamp",
          "columns": [
            {
              "expression": "ip_address",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_csrf_failures_timestamp": {
          "name": "idx_csrf_failures_timestamp",
          "columns": [
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_csrf_failures_pathname_timestamp": {
          "name": "idx_csrf_failures_pathname_timestamp",
          "columns": [
            {
              "expression": "pathname",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_csrf_failures_severity_timestamp": {
          "name": "idx_csrf_failures_severity_timestamp",
          "columns": [
            {
              "expression": "severity",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_csrf_failures_user_id": {
          "name": "idx_csrf_failures_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_csrf_failures_alert_detection": {
          "name": "idx_csrf_failures_alert_detection",
          "columns": [
            {
              "expression": "ip_address",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "severity",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "csrf_failure_events_user_id_users_user_id_fk": {
          "name": "csrf_failure_events_user_id_users_user_id_fk",
          "tableFrom": "csrf_failure_events",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.dashboard_charts": {
      "name": "dashboard_charts",
      "schema": "",
      "columns": {
        "dashboard_chart_id": {
          "name": "dashboard_chart_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "dashboard_id": {
          "name": "dashboard_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "chart_definition_id": {
          "name": "chart_definition_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "position_config": {
          "name": "position_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "added_at": {
          "name": "added_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_dashboard_charts_dashboard": {
          "name": "idx_dashboard_charts_dashboard",
          "columns": [
            {
              "expression": "dashboard_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_dashboard_charts_chart": {
          "name": "idx_dashboard_charts_chart",
          "columns": [
            {
              "expression": "chart_definition_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "dashboard_charts_dashboard_id_dashboards_dashboard_id_fk": {
          "name": "dashboard_charts_dashboard_id_dashboards_dashboard_id_fk",
          "tableFrom": "dashboard_charts",
          "tableTo": "dashboards",
          "columnsFrom": [
            "dashboard_id"
          ],
          "columnsTo": [
            "dashboard_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "dashboard_charts_chart_definition_id_chart_definitions_chart_definition_id_fk": {
          "name": "dashboard_charts_chart_definition_id_chart_definitions_chart_definition_id_fk",
          "tableFrom": "dashboard_charts",
          "tableTo": "chart_definitions",
          "columnsFrom": [
            "chart_definition_id"
          ],
          "columnsTo": [
            "chart_definition_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.dashboards": {
      "name": "dashboards",
      "schema": "",
      "columns": {
        "dashboard_id": {
          "name": "dashboard_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "dashboard_name": {
          "name": "dashboard_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "dashboard_description": {
          "name": "dashboard_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "layout_config": {
          "name": "layout_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "dashboard_category_id": {
          "name": "dashboard_category_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "is_published": {
          "name": "is_published",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        }
      },
      "indexes": {
        "idx_dashboards_name": {
          "name": "idx_dashboards_name",
          "columns": [
            {
              "expression": "dashboard_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_dashboards_created_by": {
          "name": "idx_dashboards_created_by",
          "columns": [
            {
              "expression": "created_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_dashboards_category": {
          "name": "idx_dashboards_category",
          "columns": [
            {
              "expression": "dashboard_category_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_dashboards_organization_id": {
          "name": "idx_dashboards_organization_id",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_dashboards_published_org": {
          "name": "idx_dashboards_published_org",
          "columns": [
            {
              "expression": "is_published",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_dashboards_active": {
          "name": "idx_dashboards_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_dashboards_published": {
          "name": "idx_dashboards_published",
          "columns": [
            {
              "expression": "is_published",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_dashboards_default": {
          "name": "idx_dashboards_default",
          "columns": [
            {
              "expression": "is_default",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "dashboards_dashboard_category_id_chart_categories_chart_category_id_fk": {
          "name": "dashboards_dashboard_category_id_chart_categories_chart_category_id_fk",
          "tableFrom": "dashboards",
          "tableTo": "chart_categories",
          "columnsFrom": [
            "dashboard_category_id"
          ],
          "columnsTo": [
            "chart_category_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "dashboards_organization_id_organizations_organization_id_fk": {
          "name": "dashboards_organization_id_organizations_organization_id_fk",
          "tableFrom": "dashboards",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "organization_id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "dashboards_created_by_users_user_id_fk": {
          "name": "dashboards_created_by_users_user_id_fk",
          "tableFrom": "dashboards",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.data_sources": {
      "name": "data_sources",
      "schema": "",
      "columns": {
        "data_source_id": {
          "name": "data_source_id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "data_sources_data_source_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "cache": "1",
            "cycle": false
          }
        },
        "data_source_name": {
          "name": "data_source_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "table_name": {
          "name": "table_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "schema_name": {
          "name": "schema_name",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "data_source_description": {
          "name": "data_source_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "available_fields": {
          "name": "available_fields",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "sample_query": {
          "name": "sample_query",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_data_sources_name": {
          "name": "idx_data_sources_name",
          "columns": [
            {
              "expression": "data_source_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_data_sources_table": {
          "name": "idx_data_sources_table",
          "columns": [
            {
              "expression": "table_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_data_sources_active": {
          "name": "idx_data_sources_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.explorer_column_metadata": {
      "name": "explorer_column_metadata",
      "schema": "",
      "columns": {
        "column_metadata_id": {
          "name": "column_metadata_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "table_id": {
          "name": "table_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "column_name": {
          "name": "column_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "data_type": {
          "name": "data_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "semantic_type": {
          "name": "semantic_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_nullable": {
          "name": "is_nullable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "is_primary_key": {
          "name": "is_primary_key",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_foreign_key": {
          "name": "is_foreign_key",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "foreign_key_table": {
          "name": "foreign_key_table",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "foreign_key_column": {
          "name": "foreign_key_column",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_org_filter": {
          "name": "is_org_filter",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_phi": {
          "name": "is_phi",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "common_values": {
          "name": "common_values",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "value_format": {
          "name": "value_format",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "example_values": {
          "name": "example_values",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "min_value": {
          "name": "min_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "max_value": {
          "name": "max_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "distinct_count": {
          "name": "distinct_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "null_percentage": {
          "name": "null_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "statistics_last_analyzed": {
          "name": "statistics_last_analyzed",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "statistics_analysis_status": {
          "name": "statistics_analysis_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "statistics_analysis_error": {
          "name": "statistics_analysis_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "statistics_analysis_duration_ms": {
          "name": "statistics_analysis_duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_explorer_column_metadata_table": {
          "name": "idx_explorer_column_metadata_table",
          "columns": [
            {
              "expression": "table_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_explorer_column_semantic": {
          "name": "idx_explorer_column_semantic",
          "columns": [
            {
              "expression": "semantic_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "explorer_column_metadata_table_id_explorer_table_metadata_table_metadata_id_fk": {
          "name": "explorer_column_metadata_table_id_explorer_table_metadata_table_metadata_id_fk",
          "tableFrom": "explorer_column_metadata",
          "tableTo": "explorer_table_metadata",
          "columnsFrom": [
            "table_id"
          ],
          "columnsTo": [
            "table_metadata_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.explorer_improvement_suggestions": {
      "name": "explorer_improvement_suggestions",
      "schema": "",
      "columns": {
        "suggestion_id": {
          "name": "suggestion_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "feedback_id": {
          "name": "feedback_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "suggestion_type": {
          "name": "suggestion_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_type": {
          "name": "target_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_id": {
          "name": "target_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "suggested_change": {
          "name": "suggested_change",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "applied_at": {
          "name": "applied_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "applied_by": {
          "name": "applied_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_suggestions_feedback": {
          "name": "idx_suggestions_feedback",
          "columns": [
            {
              "expression": "feedback_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_suggestions_status": {
          "name": "idx_suggestions_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_suggestions_type": {
          "name": "idx_suggestions_type",
          "columns": [
            {
              "expression": "suggestion_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "explorer_improvement_suggestions_feedback_id_explorer_query_feedback_feedback_id_fk": {
          "name": "explorer_improvement_suggestions_feedback_id_explorer_query_feedback_feedback_id_fk",
          "tableFrom": "explorer_improvement_suggestions",
          "tableTo": "explorer_query_feedback",
          "columnsFrom": [
            "feedback_id"
          ],
          "columnsTo": [
            "feedback_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.explorer_query_feedback": {
      "name": "explorer_query_feedback",
      "schema": "",
      "columns": {
        "feedback_id": {
          "name": "feedback_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "query_history_id": {
          "name": "query_history_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "feedback_type": {
          "name": "feedback_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "feedback_category": {
          "name": "feedback_category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "original_sql": {
          "name": "original_sql",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "corrected_sql": {
          "name": "corrected_sql",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_explanation": {
          "name": "user_explanation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "detected_issue": {
          "name": "detected_issue",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "affected_tables": {
          "name": "affected_tables",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "affected_columns": {
          "name": "affected_columns",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "resolution_status": {
          "name": "resolution_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "resolution_action": {
          "name": "resolution_action",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_by": {
          "name": "resolved_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "similar_query_count": {
          "name": "similar_query_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "recurrence_score": {
          "name": "recurrence_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_feedback_query_history": {
          "name": "idx_feedback_query_history",
          "columns": [
            {
              "expression": "query_history_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_feedback_status": {
          "name": "idx_feedback_status",
          "columns": [
            {
              "expression": "resolution_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_feedback_type": {
          "name": "idx_feedback_type",
          "columns": [
            {
              "expression": "feedback_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "feedback_category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_feedback_severity": {
          "name": "idx_feedback_severity",
          "columns": [
            {
              "expression": "severity",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "explorer_query_feedback_query_history_id_explorer_query_history_query_history_id_fk": {
          "name": "explorer_query_feedback_query_history_id_explorer_query_history_query_history_id_fk",
          "tableFrom": "explorer_query_feedback",
          "tableTo": "explorer_query_history",
          "columnsFrom": [
            "query_history_id"
          ],
          "columnsTo": [
            "query_history_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.explorer_query_history": {
      "name": "explorer_query_history",
      "schema": "",
      "columns": {
        "query_history_id": {
          "name": "query_history_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "natural_language_query": {
          "name": "natural_language_query",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "generated_sql": {
          "name": "generated_sql",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "executed_sql": {
          "name": "executed_sql",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "final_sql": {
          "name": "final_sql",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "execution_time_ms": {
          "name": "execution_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "row_count": {
          "name": "row_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_details": {
          "name": "error_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_email": {
          "name": "user_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "model_used": {
          "name": "model_used",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'claude-3-5-sonnet'"
        },
        "model_temperature": {
          "name": "model_temperature",
          "type": "numeric(2, 1)",
          "primaryKey": false,
          "notNull": false
        },
        "prompt_tokens": {
          "name": "prompt_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "completion_tokens": {
          "name": "completion_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "total_cost_cents": {
          "name": "total_cost_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "user_rating": {
          "name": "user_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "user_feedback": {
          "name": "user_feedback",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "was_helpful": {
          "name": "was_helpful",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "tables_used": {
          "name": "tables_used",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "execution_plan": {
          "name": "execution_plan",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "result_sample": {
          "name": "result_sample",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "was_sql_edited": {
          "name": "was_sql_edited",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "original_generated_sql": {
          "name": "original_generated_sql",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sql_edit_count": {
          "name": "sql_edit_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        }
      },
      "indexes": {
        "idx_explorer_query_history_user": {
          "name": "idx_explorer_query_history_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_explorer_query_history_status": {
          "name": "idx_explorer_query_history_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_explorer_query_history_tables": {
          "name": "idx_explorer_query_history_tables",
          "columns": [
            {
              "expression": "tables_used",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_explorer_query_history_org": {
          "name": "idx_explorer_query_history_org",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.explorer_query_patterns": {
      "name": "explorer_query_patterns",
      "schema": "",
      "columns": {
        "query_pattern_id": {
          "name": "query_pattern_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "pattern_type": {
          "name": "pattern_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "natural_language_pattern": {
          "name": "natural_language_pattern",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sql_pattern": {
          "name": "sql_pattern",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tables_involved": {
          "name": "tables_involved",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "usage_count": {
          "name": "usage_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "success_rate": {
          "name": "success_rate",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "last_seen": {
          "name": "last_seen",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_explorer_patterns_type": {
          "name": "idx_explorer_patterns_type",
          "columns": [
            {
              "expression": "pattern_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.explorer_saved_queries": {
      "name": "explorer_saved_queries",
      "schema": "",
      "columns": {
        "saved_query_id": {
          "name": "saved_query_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "query_history_id": {
          "name": "query_history_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "natural_language_template": {
          "name": "natural_language_template",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sql_template": {
          "name": "sql_template",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "template_variables": {
          "name": "template_variables",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "is_public": {
          "name": "is_public",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "usage_count": {
          "name": "usage_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_used": {
          "name": "last_used",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_explorer_saved_queries_category": {
          "name": "idx_explorer_saved_queries_category",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_public",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_explorer_saved_queries_created_by": {
          "name": "idx_explorer_saved_queries_created_by",
          "columns": [
            {
              "expression": "created_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "explorer_saved_queries_query_history_id_explorer_query_history_query_history_id_fk": {
          "name": "explorer_saved_queries_query_history_id_explorer_query_history_query_history_id_fk",
          "tableFrom": "explorer_saved_queries",
          "tableTo": "explorer_query_history",
          "columnsFrom": [
            "query_history_id"
          ],
          "columnsTo": [
            "query_history_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.explorer_schema_instructions": {
      "name": "explorer_schema_instructions",
      "schema": "",
      "columns": {
        "instruction_id": {
          "name": "instruction_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "schema_name": {
          "name": "schema_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'ih'"
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "instruction": {
          "name": "instruction",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 2
        },
        "applies_to_tables": {
          "name": "applies_to_tables",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "example_query": {
          "name": "example_query",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "example_sql": {
          "name": "example_sql",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_schema_instructions_schema": {
          "name": "idx_schema_instructions_schema",
          "columns": [
            {
              "expression": "schema_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_schema_instructions_priority": {
          "name": "idx_schema_instructions_priority",
          "columns": [
            {
              "expression": "priority",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.explorer_table_metadata": {
      "name": "explorer_table_metadata",
      "schema": "",
      "columns": {
        "table_metadata_id": {
          "name": "table_metadata_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "schema_name": {
          "name": "schema_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'ih'"
        },
        "table_name": {
          "name": "table_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "row_meaning": {
          "name": "row_meaning",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "primary_entity": {
          "name": "primary_entity",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "common_filters": {
          "name": "common_filters",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "common_joins": {
          "name": "common_joins",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "tier": {
          "name": "tier",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 3
        },
        "sample_questions": {
          "name": "sample_questions",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "is_auto_discovered": {
          "name": "is_auto_discovered",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "row_count_estimate": {
          "name": "row_count_estimate",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "last_analyzed": {
          "name": "last_analyzed",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_explorer_table_metadata_schema_table": {
          "name": "idx_explorer_table_metadata_schema_table",
          "columns": [
            {
              "expression": "schema_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "table_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_explorer_table_metadata_tier": {
          "name": "idx_explorer_table_metadata_tier",
          "columns": [
            {
              "expression": "tier",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.explorer_table_relationships": {
      "name": "explorer_table_relationships",
      "schema": "",
      "columns": {
        "table_relationship_id": {
          "name": "table_relationship_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "from_table_id": {
          "name": "from_table_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "to_table_id": {
          "name": "to_table_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "relationship_type": {
          "name": "relationship_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "join_condition": {
          "name": "join_condition",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_common": {
          "name": "is_common",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "discovered_from": {
          "name": "discovered_from",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "explorer_table_relationships_from_table_id_explorer_table_metadata_table_metadata_id_fk": {
          "name": "explorer_table_relationships_from_table_id_explorer_table_metadata_table_metadata_id_fk",
          "tableFrom": "explorer_table_relationships",
          "tableTo": "explorer_table_metadata",
          "columnsFrom": [
            "from_table_id"
          ],
          "columnsTo": [
            "table_metadata_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "explorer_table_relationships_to_table_id_explorer_table_metadata_table_metadata_id_fk": {
          "name": "explorer_table_relationships_to_table_id_explorer_table_metadata_table_metadata_id_fk",
          "tableFrom": "explorer_table_relationships",
          "tableTo": "explorer_table_metadata",
          "columnsFrom": [
            "to_table_id"
          ],
          "columnsTo": [
            "table_metadata_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.login_attempts": {
      "name": "login_attempts",
      "schema": "",
      "columns": {
        "attempt_id": {
          "name": "attempt_id",
          "type": "varchar(255)",
          "primaryKey": true,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": true
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "device_fingerprint": {
          "name": "device_fingerprint",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "success": {
          "name": "success",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "failure_reason": {
          "name": "failure_reason",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "remember_me_requested": {
          "name": "remember_me_requested",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "attempted_at": {
          "name": "attempted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_login_attempts_email": {
          "name": "idx_login_attempts_email",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_login_attempts_ip": {
          "name": "idx_login_attempts_ip",
          "columns": [
            {
              "expression": "ip_address",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_login_attempts_attempted_at": {
          "name": "idx_login_attempts_attempted_at",
          "columns": [
            {
              "expression": "attempted_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_login_attempts_success": {
          "name": "idx_login_attempts_success",
          "columns": [
            {
              "expression": "success",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_login_attempts_user_id": {
          "name": "idx_login_attempts_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_login_attempts_session_id": {
          "name": "idx_login_attempts_session_id",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "login_attempts_user_id_users_user_id_fk": {
          "name": "login_attempts_user_id_users_user_id_fk",
          "tableFrom": "login_attempts",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.oidc_nonces": {
      "name": "oidc_nonces",
      "schema": "",
      "columns": {
        "nonce": {
          "name": "nonce",
          "type": "varchar(255)",
          "primaryKey": true,
          "notNull": true
        },
        "state": {
          "name": "state",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_oidc_nonces_expires": {
          "name": "idx_oidc_nonces_expires",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_oidc_nonces_state": {
          "name": "idx_oidc_nonces_state",
          "columns": [
            {
              "expression": "state",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "oidc_nonces_state_oidc_states_state_fk": {
          "name": "oidc_nonces_state_oidc_states_state_fk",
          "tableFrom": "oidc_nonces",
          "tableTo": "oidc_states",
          "columnsFrom": [
            "state"
          ],
          "columnsTo": [
            "state"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.oidc_states": {
      "name": "oidc_states",
      "schema": "",
      "columns": {
        "state": {
          "name": "state",
          "type": "varchar(255)",
          "primaryKey": true,
          "notNull": true
        },
        "nonce": {
          "name": "nonce",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "user_fingerprint": {
          "name": "user_fingerprint",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "is_used": {
          "name": "is_used",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "used_at": {
          "name": "used_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_oidc_states_expires": {
          "name": "idx_oidc_states_expires",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_oidc_states_is_used": {
          "name": "idx_oidc_states_is_used",
          "columns": [
            {
              "expression": "is_used",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.organizations": {
      "name": "organizations",
      "schema": "",
      "columns": {
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "parent_organization_id": {
          "name": "parent_organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "practice_uids": {
          "name": "practice_uids",
          "type": "integer[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_organizations_slug": {
          "name": "idx_organizations_slug",
          "columns": [
            {
              "expression": "slug",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_organizations_parent": {
          "name": "idx_organizations_parent",
          "columns": [
            {
              "expression": "parent_organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_organizations_active": {
          "name": "idx_organizations_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_organizations_practice_uids": {
          "name": "idx_organizations_practice_uids",
          "columns": [
            {
              "expression": "practice_uids",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_organizations_created_at": {
          "name": "idx_organizations_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_organizations_deleted_at": {
          "name": "idx_organizations_deleted_at",
          "columns": [
            {
              "expression": "deleted_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "organizations_parent_organization_id_organizations_organization_id_fk": {
          "name": "organizations_parent_organization_id_organizations_organization_id_fk",
          "tableFrom": "organizations",
          "tableTo": "organizations",
          "columnsFrom": [
            "parent_organization_id"
          ],
          "columnsTo": [
            "organization_id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "organizations_slug_unique": {
          "name": "organizations_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.permissions": {
      "name": "permissions",
      "schema": "",
      "columns": {
        "permission_id": {
          "name": "permission_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resource": {
          "name": "resource",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "scope": {
          "name": "scope",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'own'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_permissions_name": {
          "name": "idx_permissions_name",
          "columns": [
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_permissions_resource_action": {
          "name": "idx_permissions_resource_action",
          "columns": [
            {
              "expression": "resource",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "action",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_permissions_resource": {
          "name": "idx_permissions_resource",
          "columns": [
            {
              "expression": "resource",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_permissions_action": {
          "name": "idx_permissions_action",
          "columns": [
            {
              "expression": "action",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_permissions_scope": {
          "name": "idx_permissions_scope",
          "columns": [
            {
              "expression": "scope",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_permissions_active": {
          "name": "idx_permissions_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "permissions_name_unique": {
          "name": "permissions_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.practice_attributes": {
      "name": "practice_attributes",
      "schema": "",
      "columns": {
        "practice_attribute_id": {
          "name": "practice_attribute_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "practice_id": {
          "name": "practice_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "address_line1": {
          "name": "address_line1",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "address_line2": {
          "name": "address_line2",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "state": {
          "name": "state",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "zip_code": {
          "name": "zip_code",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "business_hours": {
          "name": "business_hours",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "services": {
          "name": "services",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "insurance_accepted": {
          "name": "insurance_accepted",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "conditions_treated": {
          "name": "conditions_treated",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "about_text": {
          "name": "about_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "mission_statement": {
          "name": "mission_statement",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "welcome_message": {
          "name": "welcome_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "logo_url": {
          "name": "logo_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "hero_image_url": {
          "name": "hero_image_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "gallery_images": {
          "name": "gallery_images",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "meta_title": {
          "name": "meta_title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "meta_description": {
          "name": "meta_description",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "primary_color": {
          "name": "primary_color",
          "type": "varchar(7)",
          "primaryKey": false,
          "notNull": false
        },
        "secondary_color": {
          "name": "secondary_color",
          "type": "varchar(7)",
          "primaryKey": false,
          "notNull": false
        },
        "accent_color": {
          "name": "accent_color",
          "type": "varchar(7)",
          "primaryKey": false,
          "notNull": false
        },
        "hero_overlay_opacity": {
          "name": "hero_overlay_opacity",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "default": 0.1
        },
        "practice_slug": {
          "name": "practice_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ratings_feed_enabled": {
          "name": "ratings_feed_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_practice_attributes_practice_id": {
          "name": "idx_practice_attributes_practice_id",
          "columns": [
            {
              "expression": "practice_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_practice_attributes_slug": {
          "name": "idx_practice_attributes_slug",
          "columns": [
            {
              "expression": "practice_slug",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "practice_attributes_practice_id_practices_practice_id_fk": {
          "name": "practice_attributes_practice_id_practices_practice_id_fk",
          "tableFrom": "practice_attributes",
          "tableTo": "practices",
          "columnsFrom": [
            "practice_id"
          ],
          "columnsTo": [
            "practice_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.practice_comments": {
      "name": "practice_comments",
      "schema": "",
      "columns": {
        "comment_id": {
          "name": "comment_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "practice_id": {
          "name": "practice_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "commenter_name": {
          "name": "commenter_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "commenter_location": {
          "name": "commenter_location",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "comment": {
          "name": "comment",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "rating": {
          "name": "rating",
          "type": "numeric",
          "primaryKey": false,
          "notNull": true
        },
        "display_order": {
          "name": "display_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_practice_comments_practice_id": {
          "name": "idx_practice_comments_practice_id",
          "columns": [
            {
              "expression": "practice_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_practice_comments_display_order": {
          "name": "idx_practice_comments_display_order",
          "columns": [
            {
              "expression": "practice_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "display_order",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "practice_comments_practice_id_practices_practice_id_fk": {
          "name": "practice_comments_practice_id_practices_practice_id_fk",
          "tableFrom": "practice_comments",
          "tableTo": "practices",
          "columnsFrom": [
            "practice_id"
          ],
          "columnsTo": [
            "practice_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.practice_size_buckets": {
      "name": "practice_size_buckets",
      "schema": "",
      "columns": {
        "bucket_id": {
          "name": "bucket_id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "practice_size_buckets_bucket_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "cache": "1",
            "cycle": false
          }
        },
        "practice_uid": {
          "name": "practice_uid",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "size_bucket": {
          "name": "size_bucket",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "monthly_charges_avg": {
          "name": "monthly_charges_avg",
          "type": "numeric(18, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "percentile": {
          "name": "percentile",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "calculated_at": {
          "name": "calculated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_practice_size_buckets_bucket": {
          "name": "idx_practice_size_buckets_bucket",
          "columns": [
            {
              "expression": "size_bucket",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_practice_size_buckets_org": {
          "name": "idx_practice_size_buckets_org",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "practice_size_buckets_organization_id_organizations_organization_id_fk": {
          "name": "practice_size_buckets_organization_id_organizations_organization_id_fk",
          "tableFrom": "practice_size_buckets",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "organization_id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "practice_size_buckets_practice_uid_unique": {
          "name": "practice_size_buckets_practice_uid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "practice_uid"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.practices": {
      "name": "practices",
      "schema": "",
      "columns": {
        "practice_id": {
          "name": "practice_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "domain": {
          "name": "domain",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "template_id": {
          "name": "template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_practices_domain": {
          "name": "idx_practices_domain",
          "columns": [
            {
              "expression": "domain",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_practices_template_id": {
          "name": "idx_practices_template_id",
          "columns": [
            {
              "expression": "template_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_practices_owner": {
          "name": "idx_practices_owner",
          "columns": [
            {
              "expression": "owner_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_practices_status": {
          "name": "idx_practices_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "practices_template_id_templates_template_id_fk": {
          "name": "practices_template_id_templates_template_id_fk",
          "tableFrom": "practices",
          "tableTo": "templates",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "template_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "practices_owner_user_id_users_user_id_fk": {
          "name": "practices_owner_user_id_users_user_id_fk",
          "tableFrom": "practices",
          "tableTo": "users",
          "columnsFrom": [
            "owner_user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "practices_domain_unique": {
          "name": "practices_domain_unique",
          "nullsNotDistinct": false,
          "columns": [
            "domain"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.refresh_tokens": {
      "name": "refresh_tokens",
      "schema": "",
      "columns": {
        "token_id": {
          "name": "token_id",
          "type": "varchar(255)",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "token_hash": {
          "name": "token_hash",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "device_fingerprint": {
          "name": "device_fingerprint",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": true
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "remember_me": {
          "name": "remember_me",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "issued_at": {
          "name": "issued_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "last_used": {
          "name": "last_used",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "revoked_at": {
          "name": "revoked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "revoked_reason": {
          "name": "revoked_reason",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "rotation_count": {
          "name": "rotation_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_refresh_tokens_user_id": {
          "name": "idx_refresh_tokens_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_refresh_tokens_active": {
          "name": "idx_refresh_tokens_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_refresh_tokens_expires_at": {
          "name": "idx_refresh_tokens_expires_at",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_refresh_tokens_device": {
          "name": "idx_refresh_tokens_device",
          "columns": [
            {
              "expression": "device_fingerprint",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_refresh_tokens_hash": {
          "name": "idx_refresh_tokens_hash",
          "columns": [
            {
              "expression": "token_hash",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "refresh_tokens_user_id_users_user_id_fk": {
          "name": "refresh_tokens_user_id_users_user_id_fk",
          "tableFrom": "refresh_tokens",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.report_card_measures": {
      "name": "report_card_measures",
      "schema": "",
      "columns": {
        "measure_id": {
          "name": "measure_id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "report_card_measures_measure_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "cache": "1",
            "cycle": false
          }
        },
        "measure_name": {
          "name": "measure_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "weight": {
          "name": "weight",
          "type": "numeric(3, 1)",
          "primaryKey": false,
          "notNull": false,
          "default": "'5.0'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "higher_is_better": {
          "name": "higher_is_better",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "format_type": {
          "name": "format_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'number'"
        },
        "data_source_id": {
          "name": "data_source_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "value_column": {
          "name": "value_column",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "default": "'numeric_value'"
        },
        "filter_criteria": {
          "name": "filter_criteria",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_report_card_measures_active": {
          "name": "idx_report_card_measures_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_report_card_measures_name": {
          "name": "idx_report_card_measures_name",
          "columns": [
            {
              "expression": "measure_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_report_card_measures_data_source": {
          "name": "idx_report_card_measures_data_source",
          "columns": [
            {
              "expression": "data_source_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "report_card_measures_data_source_id_chart_data_sources_data_source_id_fk": {
          "name": "report_card_measures_data_source_id_chart_data_sources_data_source_id_fk",
          "tableFrom": "report_card_measures",
          "tableTo": "chart_data_sources",
          "columnsFrom": [
            "data_source_id"
          ],
          "columnsTo": [
            "data_source_id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "report_card_measures_measure_name_unique": {
          "name": "report_card_measures_measure_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "measure_name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.report_card_results": {
      "name": "report_card_results",
      "schema": "",
      "columns": {
        "result_id": {
          "name": "result_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "practice_uid": {
          "name": "practice_uid",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "report_card_month": {
          "name": "report_card_month",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "generated_at": {
          "name": "generated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "overall_score": {
          "name": "overall_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "size_bucket": {
          "name": "size_bucket",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "percentile_rank": {
          "name": "percentile_rank",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "insights": {
          "name": "insights",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "measure_scores": {
          "name": "measure_scores",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_report_card_results_practice": {
          "name": "idx_report_card_results_practice",
          "columns": [
            {
              "expression": "practice_uid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_report_card_results_generated": {
          "name": "idx_report_card_results_generated",
          "columns": [
            {
              "expression": "generated_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_report_card_results_bucket": {
          "name": "idx_report_card_results_bucket",
          "columns": [
            {
              "expression": "size_bucket",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_report_card_results_org": {
          "name": "idx_report_card_results_org",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_report_card_results_month": {
          "name": "idx_report_card_results_month",
          "columns": [
            {
              "expression": "report_card_month",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_report_card_results_practice_month": {
          "name": "idx_report_card_results_practice_month",
          "columns": [
            {
              "expression": "practice_uid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "report_card_month",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "report_card_results_organization_id_organizations_organization_id_fk": {
          "name": "report_card_results_organization_id_organizations_organization_id_fk",
          "tableFrom": "report_card_results",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "organization_id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_report_card_practice_month": {
          "name": "uq_report_card_practice_month",
          "nullsNotDistinct": false,
          "columns": [
            "practice_uid",
            "report_card_month"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.report_card_statistics": {
      "name": "report_card_statistics",
      "schema": "",
      "columns": {
        "statistic_id": {
          "name": "statistic_id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "report_card_statistics_statistic_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "cache": "1",
            "cycle": false
          }
        },
        "practice_uid": {
          "name": "practice_uid",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "measure_name": {
          "name": "measure_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "time_period": {
          "name": "time_period",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'Monthly'"
        },
        "period_date": {
          "name": "period_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "numeric(18, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "collected_at": {
          "name": "collected_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_report_card_statistics_practice": {
          "name": "idx_report_card_statistics_practice",
          "columns": [
            {
              "expression": "practice_uid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_report_card_statistics_measure": {
          "name": "idx_report_card_statistics_measure",
          "columns": [
            {
              "expression": "measure_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_report_card_statistics_period": {
          "name": "idx_report_card_statistics_period",
          "columns": [
            {
              "expression": "period_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_report_card_statistics_org": {
          "name": "idx_report_card_statistics_org",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "report_card_statistics_organization_id_organizations_organization_id_fk": {
          "name": "report_card_statistics_organization_id_organizations_organization_id_fk",
          "tableFrom": "report_card_statistics",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "organization_id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_report_card_statistics": {
          "name": "uq_report_card_statistics",
          "nullsNotDistinct": false,
          "columns": [
            "practice_uid",
            "measure_name",
            "time_period",
            "period_date"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.report_card_trends": {
      "name": "report_card_trends",
      "schema": "",
      "columns": {
        "trend_id": {
          "name": "trend_id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "report_card_trends_trend_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "cache": "1",
            "cycle": false
          }
        },
        "practice_uid": {
          "name": "practice_uid",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "measure_name": {
          "name": "measure_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "trend_period": {
          "name": "trend_period",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "trend_direction": {
          "name": "trend_direction",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "trend_percentage": {
          "name": "trend_percentage",
          "type": "numeric(8, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "calculated_at": {
          "name": "calculated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_report_card_trends_practice": {
          "name": "idx_report_card_trends_practice",
          "columns": [
            {
              "expression": "practice_uid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_report_card_trends_period": {
          "name": "idx_report_card_trends_period",
          "columns": [
            {
              "expression": "trend_period",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_report_card_trends_measure": {
          "name": "idx_report_card_trends_measure",
          "columns": [
            {
              "expression": "measure_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_report_card_trends_org": {
          "name": "idx_report_card_trends_org",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "report_card_trends_organization_id_organizations_organization_id_fk": {
          "name": "report_card_trends_organization_id_organizations_organization_id_fk",
          "tableFrom": "report_card_trends",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "organization_id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_report_card_trends": {
          "name": "uq_report_card_trends",
          "nullsNotDistinct": false,
          "columns": [
            "practice_uid",
            "measure_name",
            "trend_period"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.role_permissions": {
      "name": "role_permissions",
      "schema": "",
      "columns": {
        "role_permission_id": {
          "name": "role_permission_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "role_id": {
          "name": "role_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "permission_id": {
          "name": "permission_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_role_permissions_role": {
          "name": "idx_role_permissions_role",
          "columns": [
            {
              "expression": "role_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_role_permissions_permission": {
          "name": "idx_role_permissions_permission",
          "columns": [
            {
              "expression": "permission_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_unique_role_permission": {
          "name": "idx_unique_role_permission",
          "columns": [
            {
              "expression": "role_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "permission_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "role_permissions_role_id_roles_role_id_fk": {
          "name": "role_permissions_role_id_roles_role_id_fk",
          "tableFrom": "role_permissions",
          "tableTo": "roles",
          "columnsFrom": [
            "role_id"
          ],
          "columnsTo": [
            "role_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "role_permissions_permission_id_permissions_permission_id_fk": {
          "name": "role_permissions_permission_id_permissions_permission_id_fk",
          "tableFrom": "role_permissions",
          "tableTo": "permissions",
          "columnsFrom": [
            "permission_id"
          ],
          "columnsTo": [
            "permission_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.roles": {
      "name": "roles",
      "schema": "",
      "columns": {
        "role_id": {
          "name": "role_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_system_role": {
          "name": "is_system_role",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_roles_name": {
          "name": "idx_roles_name",
          "columns": [
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_roles_organization": {
          "name": "idx_roles_organization",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_roles_system": {
          "name": "idx_roles_system",
          "columns": [
            {
              "expression": "is_system_role",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_roles_active": {
          "name": "idx_roles_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_roles_created_at": {
          "name": "idx_roles_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_roles_deleted_at": {
          "name": "idx_roles_deleted_at",
          "columns": [
            {
              "expression": "deleted_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_unique_role_per_org": {
          "name": "idx_unique_role_per_org",
          "columns": [
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "roles_organization_id_organizations_organization_id_fk": {
          "name": "roles_organization_id_organizations_organization_id_fk",
          "tableFrom": "roles",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "organization_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.saml_replay_prevention": {
      "name": "saml_replay_prevention",
      "schema": "",
      "columns": {
        "replay_id": {
          "name": "replay_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "in_response_to": {
          "name": "in_response_to",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_email": {
          "name": "user_email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "used_at": {
          "name": "used_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_saml_replay_expires_at": {
          "name": "idx_saml_replay_expires_at",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_saml_replay_in_response_to": {
          "name": "idx_saml_replay_in_response_to",
          "columns": [
            {
              "expression": "in_response_to",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_saml_replay_user_email": {
          "name": "idx_saml_replay_user_email",
          "columns": [
            {
              "expression": "user_email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.staff_members": {
      "name": "staff_members",
      "schema": "",
      "columns": {
        "staff_id": {
          "name": "staff_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "practice_id": {
          "name": "practice_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "credentials": {
          "name": "credentials",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "bio": {
          "name": "bio",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "photo_url": {
          "name": "photo_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "specialties": {
          "name": "specialties",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "education": {
          "name": "education",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "display_order": {
          "name": "display_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_staff_members_practice_id": {
          "name": "idx_staff_members_practice_id",
          "columns": [
            {
              "expression": "practice_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_staff_members_display_order": {
          "name": "idx_staff_members_display_order",
          "columns": [
            {
              "expression": "practice_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "display_order",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_staff_members_active": {
          "name": "idx_staff_members_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "staff_members_practice_id_practices_practice_id_fk": {
          "name": "staff_members_practice_id_practices_practice_id_fk",
          "tableFrom": "staff_members",
          "tableTo": "practices",
          "columnsFrom": [
            "practice_id"
          ],
          "columnsTo": [
            "practice_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.templates": {
      "name": "templates",
      "schema": "",
      "columns": {
        "template_id": {
          "name": "template_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "preview_image_url": {
          "name": "preview_image_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_templates_slug": {
          "name": "idx_templates_slug",
          "columns": [
            {
              "expression": "slug",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_templates_active": {
          "name": "idx_templates_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "templates_slug_unique": {
          "name": "templates_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.token_blacklist": {
      "name": "token_blacklist",
      "schema": "",
      "columns": {
        "jti": {
          "name": "jti",
          "type": "varchar(255)",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "token_type": {
          "name": "token_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "blacklisted_at": {
          "name": "blacklisted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "blacklisted_by": {
          "name": "blacklisted_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_token_blacklist_user_id": {
          "name": "idx_token_blacklist_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_token_blacklist_expires_at": {
          "name": "idx_token_blacklist_expires_at",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_token_blacklist_type": {
          "name": "idx_token_blacklist_type",
          "columns": [
            {
              "expression": "token_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_token_blacklist_blacklisted_at": {
          "name": "idx_token_blacklist_blacklisted_at",
          "columns": [
            {
              "expression": "blacklisted_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "token_blacklist_user_id_users_user_id_fk": {
          "name": "token_blacklist_user_id_users_user_id_fk",
          "tableFrom": "token_blacklist",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_chart_favorites": {
      "name": "user_chart_favorites",
      "schema": "",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "chart_definition_id": {
          "name": "chart_definition_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "favorited_at": {
          "name": "favorited_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "pk_user_chart_favorites": {
          "name": "pk_user_chart_favorites",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "chart_definition_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_chart_favorites_user": {
          "name": "idx_user_chart_favorites_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_chart_favorites_chart": {
          "name": "idx_user_chart_favorites_chart",
          "columns": [
            {
              "expression": "chart_definition_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_chart_favorites_user_id_users_user_id_fk": {
          "name": "user_chart_favorites_user_id_users_user_id_fk",
          "tableFrom": "user_chart_favorites",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_chart_favorites_chart_definition_id_chart_definitions_chart_definition_id_fk": {
          "name": "user_chart_favorites_chart_definition_id_chart_definitions_chart_definition_id_fk",
          "tableFrom": "user_chart_favorites",
          "tableTo": "chart_definitions",
          "columnsFrom": [
            "chart_definition_id"
          ],
          "columnsTo": [
            "chart_definition_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_organizations": {
      "name": "user_organizations",
      "schema": "",
      "columns": {
        "user_organization_id": {
          "name": "user_organization_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "joined_at": {
          "name": "joined_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_user_organizations_user": {
          "name": "idx_user_organizations_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_organizations_org": {
          "name": "idx_user_organizations_org",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_organizations_active": {
          "name": "idx_user_organizations_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_organizations_joined_at": {
          "name": "idx_user_organizations_joined_at",
          "columns": [
            {
              "expression": "joined_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_unique_user_organization": {
          "name": "idx_unique_user_organization",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_organizations_user_id_users_user_id_fk": {
          "name": "user_organizations_user_id_users_user_id_fk",
          "tableFrom": "user_organizations",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_organizations_organization_id_organizations_organization_id_fk": {
          "name": "user_organizations_organization_id_organizations_organization_id_fk",
          "tableFrom": "user_organizations",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "organization_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_roles": {
      "name": "user_roles",
      "schema": "",
      "columns": {
        "user_role_id": {
          "name": "user_role_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role_id": {
          "name": "role_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "granted_by": {
          "name": "granted_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "granted_at": {
          "name": "granted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_user_roles_user": {
          "name": "idx_user_roles_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_roles_role": {
          "name": "idx_user_roles_role",
          "columns": [
            {
              "expression": "role_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_roles_organization": {
          "name": "idx_user_roles_organization",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_roles_granted_by": {
          "name": "idx_user_roles_granted_by",
          "columns": [
            {
              "expression": "granted_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_roles_active": {
          "name": "idx_user_roles_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_roles_expires_at": {
          "name": "idx_user_roles_expires_at",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_unique_user_role_org": {
          "name": "idx_unique_user_role_org",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "role_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_roles_user_id_users_user_id_fk": {
          "name": "user_roles_user_id_users_user_id_fk",
          "tableFrom": "user_roles",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_roles_role_id_roles_role_id_fk": {
          "name": "user_roles_role_id_roles_role_id_fk",
          "tableFrom": "user_roles",
          "tableTo": "roles",
          "columnsFrom": [
            "role_id"
          ],
          "columnsTo": [
            "role_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_roles_organization_id_organizations_organization_id_fk": {
          "name": "user_roles_organization_id_organizations_organization_id_fk",
          "tableFrom": "user_roles",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "organization_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_roles_granted_by_users_user_id_fk": {
          "name": "user_roles_granted_by_users_user_id_fk",
          "tableFrom": "user_roles",
          "tableTo": "users",
          "columnsFrom": [
            "granted_by"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_sessions": {
      "name": "user_sessions",
      "schema": "",
      "columns": {
        "session_id": {
          "name": "session_id",
          "type": "varchar(255)",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "refresh_token_id": {
          "name": "refresh_token_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "device_fingerprint": {
          "name": "device_fingerprint",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "device_name": {
          "name": "device_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": true
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "remember_me": {
          "name": "remember_me",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "last_activity": {
          "name": "last_activity",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "ended_at": {
          "name": "ended_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "end_reason": {
          "name": "end_reason",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_user_sessions_user_id": {
          "name": "idx_user_sessions_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_sessions_refresh_token": {
          "name": "idx_user_sessions_refresh_token",
          "columns": [
            {
              "expression": "refresh_token_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_sessions_active": {
          "name": "idx_user_sessions_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_sessions_device": {
          "name": "idx_user_sessions_device",
          "columns": [
            {
              "expression": "device_fingerprint",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_sessions_last_activity": {
          "name": "idx_user_sessions_last_activity",
          "columns": [
            {
              "expression": "last_activity",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_sessions_user_id_users_user_id_fk": {
          "name": "user_sessions_user_id_users_user_id_fk",
          "tableFrom": "user_sessions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "first_name": {
          "name": "first_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "last_name": {
          "name": "last_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "password_hash": {
          "name": "password_hash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "email_verified": {
          "name": "email_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "provider_uid": {
          "name": "provider_uid",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_users_email": {
          "name": "idx_users_email",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_users_created_at": {
          "name": "idx_users_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_users_deleted_at": {
          "name": "idx_users_deleted_at",
          "columns": [
            {
              "expression": "deleted_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_users_provider_uid": {
          "name": "idx_users_provider_uid",
          "columns": [
            {
              "expression": "provider_uid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "provider_uid IS NOT NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.webauthn_challenges": {
      "name": "webauthn_challenges",
      "schema": "",
      "columns": {
        "challenge_id": {
          "name": "challenge_id",
          "type": "varchar(255)",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "challenge": {
          "name": "challenge",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "challenge_type": {
          "name": "challenge_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": true
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "used_at": {
          "name": "used_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_webauthn_challenges_user_id": {
          "name": "idx_webauthn_challenges_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_webauthn_challenges_expires_at": {
          "name": "idx_webauthn_challenges_expires_at",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_webauthn_challenges_challenge_type": {
          "name": "idx_webauthn_challenges_challenge_type",
          "columns": [
            {
              "expression": "challenge_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_webauthn_challenges_expires_used": {
          "name": "idx_webauthn_challenges_expires_used",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "used_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.webauthn_credentials": {
      "name": "webauthn_credentials",
      "schema": "",
      "columns": {
        "credential_id": {
          "name": "credential_id",
          "type": "varchar(255)",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "public_key": {
          "name": "public_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "counter": {
          "name": "counter",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "credential_device_type": {
          "name": "credential_device_type",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true
        },
        "transports": {
          "name": "transports",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "aaguid": {
          "name": "aaguid",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "credential_name": {
          "name": "credential_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_used": {
          "name": "last_used",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "backed_up": {
          "name": "backed_up",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "registration_ip": {
          "name": "registration_ip",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": true
        },
        "registration_user_agent": {
          "name": "registration_user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_webauthn_credentials_user_id": {
          "name": "idx_webauthn_credentials_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_webauthn_credentials_active": {
          "name": "idx_webauthn_credentials_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_webauthn_credentials_last_used": {
          "name": "idx_webauthn_credentials_last_used",
          "columns": [
            {
              "expression": "last_used",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_webauthn_credentials_user_active": {
          "name": "idx_webauthn_credentials_user_active",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "webauthn_credentials_user_id_users_user_id_fk": {
          "name": "webauthn_credentials_user_id_users_user_id_fk",
          "tableFrom": "webauthn_credentials",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.work_item_activity": {
      "name": "work_item_activity",
      "schema": "",
      "columns": {
        "work_item_activity_id": {
          "name": "work_item_activity_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "work_item_id": {
          "name": "work_item_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "activity_type": {
          "name": "activity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "field_name": {
          "name": "field_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "old_value": {
          "name": "old_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "new_value": {
          "name": "new_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_activity_work_item": {
          "name": "idx_activity_work_item",
          "columns": [
            {
              "expression": "work_item_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_activity_type": {
          "name": "idx_activity_type",
          "columns": [
            {
              "expression": "activity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_activity_created_by": {
          "name": "idx_activity_created_by",
          "columns": [
            {
              "expression": "created_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_activity_created_at": {
          "name": "idx_activity_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "work_item_activity_work_item_id_work_items_work_item_id_fk": {
          "name": "work_item_activity_work_item_id_work_items_work_item_id_fk",
          "tableFrom": "work_item_activity",
          "tableTo": "work_items",
          "columnsFrom": [
            "work_item_id"
          ],
          "columnsTo": [
            "work_item_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "work_item_activity_created_by_users_user_id_fk": {
          "name": "work_item_activity_created_by_users_user_id_fk",
          "tableFrom": "work_item_activity",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.work_item_attachments": {
      "name": "work_item_attachments",
      "schema": "",
      "columns": {
        "work_item_attachment_id": {
          "name": "work_item_attachment_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "work_item_id": {
          "name": "work_item_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "work_item_field_id": {
          "name": "work_item_field_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "file_name": {
          "name": "file_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_size": {
          "name": "file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "file_type": {
          "name": "file_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "s3_key": {
          "name": "s3_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "s3_bucket": {
          "name": "s3_bucket",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "uploaded_by": {
          "name": "uploaded_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "uploaded_at": {
          "name": "uploaded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_attachments_work_item": {
          "name": "idx_attachments_work_item",
          "columns": [
            {
              "expression": "work_item_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_attachments_uploaded_by": {
          "name": "idx_attachments_uploaded_by",
          "columns": [
            {
              "expression": "uploaded_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_attachments_uploaded_at": {
          "name": "idx_attachments_uploaded_at",
          "columns": [
            {
              "expression": "uploaded_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_attachments_deleted_at": {
          "name": "idx_attachments_deleted_at",
          "columns": [
            {
              "expression": "deleted_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_attachments_field": {
          "name": "idx_attachments_field",
          "columns": [
            {
              "expression": "work_item_field_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_attachments_work_item_field": {
          "name": "idx_attachments_work_item_field",
          "columns": [
            {
              "expression": "work_item_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "work_item_field_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "work_item_attachments_work_item_id_work_items_work_item_id_fk": {
          "name": "work_item_attachments_work_item_id_work_items_work_item_id_fk",
          "tableFrom": "work_item_attachments",
          "tableTo": "work_items",
          "columnsFrom": [
            "work_item_id"
          ],
          "columnsTo": [
            "work_item_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "work_item_attachments_work_item_field_id_work_item_fields_work_item_field_id_fk": {
          "name": "work_item_attachments_work_item_field_id_work_item_fields_work_item_field_id_fk",
          "tableFrom": "work_item_attachments",
          "tableTo": "work_item_fields",
          "columnsFrom": [
            "work_item_field_id"
          ],
          "columnsTo": [
            "work_item_field_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "work_item_attachments_uploaded_by_users_user_id_fk": {
          "name": "work_item_attachments_uploaded_by_users_user_id_fk",
          "tableFrom": "work_item_attachments",
          "tableTo": "users",
          "columnsFrom": [
            "uploaded_by"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.work_item_comments": {
      "name": "work_item_comments",
      "schema": "",
      "columns": {
        "work_item_comment_id": {
          "name": "work_item_comment_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "work_item_id": {
          "name": "work_item_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "parent_comment_id": {
          "name": "parent_comment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "comment_text": {
          "name": "comment_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_comments_work_item": {
          "name": "idx_comments_work_item",
          "columns": [
            {
              "expression": "work_item_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_comments_parent": {
          "name": "idx_comments_parent",
          "columns": [
            {
              "expression": "parent_comment_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_comments_created_by": {
          "name": "idx_comments_created_by",
          "columns": [
            {
              "expression": "created_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_comments_created_at": {
          "name": "idx_comments_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_comments_deleted_at": {
          "name": "idx_comments_deleted_at",
          "columns": [
            {
              "expression": "deleted_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "work_item_comments_work_item_id_work_items_work_item_id_fk": {
          "name": "work_item_comments_work_item_id_work_items_work_item_id_fk",
          "tableFrom": "work_item_comments",
          "tableTo": "work_items",
          "columnsFrom": [
            "work_item_id"
          ],
          "columnsTo": [
            "work_item_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "work_item_comments_parent_comment_id_work_item_comments_work_item_comment_id_fk": {
          "name": "work_item_comments_parent_comment_id_work_item_comments_work_item_comment_id_fk",
          "tableFrom": "work_item_comments",
          "tableTo": "work_item_comments",
          "columnsFrom": [
            "parent_comment_id"
          ],
          "columnsTo": [
            "work_item_comment_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "work_item_comments_created_by_users_user_id_fk": {
          "name": "work_item_comments_created_by_users_user_id_fk",
          "tableFrom": "work_item_comments",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.work_item_field_values": {
      "name": "work_item_field_values",
      "schema": "",
      "columns": {
        "work_item_field_value_id": {
          "name": "work_item_field_value_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "work_item_id": {
          "name": "work_item_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "work_item_field_id": {
          "name": "work_item_field_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "field_value": {
          "name": "field_value",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_work_item_field_values_work_item": {
          "name": "idx_work_item_field_values_work_item",
          "columns": [
            {
              "expression": "work_item_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_work_item_field_values_field": {
          "name": "idx_work_item_field_values_field",
          "columns": [
            {
              "expression": "work_item_field_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "work_item_field_values_work_item_id_work_items_work_item_id_fk": {
          "name": "work_item_field_values_work_item_id_work_items_work_item_id_fk",
          "tableFrom": "work_item_field_values",
          "tableTo": "work_items",
          "columnsFrom": [
            "work_item_id"
          ],
          "columnsTo": [
            "work_item_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "work_item_field_values_work_item_field_id_work_item_fields_work_item_field_id_fk": {
          "name": "work_item_field_values_work_item_field_id_work_item_fields_work_item_field_id_fk",
          "tableFrom": "work_item_field_values",
          "tableTo": "work_item_fields",
          "columnsFrom": [
            "work_item_field_id"
          ],
          "columnsTo": [
            "work_item_field_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_work_item_field_values_work_item_field": {
          "name": "uq_work_item_field_values_work_item_field",
          "nullsNotDistinct": false,
          "columns": [
            "work_item_id",
            "work_item_field_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.work_item_fields": {
      "name": "work_item_fields",
      "schema": "",
      "columns": {
        "work_item_field_id": {
          "name": "work_item_field_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "work_item_type_id": {
          "name": "work_item_type_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "field_name": {
          "name": "field_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "field_label": {
          "name": "field_label",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "field_type": {
          "name": "field_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "field_description": {
          "name": "field_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "field_options": {
          "name": "field_options",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "field_config": {
          "name": "field_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_required_on_creation": {
          "name": "is_required_on_creation",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_required_to_complete": {
          "name": "is_required_to_complete",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "validation_rules": {
          "name": "validation_rules",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "default_value": {
          "name": "default_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "display_order": {
          "name": "display_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "is_visible": {
          "name": "is_visible",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_work_item_fields_type": {
          "name": "idx_work_item_fields_type",
          "columns": [
            {
              "expression": "work_item_type_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_work_item_fields_created_by": {
          "name": "idx_work_item_fields_created_by",
          "columns": [
            {
              "expression": "created_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_work_item_fields_deleted_at": {
          "name": "idx_work_item_fields_deleted_at",
          "columns": [
            {
              "expression": "deleted_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_work_item_fields_display_order": {
          "name": "idx_work_item_fields_display_order",
          "columns": [
            {
              "expression": "display_order",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_work_item_fields_type_visible": {
          "name": "idx_work_item_fields_type_visible",
          "columns": [
            {
              "expression": "work_item_type_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_visible",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_work_item_fields_type_order": {
          "name": "idx_work_item_fields_type_order",
          "columns": [
            {
              "expression": "work_item_type_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "display_order",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "work_item_fields_work_item_type_id_work_item_types_work_item_type_id_fk": {
          "name": "work_item_fields_work_item_type_id_work_item_types_work_item_type_id_fk",
          "tableFrom": "work_item_fields",
          "tableTo": "work_item_types",
          "columnsFrom": [
            "work_item_type_id"
          ],
          "columnsTo": [
            "work_item_type_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "work_item_fields_created_by_users_user_id_fk": {
          "name": "work_item_fields_created_by_users_user_id_fk",
          "tableFrom": "work_item_fields",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.work_item_status_transitions": {
      "name": "work_item_status_transitions",
      "schema": "",
      "columns": {
        "work_item_status_transition_id": {
          "name": "work_item_status_transition_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "work_item_type_id": {
          "name": "work_item_type_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "from_status_id": {
          "name": "from_status_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "to_status_id": {
          "name": "to_status_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "is_allowed": {
          "name": "is_allowed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "validation_config": {
          "name": "validation_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "action_config": {
          "name": "action_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_transitions_type": {
          "name": "idx_transitions_type",
          "columns": [
            {
              "expression": "work_item_type_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_transitions_from": {
          "name": "idx_transitions_from",
          "columns": [
            {
              "expression": "from_status_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_transitions_to": {
          "name": "idx_transitions_to",
          "columns": [
            {
              "expression": "to_status_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "work_item_status_transitions_work_item_type_id_work_item_types_work_item_type_id_fk": {
          "name": "work_item_status_transitions_work_item_type_id_work_item_types_work_item_type_id_fk",
          "tableFrom": "work_item_status_transitions",
          "tableTo": "work_item_types",
          "columnsFrom": [
            "work_item_type_id"
          ],
          "columnsTo": [
            "work_item_type_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "work_item_status_transitions_from_status_id_work_item_statuses_work_item_status_id_fk": {
          "name": "work_item_status_transitions_from_status_id_work_item_statuses_work_item_status_id_fk",
          "tableFrom": "work_item_status_transitions",
          "tableTo": "work_item_statuses",
          "columnsFrom": [
            "from_status_id"
          ],
          "columnsTo": [
            "work_item_status_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "work_item_status_transitions_to_status_id_work_item_statuses_work_item_status_id_fk": {
          "name": "work_item_status_transitions_to_status_id_work_item_statuses_work_item_status_id_fk",
          "tableFrom": "work_item_status_transitions",
          "tableTo": "work_item_statuses",
          "columnsFrom": [
            "to_status_id"
          ],
          "columnsTo": [
            "work_item_status_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_transition_type_from_to": {
          "name": "uq_transition_type_from_to",
          "nullsNotDistinct": false,
          "columns": [
            "work_item_type_id",
            "from_status_id",
            "to_status_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.work_item_statuses": {
      "name": "work_item_statuses",
      "schema": "",
      "columns": {
        "work_item_status_id": {
          "name": "work_item_status_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "work_item_type_id": {
          "name": "work_item_type_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status_name": {
          "name": "status_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status_category": {
          "name": "status_category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_initial": {
          "name": "is_initial",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_final": {
          "name": "is_final",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "color": {
          "name": "color",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "display_order": {
          "name": "display_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_statuses_type": {
          "name": "idx_statuses_type",
          "columns": [
            {
              "expression": "work_item_type_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_statuses_category": {
          "name": "idx_statuses_category",
          "columns": [
            {
              "expression": "status_category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "work_item_statuses_work_item_type_id_work_item_types_work_item_type_id_fk": {
          "name": "work_item_statuses_work_item_type_id_work_item_types_work_item_type_id_fk",
          "tableFrom": "work_item_statuses",
          "tableTo": "work_item_types",
          "columnsFrom": [
            "work_item_type_id"
          ],
          "columnsTo": [
            "work_item_type_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.work_item_type_relationships": {
      "name": "work_item_type_relationships",
      "schema": "",
      "columns": {
        "work_item_type_relationship_id": {
          "name": "work_item_type_relationship_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "parent_type_id": {
          "name": "parent_type_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "child_type_id": {
          "name": "child_type_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "relationship_name": {
          "name": "relationship_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_required": {
          "name": "is_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "min_count": {
          "name": "min_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_count": {
          "name": "max_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "auto_create": {
          "name": "auto_create",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "auto_create_config": {
          "name": "auto_create_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "display_order": {
          "name": "display_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_type_relationships_parent": {
          "name": "idx_type_relationships_parent",
          "columns": [
            {
              "expression": "parent_type_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_type_relationships_child": {
          "name": "idx_type_relationships_child",
          "columns": [
            {
              "expression": "child_type_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_type_relationships_deleted_at": {
          "name": "idx_type_relationships_deleted_at",
          "columns": [
            {
              "expression": "deleted_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_unique_type_relationship": {
          "name": "idx_unique_type_relationship",
          "columns": [
            {
              "expression": "parent_type_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "child_type_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "deleted_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "work_item_type_relationships_parent_type_id_work_item_types_work_item_type_id_fk": {
          "name": "work_item_type_relationships_parent_type_id_work_item_types_work_item_type_id_fk",
          "tableFrom": "work_item_type_relationships",
          "tableTo": "work_item_types",
          "columnsFrom": [
            "parent_type_id"
          ],
          "columnsTo": [
            "work_item_type_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "work_item_type_relationships_child_type_id_work_item_types_work_item_type_id_fk": {
          "name": "work_item_type_relationships_child_type_id_work_item_types_work_item_type_id_fk",
          "tableFrom": "work_item_type_relationships",
          "tableTo": "work_item_types",
          "columnsFrom": [
            "child_type_id"
          ],
          "columnsTo": [
            "work_item_type_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.work_item_types": {
      "name": "work_item_types",
      "schema": "",
      "columns": {
        "work_item_type_id": {
          "name": "work_item_type_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "icon": {
          "name": "icon",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "color": {
          "name": "color",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_work_item_types_org": {
          "name": "idx_work_item_types_org",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_work_item_types_active": {
          "name": "idx_work_item_types_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_work_item_types_deleted_at": {
          "name": "idx_work_item_types_deleted_at",
          "columns": [
            {
              "expression": "deleted_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "work_item_types_organization_id_organizations_organization_id_fk": {
          "name": "work_item_types_organization_id_organizations_organization_id_fk",
          "tableFrom": "work_item_types",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "organization_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "work_item_types_created_by_users_user_id_fk": {
          "name": "work_item_types_created_by_users_user_id_fk",
          "tableFrom": "work_item_types",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.work_item_watchers": {
      "name": "work_item_watchers",
      "schema": "",
      "columns": {
        "work_item_watcher_id": {
          "name": "work_item_watcher_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "work_item_id": {
          "name": "work_item_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "watch_type": {
          "name": "watch_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'manual'"
        },
        "notify_status_changes": {
          "name": "notify_status_changes",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "notify_comments": {
          "name": "notify_comments",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "notify_assignments": {
          "name": "notify_assignments",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "notify_due_date": {
          "name": "notify_due_date",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_watchers_work_item": {
          "name": "idx_watchers_work_item",
          "columns": [
            {
              "expression": "work_item_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_watchers_user": {
          "name": "idx_watchers_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_watchers_type": {
          "name": "idx_watchers_type",
          "columns": [
            {
              "expression": "watch_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "work_item_watchers_work_item_id_work_items_work_item_id_fk": {
          "name": "work_item_watchers_work_item_id_work_items_work_item_id_fk",
          "tableFrom": "work_item_watchers",
          "tableTo": "work_items",
          "columnsFrom": [
            "work_item_id"
          ],
          "columnsTo": [
            "work_item_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "work_item_watchers_user_id_users_user_id_fk": {
          "name": "work_item_watchers_user_id_users_user_id_fk",
          "tableFrom": "work_item_watchers",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_watchers_work_item_user": {
          "name": "uq_watchers_work_item_user",
          "nullsNotDistinct": false,
          "columns": [
            "work_item_id",
            "user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.work_items": {
      "name": "work_items",
      "schema": "",
      "columns": {
        "work_item_id": {
          "name": "work_item_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "work_item_type_id": {
          "name": "work_item_type_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "subject": {
          "name": "subject",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status_id": {
          "name": "status_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'medium'"
        },
        "assigned_to": {
          "name": "assigned_to",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "due_date": {
          "name": "due_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "parent_work_item_id": {
          "name": "parent_work_item_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "root_work_item_id": {
          "name": "root_work_item_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "depth": {
          "name": "depth",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "path": {
          "name": "path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_work_items_type": {
          "name": "idx_work_items_type",
          "columns": [
            {
              "expression": "work_item_type_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_work_items_org": {
          "name": "idx_work_items_org",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_work_items_status": {
          "name": "idx_work_items_status",
          "columns": [
            {
              "expression": "status_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_work_items_org_status": {
          "name": "idx_work_items_org_status",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_work_items_assigned": {
          "name": "idx_work_items_assigned",
          "columns": [
            {
              "expression": "assigned_to",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_work_items_priority": {
          "name": "idx_work_items_priority",
          "columns": [
            {
              "expression": "priority",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_work_items_due_date": {
          "name": "idx_work_items_due_date",
          "columns": [
            {
              "expression": "due_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_work_items_created_at": {
          "name": "idx_work_items_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_work_items_created_by": {
          "name": "idx_work_items_created_by",
          "columns": [
            {
              "expression": "created_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_work_items_deleted_at": {
          "name": "idx_work_items_deleted_at",
          "columns": [
            {
              "expression": "deleted_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_work_items_parent": {
          "name": "idx_work_items_parent",
          "columns": [
            {
              "expression": "parent_work_item_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_work_items_root": {
          "name": "idx_work_items_root",
          "columns": [
            {
              "expression": "root_work_item_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_work_items_depth": {
          "name": "idx_work_items_depth",
          "columns": [
            {
              "expression": "depth",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_work_items_path": {
          "name": "idx_work_items_path",
          "columns": [
            {
              "expression": "path",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "work_items_work_item_type_id_work_item_types_work_item_type_id_fk": {
          "name": "work_items_work_item_type_id_work_item_types_work_item_type_id_fk",
          "tableFrom": "work_items",
          "tableTo": "work_item_types",
          "columnsFrom": [
            "work_item_type_id"
          ],
          "columnsTo": [
            "work_item_type_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_items_organization_id_organizations_organization_id_fk": {
          "name": "work_items_organization_id_organizations_organization_id_fk",
          "tableFrom": "work_items",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "organization_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "work_items_status_id_work_item_statuses_work_item_status_id_fk": {
          "name": "work_items_status_id_work_item_statuses_work_item_status_id_fk",
          "tableFrom": "work_items",
          "tableTo": "work_item_statuses",
          "columnsFrom": [
            "status_id"
          ],
          "columnsTo": [
            "work_item_status_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_items_assigned_to_users_user_id_fk": {
          "name": "work_items_assigned_to_users_user_id_fk",
          "tableFrom": "work_items",
          "tableTo": "users",
          "columnsFrom": [
            "assigned_to"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_items_parent_work_item_id_work_items_work_item_id_fk": {
          "name": "work_items_parent_work_item_id_work_items_work_item_id_fk",
          "tableFrom": "work_items",
          "tableTo": "work_items",
          "columnsFrom": [
            "parent_work_item_id"
          ],
          "columnsTo": [
            "work_item_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "work_items_root_work_item_id_work_items_work_item_id_fk": {
          "name": "work_items_root_work_item_id_work_items_work_item_id_fk",
          "tableFrom": "work_items",
          "tableTo": "work_items",
          "columnsFrom": [
            "root_work_item_id"
          ],
          "columnsTo": [
            "work_item_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "work_items_created_by_users_user_id_fk": {
          "name": "work_items_created_by_users_user_id_fk",
          "tableFrom": "work_items",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}