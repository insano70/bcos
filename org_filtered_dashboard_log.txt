 âœ“ Starting...
 âœ“ Ready in 1548ms
 âœ“ Compiled /middleware in 349ms (407 modules)
ðŸŒ MIDDLEWARE: Processing request for: /dashboard/view/a0324818-ae41-4bf5-8291-447f30322faa
ðŸŒ MIDDLEWARE: Protected route detected
ðŸŒ MIDDLEWARE: Checking auth - access token: true, refresh token: true
ðŸŒ MIDDLEWARE: Access token valid - allowing access
ðŸŒ MIDDLEWARE: User authenticated (or has refresh token) - allowing request to proceed
 â—‹ Compiling /dashboard/view/[dashboardId] ...
 âœ“ Compiled /dashboard/view/[dashboardId] in 2.5s (2196 modules)
 GET /dashboard/view/a0324818-ae41-4bf5-8291-447f30322faa?org=43ca9f7c-ad3d-475c-8488-9f336dfe2670 200 in 3301ms
 â—‹ Compiling /api/admin/analytics/dashboards/[dashboardId] ...
 âœ“ Compiled /api/admin/analytics/dashboards/[dashboardId] in 1671ms (2626 modules)
{"@timestamp":"2025-10-14T12:25:57.301Z","level":"INFO","message":"Connecting to Redis","service":"bendcare-os","env":"development","file":"redis.ts","line":78,"function":"RedisClientManager.connect","component":"redis","host":"bcos-redis-dev-rt5vbv.serverless.use1.cache.amazonaws.com","port":6379,"username":"[REDACTED]","keyPrefix":"[REDACTED]","tls":true}
{"@timestamp":"2025-10-14T12:25:57.349Z","level":"INFO","message":"GET /api/admin/analytics/dashboards - RBAC route","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":47,"function":"eval","correlationId":"cor_mgqjcqtf_i4iv3puj","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"component":"api","request":{},"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-14T12:25:57.349Z","level":"INFO","message":"RBAC route initiated","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":48,"function":"eval","correlationId":"cor_mgqjcqtf_i4iv3puj","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"endpoint":"/api/admin/analytics/dashboards","requiredPermissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"requireAllPermissions":false,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
ðŸŒ MIDDLEWARE: Processing request for: /dashboard/view/a0324818-ae41-4bf5-8291-447f30322faa
ðŸŒ MIDDLEWARE: Protected route detected
ðŸŒ MIDDLEWARE: Checking auth - access token: true, refresh token: true
ðŸŒ MIDDLEWARE: Access token valid - allowing access
ðŸŒ MIDDLEWARE: User authenticated (or has refresh token) - allowing request to proceed
 GET /dashboard/view/a0324818-ae41-4bf5-8291-447f30322faa?org=43ca9f7c-ad3d-475c-8488-9f336dfe2670 200 in 84ms
{"@timestamp":"2025-10-14T12:25:57.698Z","level":"INFO","message":"GET /api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa - RBAC route","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":47,"function":"eval","correlationId":"cor_mgqjcqtg_2swb6qu3","method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"component":"api","request":{},"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa"}}
{"@timestamp":"2025-10-14T12:25:57.698Z","level":"INFO","message":"RBAC route initiated","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":48,"function":"eval","correlationId":"cor_mgqjcqtg_2swb6qu3","method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"endpoint":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa","requiredPermissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"requireAllPermissions":false,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa"}}
{"@timestamp":"2025-10-14T12:25:57.696Z","level":"INFO","message":"Main database connections closed","service":"bendcare-os","env":"development","file":"index.ts","line":154,"function":"process.closeDb"}
{"@timestamp":"2025-10-14T12:25:58.455Z","level":"INFO","message":"Redis connected successfully","service":"bendcare-os","env":"development","file":"redis.ts","line":109,"function":"EventEmitter.eval","component":"redis","host":"[REDACTED]","port":6379}
{"@timestamp":"2025-10-14T12:25:58.496Z","level":"INFO","message":"Redis ready for commands","service":"bendcare-os","env":"development","file":"redis.ts","line":119,"function":"EventEmitter.eval","component":"redis"}
{"@timestamp":"2025-10-14T12:25:58.540Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgqjcqtf_i4iv3puj","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1192,"type":"api","identifier":"::1","current":2,"remaining":198,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-14T12:25:58.541Z","level":"INFO","message":"Rate limit check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":61,"function":"eval","correlationId":"cor_mgqjcqtf_i4iv3puj","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1191,"limitType":"api","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-14T12:25:58.541Z","level":"DEBUG","message":"API auth check initiated","service":"bendcare-os","env":"development","file":"global-auth.ts","line":65,"function":"applyGlobalAuth","correlationId":"cor_mgqjcqtf_i4iv3puj","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1192,"pathname":"/api/admin/analytics/dashboards","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-14T12:25:58.541Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgqjcqtg_2swb6qu3","method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":843,"type":"api","identifier":"::1","current":3,"remaining":197,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa"}}
{"@timestamp":"2025-10-14T12:25:58.541Z","level":"INFO","message":"Rate limit check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":61,"function":"eval","correlationId":"cor_mgqjcqtg_2swb6qu3","method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":843,"limitType":"api","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa"}}
{"@timestamp":"2025-10-14T12:25:58.541Z","level":"DEBUG","message":"API auth check initiated","service":"bendcare-os","env":"development","file":"global-auth.ts","line":65,"function":"applyGlobalAuth","correlationId":"cor_mgqjcqtg_2swb6qu3","method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":843,"pathname":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa"}}
{"@timestamp":"2025-10-14T12:25:58.577Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","type":"api","identifier":"::1","current":1,"remaining":199,"limit":200}
{"@timestamp":"2025-10-14T12:25:58.578Z","level":"INFO","message":"JWT authentication middleware initiated","service":"bendcare-os","env":"development","file":"jwt-auth.ts","line":100,"function":"requireJWTAuth","url":"http://localhost:4001/api/auth/me","method":"GET","hasAuthHeader":false,"hasCookieHeader":"[REDACTED]"}
ðŸ” AUTH: Using access token from httpOnly cookie
{"@timestamp":"2025-10-14T12:25:58.579Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgqjcqtf_i4iv3puj","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1230,"type":"api","identifier":"::1","current":4,"remaining":196,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-14T12:25:58.579Z","level":"DEBUG","message":"Using httpOnly cookie for authentication","service":"bendcare-os","env":"development","file":"global-auth.ts","line":100,"function":"applyGlobalAuth","correlationId":"cor_mgqjcqtf_i4iv3puj","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1230,"pathname":"/api/admin/analytics/dashboards","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-14T12:25:58.579Z","level":"DEBUG","message":"Using access token from httpOnly cookie","service":"bendcare-os","env":"development","file":"auth.ts","line":36,"function":"requireAuth","correlationId":"cor_mgqjcqtf_i4iv3puj","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1230,"component":"auth","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-14T12:25:58.580Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgqjcqtg_2swb6qu3","method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":882,"type":"api","identifier":"::1","current":5,"remaining":195,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa"}}
{"@timestamp":"2025-10-14T12:25:58.580Z","level":"DEBUG","message":"Using httpOnly cookie for authentication","service":"bendcare-os","env":"development","file":"global-auth.ts","line":100,"function":"applyGlobalAuth","correlationId":"cor_mgqjcqtg_2swb6qu3","method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":882,"pathname":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa"}}
{"@timestamp":"2025-10-14T12:25:58.580Z","level":"DEBUG","message":"Using access token from httpOnly cookie","service":"bendcare-os","env":"development","file":"auth.ts","line":36,"function":"requireAuth","correlationId":"cor_mgqjcqtg_2swb6qu3","method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":882,"component":"auth","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa"}}
Query: select "jti", "user_id", "token_type", "blacklisted_at", "expires_at", "reason", "blacklisted_by", "ip_address", "user_agent" from "token_blacklist" where "token_blacklist"."jti" = $1 limit $2 -- params: ["jyYYRWLdRqo5hO_Rqwspt", 1]
Query: select "jti", "user_id", "token_type", "blacklisted_at", "expires_at", "reason", "blacklisted_by", "ip_address", "user_agent" from "token_blacklist" where "token_blacklist"."jti" = $1 limit $2 -- params: ["jyYYRWLdRqo5hO_Rqwspt", 1]
Query: select "jti", "user_id", "token_type", "blacklisted_at", "expires_at", "reason", "blacklisted_by", "ip_address", "user_agent" from "token_blacklist" where "token_blacklist"."jti" = $1 limit $2 -- params: ["jyYYRWLdRqo5hO_Rqwspt", 1]
{"@timestamp":"2025-10-14T12:25:58.649Z","level":"INFO","message":"Auth: jwt_validation","service":"bendcare-os","env":"development","file":"jwt-auth.ts","line":153,"function":"requireJWTAuth","component":"auth","action":"jwt_validation","success":true,"userId":"[UUID]","sessionId":"cK1LB_Yoj4aCvvZTcpS0fFcNWAipVp6_","tokenSource":"[REDACTED]","validationDuration":71}
ðŸ” AUTH: JWT cache miss, falling back to database query
{"@timestamp":"2025-10-14T12:25:58.686Z","level":"DEBUG","message":"Loading user context","service":"bendcare-os","env":"development","file":"user-context.ts","line":304,"function":"getUserContextSafe","correlationId":"cor_mgqjcqtg_2swb6qu3","method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":988,"userId":"[UUID]","operation":"getUserContext","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa"}}
Query: select "user_id", "email", "first_name", "last_name", "is_active", "email_verified", "created_at", "updated_at" from "users" where "users"."user_id" = $1 limit $2 -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", 1]
Query: select "user_organizations"."user_organization_id", "user_organizations"."user_id", "user_organizations"."organization_id", "user_organizations"."is_active", "user_organizations"."joined_at", "user_organizations"."created_at", "organizations"."name", "organizations"."slug", "organizations"."parent_organization_id", "organizations"."is_active", "organizations"."created_at", "organizations"."updated_at", "organizations"."deleted_at" from "user_organizations" inner join "organizations" on "user_organizations"."organization_id" = "organizations"."organization_id" where ("user_organizations"."user_id" = $1 and "user_organizations"."is_active" = $2 and "organizations"."is_active" = $3) -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", true, true]
Query: select distinct "user_roles"."user_role_id", "user_roles"."user_id", "user_roles"."role_id", "user_roles"."organization_id", "user_roles"."granted_by", "user_roles"."granted_at", "user_roles"."expires_at", "user_roles"."is_active", "user_roles"."created_at", "roles"."name", "roles"."description", "roles"."organization_id", "roles"."is_system_role", "roles"."is_active", "roles"."created_at", "roles"."updated_at", "roles"."deleted_at", "permissions"."permission_id", "permissions"."name", "permissions"."description", "permissions"."resource", "permissions"."action", "permissions"."scope", "permissions"."is_active", "permissions"."created_at", "permissions"."updated_at" from "user_roles" inner join "roles" on "user_roles"."role_id" = "roles"."role_id" inner join "role_permissions" on "roles"."role_id" = "role_permissions"."role_id" inner join "permissions" on "role_permissions"."permission_id" = "permissions"."permission_id" where ("user_roles"."user_id" = $1 and "user_roles"."is_active" = $2 and "roles"."is_active" = $3 and "permissions"."is_active" = $4) -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", true, true, true]
{"@timestamp":"2025-10-14T12:25:58.713Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"user-context.ts","line":314,"function":"eval","correlationId":"cor_mgqjcqtg_2swb6qu3","method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1015,"userId":"[UUID]","rolesCount":1,"permissionsCount":90,"organizationsCount":0,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa"}}
{"@timestamp":"2025-10-14T12:25:58.714Z","level":"DEBUG","message":"User context cache hit","service":"bendcare-os","env":"development","file":"user-context.ts","line":288,"function":"getUserContextSafe","correlationId":"cor_mgqjcqtf_i4iv3puj","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1365,"userId":"[UUID]","operation":"getUserContext","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-14T12:25:58.715Z","level":"INFO","message":"API authentication successful","service":"bendcare-os","env":"development","file":"global-auth.ts","line":122,"function":"applyGlobalAuth","correlationId":"cor_mgqjcqtg_2swb6qu3","method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","pathname":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa","userId":"[UUID]","userEmail":"[REDACTED]","authMethod":"httponly_cookie","duration":135,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa"}}
{"@timestamp":"2025-10-14T12:25:58.715Z","level":"INFO","message":"API authentication successful","service":"bendcare-os","env":"development","file":"global-auth.ts","line":122,"function":"applyGlobalAuth","correlationId":"cor_mgqjcqtf_i4iv3puj","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","pathname":"/api/admin/analytics/dashboards","userId":"[UUID]","userEmail":"[REDACTED]","authMethod":"httponly_cookie","duration":136,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-14T12:25:58.716Z","level":"INFO","message":"Global auth check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":71,"function":"eval","correlationId":"cor_mgqjcqtg_2swb6qu3","method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":175,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa"}}
{"@timestamp":"2025-10-14T12:25:58.716Z","level":"DEBUG","message":"Global authentication completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":74,"function":"eval","correlationId":"cor_mgqjcqtg_2swb6qu3","method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1018,"hasSession":true,"hasUser":true,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa"}}
{"@timestamp":"2025-10-14T12:25:58.716Z","level":"INFO","message":"User context retrieved from session","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":132,"function":"eval","correlationId":"cor_mgqjcqtg_2swb6qu3","method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","cached":true,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa"}}
{"@timestamp":"2025-10-14T12:25:58.716Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":154,"function":"eval","correlationId":"cor_mgqjcqtg_2swb6qu3","method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1018,"userId":"[UUID]","roleCount":1,"permissionCount":90,"isSuperAdmin":true,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa"}}
{"@timestamp":"2025-10-14T12:25:58.717Z","level":"INFO","message":"Global auth check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":71,"function":"eval","correlationId":"cor_mgqjcqtf_i4iv3puj","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":176,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-14T12:25:58.717Z","level":"DEBUG","message":"Global authentication completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":74,"function":"eval","correlationId":"cor_mgqjcqtf_i4iv3puj","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1368,"hasSession":true,"hasUser":true,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-14T12:25:58.717Z","level":"INFO","message":"User context retrieved from session","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":132,"function":"eval","correlationId":"cor_mgqjcqtf_i4iv3puj","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","cached":true,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-14T12:25:58.718Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":154,"function":"eval","correlationId":"cor_mgqjcqtf_i4iv3puj","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1369,"userId":"[UUID]","roleCount":1,"permissionCount":90,"isSuperAdmin":true,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-14T12:25:58.718Z","level":"INFO","message":"RBAC permission check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":170,"function":"eval","correlationId":"cor_mgqjcqtg_2swb6qu3","method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":2,"userId":"[UUID]","permissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"requireAll":false,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa"}}
{"@timestamp":"2025-10-14T12:25:58.718Z","level":"INFO","message":"RBAC permission check passed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":179,"function":"eval","correlationId":"cor_mgqjcqtg_2swb6qu3","method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1020,"userId":"[UUID]","permissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"rbacDuration":2,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa"}}
{"@timestamp":"2025-10-14T12:25:58.718Z","level":"INFO","message":"Auth: rbac_check","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":186,"function":"eval","correlationId":"cor_mgqjcqtg_2swb6qu3","method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1020,"component":"auth","action":"rbac_check","success":true,"userId":"[UUID]","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa"}}
Error: Route "/api/admin/analytics/dashboards/[dashboardId]" used `params.dashboardId`. `params` should be awaited before using its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis
    at getDashboardHandler (app/api/admin/analytics/dashboards/[dashboardId]/route.ts:26:25)
    at eval (lib/api/rbac-route-handler.ts:238:32)
  24 |
  25 |   log.info('Dashboard get request initiated', {
> 26 |     dashboardId: params.dashboardId,
     |                         ^
  27 |     requestingUserId: userContext.user_id,
  28 |   });
  29 |
{"@timestamp":"2025-10-14T12:25:58.785Z","level":"INFO","message":"Dashboard get request initiated","service":"bendcare-os","env":"development","file":"route.ts","line":29,"function":"getDashboardHandler","correlationId":"cor_mgqjcqtg_2swb6qu3","method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1087,"dashboardId":"[UUID]","requestingUserId":"[UUID]","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa"}}
Error: Route "/api/admin/analytics/dashboards/[dashboardId]" used `params.dashboardId`. `params` should be awaited before using its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis
    at getDashboardHandler (app/api/admin/analytics/dashboards/[dashboardId]/route.ts:35:71)
    at eval (lib/api/rbac-route-handler.ts:238:32)
  33 |
  34 |     // Get dashboard with automatic permission checking
> 35 |     const dashboard = await dashboardsService.getDashboardById(params.dashboardId);
     |                                                                       ^
  36 |
  37 |     if (!dashboard) {
  38 |       return createErrorResponse('Dashboard not found', 404);
{"@timestamp":"2025-10-14T12:25:58.826Z","level":"INFO","message":"RBAC permission check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":170,"function":"eval","correlationId":"cor_mgqjcqtf_i4iv3puj","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":108,"userId":"[UUID]","permissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"requireAll":false,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-14T12:25:58.826Z","level":"INFO","message":"RBAC permission check passed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":179,"function":"eval","correlationId":"cor_mgqjcqtf_i4iv3puj","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1477,"userId":"[UUID]","permissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"rbacDuration":108,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-14T12:25:58.826Z","level":"INFO","message":"Auth: rbac_check","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":186,"function":"eval","correlationId":"cor_mgqjcqtf_i4iv3puj","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1477,"component":"auth","action":"rbac_check","success":true,"userId":"[UUID]","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
Query: select "dashboards"."dashboard_id", "dashboards"."dashboard_name", "dashboards"."dashboard_description", "dashboards"."layout_config", "dashboards"."dashboard_category_id", "dashboards"."organization_id", "dashboards"."created_by", "dashboards"."created_at", "dashboards"."updated_at", "dashboards"."is_active", "dashboards"."is_published", "dashboards"."is_default", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "dashboards" left join "chart_categories" on "dashboards"."dashboard_category_id" = "chart_categories"."chart_category_id" left join "users" on "dashboards"."created_by" = "users"."user_id" where "dashboards"."dashboard_id" = $1 limit $2 -- params: ["a0324818-ae41-4bf5-8291-447f30322faa", 1]
Query: select "dashboards"."dashboard_id", "dashboards"."dashboard_name", "dashboards"."dashboard_description", "dashboards"."layout_config", "dashboards"."dashboard_category_id", "dashboards"."organization_id", "dashboards"."created_by", "dashboards"."created_at", "dashboards"."updated_at", "dashboards"."is_active", "dashboards"."is_published", "dashboards"."is_default", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "users"."user_id", "users"."first_name", "users"."last_name", "users"."email", count("dashboard_charts"."chart_definition_id") from "dashboards" left join "chart_categories" on "dashboards"."dashboard_category_id" = "chart_categories"."chart_category_id" left join "users" on "dashboards"."created_by" = "users"."user_id" left join "dashboard_charts" on "dashboards"."dashboard_id" = "dashboard_charts"."dashboard_id" where ("dashboards"."is_active" = $1 and "dashboards"."is_published" = $2) group by "dashboards"."dashboard_id", "dashboards"."dashboard_name", "dashboards"."dashboard_description", "dashboards"."layout_config", "dashboards"."dashboard_category_id", "dashboards"."organization_id", "dashboards"."created_by", "dashboards"."created_at", "dashboards"."updated_at", "dashboards"."is_active", "dashboards"."is_published", "dashboards"."is_default", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "users"."user_id", "users"."first_name", "users"."last_name", "users"."email" order by "dashboards"."created_at" desc limit $3 -- params: [true, true, 1000000]
Query: select count(*) from "dashboard_charts" where "dashboard_charts"."dashboard_id" = $1 -- params: ["a0324818-ae41-4bf5-8291-447f30322faa"]
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "dashboard_charts"."position_config" from "dashboard_charts" inner join "chart_definitions" on "dashboard_charts"."chart_definition_id" = "chart_definitions"."chart_definition_id" where "dashboard_charts"."dashboard_id" = $1 order by "dashboard_charts"."added_at" -- params: ["a0324818-ae41-4bf5-8291-447f30322faa"]
Query: select count(*) from "dashboards" where ("dashboards"."is_active" = $1 and "dashboards"."is_published" = $2) -- params: [true, true]
{"@timestamp":"2025-10-14T12:25:58.837Z","level":"INFO","message":"dashboards list query completed - returned 7 of 7","service":"bendcare-os","env":"development","file":"route.ts","line":63,"function":"getDashboardsHandler","correlationId":"cor_mgqjcqtf_i4iv3puj","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","operation":"list_dashboards","resourceType":"dashboards","userId":"[UUID]","filters":{"is_active":true,"is_published":true},"filterCount":2,"results":{"returned":7,"total":7,"published":7,"draft":0,"hasDefault":true,"defaultDashboardId":"[UUID]","totalCharts":27,"averageChartsPerDashboard":4,"page":1,"pageSize":7},"duration":11,"slow":false,"component":"analytics","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-14T12:25:58.837Z","level":"INFO","message":"Handler execution completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":192,"function":"eval","correlationId":"cor_mgqjcqtf_i4iv3puj","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":11,"userId":"[UUID]","statusCode":200,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
{"@timestamp":"2025-10-14T12:25:58.837Z","level":"INFO","message":"RBAC route completed successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":198,"function":"eval","correlationId":"cor_mgqjcqtf_i4iv3puj","method":"GET","path":"/api/admin/analytics/dashboards","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1488,"userId":"[UUID]","statusCode":200,"totalDuration":1488,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards"}}
 GET /api/admin/analytics/dashboards?is_published=true&is_active=true 200 in 3442ms
{"@timestamp":"2025-10-14T12:25:58.839Z","level":"DEBUG","message":"DB: SELECT on dashboards","service":"bendcare-os","env":"development","file":"route.ts","line":41,"function":"getDashboardHandler","correlationId":"cor_mgqjcqtg_2swb6qu3","method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","component":"database","operation":"SELECT","table":"dashboards","duration":121,"rowCount":1,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa"}}
{"@timestamp":"2025-10-14T12:25:58.839Z","level":"INFO","message":"Handler execution completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":192,"function":"eval","correlationId":"cor_mgqjcqtg_2swb6qu3","method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":121,"userId":"[UUID]","statusCode":200,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa"}}
{"@timestamp":"2025-10-14T12:25:58.839Z","level":"INFO","message":"RBAC route completed successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":198,"function":"eval","correlationId":"cor_mgqjcqtg_2swb6qu3","method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1141,"userId":"[UUID]","statusCode":200,"totalDuration":1141,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa"}}
 GET /api/admin/analytics/dashboards/a0324818-ae41-4bf5-8291-447f30322faa 200 in 3433ms
{"@timestamp":"2025-10-14T12:25:58.880Z","level":"DEBUG","message":"Redis user context cache hit","service":"bendcare-os","env":"development","file":"cached-user-context.ts","line":261,"function":"eval","userId":"[UUID]","rolesCount":1,"permissionsCount":89,"fromRedis":true}
{"@timestamp":"2025-10-14T12:25:58.880Z","level":"INFO","message":"JWT authentication completed","service":"bendcare-os","env":"development","file":"jwt-auth.ts","line":189,"function":"requireJWTAuth","userId":"[UUID]","sessionId":"cK1LB_Yoj4aCvvZTcpS0fFcNWAipVp6_","tokenSource":"[REDACTED]","cacheHit":true,"roleCount":1,"permissionCount":89,"duration":302}
{"@timestamp":"2025-10-14T12:25:58.880Z","level":"WARN","message":"Security: jwt_authentication_successful","service":"bendcare-os","env":"development","file":"jwt-auth.ts","line":199,"function":"requireJWTAuth","component":"security","event":"jwt_authentication_successful","severity":"low","action":"jwt_middleware_success","userId":"[UUID]","tokenValidated":"[REDACTED]","rbacContextLoaded":true,"cacheOptimized":true}
{"@timestamp":"2025-10-14T12:25:58.880Z","level":"INFO","message":"JWT middleware completed","service":"bendcare-os","env":"development","file":"jwt-auth.ts","line":207,"function":"requireJWTAuth","duration":302,"performanceTiming":true,"tokenValidationTime":"[REDACTED]","cacheEnabled":true,"totalOperations":90}
{"@timestamp":"2025-10-14T12:25:58.881Z","level":"INFO","message":"user context retrieved successfully from JWT token","service":"bendcare-os","env":"development","file":"route.ts","line":41,"function":"GET","operation":"get_user_context","userId":"[UUID]","email":"[REDACTED]","rbac":{"roles":1,"permissions":89,"isSuperAdmin":true,"orgAdminFor":0},"organizations":{"direct":0,"accessible":0,"current":null},"duration":1580,"slow":true,"component":"auth","cached":true}
 GET /api/auth/me 200 in 3473ms
 â—‹ Compiling /api/csrf ...
 âœ“ Compiled /api/csrf in 560ms (2632 modules)
{"@timestamp":"2025-10-14T12:25:59.580Z","level":"INFO","message":"GET /api/csrf - RBAC route","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":47,"function":"eval","correlationId":"cor_mgqjctit_w3u587r8","method":"GET","path":"/api/csrf","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"component":"api","request":{},"_contextMetadata":{"method":"GET","path":"/api/csrf"}}
{"@timestamp":"2025-10-14T12:25:59.580Z","level":"INFO","message":"RBAC route initiated","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":48,"function":"eval","correlationId":"cor_mgqjctit_w3u587r8","method":"GET","path":"/api/csrf","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"endpoint":"/api/csrf","requiredPermissions":[],"requireAllPermissions":false,"_contextMetadata":{"method":"GET","path":"/api/csrf"}}
{"@timestamp":"2025-10-14T12:25:59.604Z","level":"INFO","message":"GET /api/admin/analytics/charts - RBAC route","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":47,"function":"eval","correlationId":"cor_mgqjcthk_2ggitiq7","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"component":"api","request":{},"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-14T12:25:59.604Z","level":"INFO","message":"RBAC route initiated","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":48,"function":"eval","correlationId":"cor_mgqjcthk_2ggitiq7","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"endpoint":"/api/admin/analytics/charts","requiredPermissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"requireAllPermissions":false,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-14T12:25:59.616Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgqjctit_w3u587r8","method":"GET","path":"/api/csrf","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":36,"type":"api","identifier":"::1","current":6,"remaining":194,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/csrf"}}
{"@timestamp":"2025-10-14T12:25:59.616Z","level":"INFO","message":"Rate limit check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":61,"function":"eval","correlationId":"cor_mgqjctit_w3u587r8","method":"GET","path":"/api/csrf","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":36,"limitType":"api","_contextMetadata":{"method":"GET","path":"/api/csrf"}}
{"@timestamp":"2025-10-14T12:25:59.616Z","level":"DEBUG","message":"Route marked as public","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":80,"function":"eval","correlationId":"cor_mgqjctit_w3u587r8","method":"GET","path":"/api/csrf","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":36,"reason":"CSRF tokens must be available to anonymous users for login protection","_contextMetadata":{"method":"GET","path":"/api/csrf"}}
{"@timestamp":"2025-10-14T12:25:59.616Z","level":"DEBUG","message":"Public route - skipping user context and RBAC checks","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":102,"function":"eval","correlationId":"cor_mgqjctit_w3u587r8","method":"GET","path":"/api/csrf","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":36,"endpoint":"/api/csrf","publicReason":"CSRF tokens must be available to anonymous users for login protection","_contextMetadata":{"method":"GET","path":"/api/csrf"}}
Query: select "jti", "user_id", "token_type", "blacklisted_at", "expires_at", "reason", "blacklisted_by", "ip_address", "user_agent" from "token_blacklist" where "token_blacklist"."jti" = $1 limit $2 -- params: ["jyYYRWLdRqo5hO_Rqwspt", 1]
{"@timestamp":"2025-10-14T12:25:59.621Z","level":"INFO","message":"CSRF token request initiated","service":"bendcare-os","env":"development","file":"route.ts","line":47,"function":"getCSRFTokenHandler","correlationId":"cor_mgqjctit_w3u587r8","method":"GET","path":"/api/csrf","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":41,"isAuthenticated":true,"userId":"[UUID]","_contextMetadata":{"method":"GET","path":"/api/csrf"}}
{"@timestamp":"2025-10-14T12:25:59.622Z","level":"INFO","message":"Authenticated CSRF token generated","service":"bendcare-os","env":"development","file":"route.ts","line":58,"function":"getCSRFTokenHandler","correlationId":"cor_mgqjctit_w3u587r8","method":"GET","path":"/api/csrf","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":42,"userId":"[UUID]","_contextMetadata":{"method":"GET","path":"/api/csrf"}}
{"@timestamp":"2025-10-14T12:25:59.622Z","level":"INFO","message":"CSRF token issued successfully","service":"bendcare-os","env":"development","file":"route.ts","line":82,"function":"getCSRFTokenHandler","correlationId":"cor_mgqjctit_w3u587r8","method":"GET","path":"/api/csrf","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":42,"tokenType":"[REDACTED]","_contextMetadata":{"method":"GET","path":"/api/csrf"}}
{"@timestamp":"2025-10-14T12:25:59.622Z","level":"INFO","message":"Handler execution completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":109,"function":"eval","correlationId":"cor_mgqjctit_w3u587r8","method":"GET","path":"/api/csrf","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":6,"statusCode":200,"isPublic":true,"_contextMetadata":{"method":"GET","path":"/api/csrf"}}
{"@timestamp":"2025-10-14T12:25:59.622Z","level":"INFO","message":"Public route completed successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":115,"function":"eval","correlationId":"cor_mgqjctit_w3u587r8","method":"GET","path":"/api/csrf","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":42,"endpoint":"/api/csrf","statusCode":200,"totalDuration":42,"_contextMetadata":{"method":"GET","path":"/api/csrf"}}
 GET /api/csrf 200 in 719ms
{"@timestamp":"2025-10-14T12:25:59.642Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgqjcthk_2ggitiq7","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":38,"type":"api","identifier":"::1","current":7,"remaining":193,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-14T12:25:59.642Z","level":"INFO","message":"Rate limit check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":61,"function":"eval","correlationId":"cor_mgqjcthk_2ggitiq7","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":38,"limitType":"api","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-14T12:25:59.642Z","level":"DEBUG","message":"API auth check initiated","service":"bendcare-os","env":"development","file":"global-auth.ts","line":65,"function":"applyGlobalAuth","correlationId":"cor_mgqjcthk_2ggitiq7","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":38,"pathname":"/api/admin/analytics/charts","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-14T12:25:59.675Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgqjcthk_2ggitiq7","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":71,"type":"api","identifier":"::1","current":8,"remaining":192,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-14T12:25:59.675Z","level":"DEBUG","message":"Using httpOnly cookie for authentication","service":"bendcare-os","env":"development","file":"global-auth.ts","line":100,"function":"applyGlobalAuth","correlationId":"cor_mgqjcthk_2ggitiq7","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":71,"pathname":"/api/admin/analytics/charts","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-14T12:25:59.675Z","level":"DEBUG","message":"Using access token from httpOnly cookie","service":"bendcare-os","env":"development","file":"auth.ts","line":36,"function":"requireAuth","correlationId":"cor_mgqjcthk_2ggitiq7","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":71,"component":"auth","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-14T12:25:59.751Z","level":"DEBUG","message":"Loading user context","service":"bendcare-os","env":"development","file":"user-context.ts","line":304,"function":"getUserContextSafe","correlationId":"cor_mgqjcthk_2ggitiq7","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":147,"userId":"[UUID]","operation":"getUserContext","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
Query: select "user_id", "email", "first_name", "last_name", "is_active", "email_verified", "created_at", "updated_at" from "users" where "users"."user_id" = $1 limit $2 -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", 1]
Query: select "user_organizations"."user_organization_id", "user_organizations"."user_id", "user_organizations"."organization_id", "user_organizations"."is_active", "user_organizations"."joined_at", "user_organizations"."created_at", "organizations"."name", "organizations"."slug", "organizations"."parent_organization_id", "organizations"."is_active", "organizations"."created_at", "organizations"."updated_at", "organizations"."deleted_at" from "user_organizations" inner join "organizations" on "user_organizations"."organization_id" = "organizations"."organization_id" where ("user_organizations"."user_id" = $1 and "user_organizations"."is_active" = $2 and "organizations"."is_active" = $3) -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", true, true]
Query: select distinct "user_roles"."user_role_id", "user_roles"."user_id", "user_roles"."role_id", "user_roles"."organization_id", "user_roles"."granted_by", "user_roles"."granted_at", "user_roles"."expires_at", "user_roles"."is_active", "user_roles"."created_at", "roles"."name", "roles"."description", "roles"."organization_id", "roles"."is_system_role", "roles"."is_active", "roles"."created_at", "roles"."updated_at", "roles"."deleted_at", "permissions"."permission_id", "permissions"."name", "permissions"."description", "permissions"."resource", "permissions"."action", "permissions"."scope", "permissions"."is_active", "permissions"."created_at", "permissions"."updated_at" from "user_roles" inner join "roles" on "user_roles"."role_id" = "roles"."role_id" inner join "role_permissions" on "roles"."role_id" = "role_permissions"."role_id" inner join "permissions" on "role_permissions"."permission_id" = "permissions"."permission_id" where ("user_roles"."user_id" = $1 and "user_roles"."is_active" = $2 and "roles"."is_active" = $3 and "permissions"."is_active" = $4) -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", true, true, true]
{"@timestamp":"2025-10-14T12:25:59.764Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"user-context.ts","line":314,"function":"eval","correlationId":"cor_mgqjcthk_2ggitiq7","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":160,"userId":"[UUID]","rolesCount":1,"permissionsCount":90,"organizationsCount":0,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-14T12:25:59.764Z","level":"INFO","message":"API authentication successful","service":"bendcare-os","env":"development","file":"global-auth.ts","line":122,"function":"applyGlobalAuth","correlationId":"cor_mgqjcthk_2ggitiq7","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","pathname":"/api/admin/analytics/charts","userId":"[UUID]","userEmail":"[REDACTED]","authMethod":"httponly_cookie","duration":89,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-14T12:25:59.764Z","level":"INFO","message":"Global auth check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":71,"function":"eval","correlationId":"cor_mgqjcthk_2ggitiq7","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":122,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-14T12:25:59.764Z","level":"DEBUG","message":"Global authentication completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":74,"function":"eval","correlationId":"cor_mgqjcthk_2ggitiq7","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":160,"hasSession":true,"hasUser":true,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-14T12:25:59.765Z","level":"INFO","message":"User context retrieved from session","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":132,"function":"eval","correlationId":"cor_mgqjcthk_2ggitiq7","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","cached":true,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-14T12:25:59.765Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":154,"function":"eval","correlationId":"cor_mgqjcthk_2ggitiq7","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":161,"userId":"[UUID]","roleCount":1,"permissionCount":90,"isSuperAdmin":true,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-14T12:25:59.765Z","level":"INFO","message":"RBAC permission check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":170,"function":"eval","correlationId":"cor_mgqjcthk_2ggitiq7","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","permissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"requireAll":false,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-14T12:25:59.765Z","level":"INFO","message":"RBAC permission check passed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":179,"function":"eval","correlationId":"cor_mgqjcthk_2ggitiq7","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":161,"userId":"[UUID]","permissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"rbacDuration":0,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-14T12:25:59.765Z","level":"INFO","message":"Auth: rbac_check","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":186,"function":"eval","correlationId":"cor_mgqjcthk_2ggitiq7","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":161,"component":"auth","action":"rbac_check","success":true,"userId":"[UUID]","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "chart_definitions"."data_source", "chart_definitions"."chart_config", "chart_definitions"."access_control", "chart_definitions"."data_source_id", "chart_definitions"."chart_category_id", "chart_definitions"."created_by", "chart_definitions"."created_at", "chart_definitions"."updated_at", "chart_definitions"."is_active", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "chart_definitions" left join "chart_categories" on "chart_definitions"."chart_category_id" = "chart_categories"."chart_category_id" left join "users" on "chart_definitions"."created_by" = "users"."user_id" where "chart_definitions"."is_active" = $1 order by "chart_definitions"."created_at" desc limit $2 -- params: [true, 1000000]
Query: select count(*) from "chart_definitions" where "chart_definitions"."is_active" = $1 -- params: [true]
{"@timestamp":"2025-10-14T12:25:59.772Z","level":"INFO","message":"charts list query completed - returned 13 of 13","service":"bendcare-os","env":"development","file":"route.ts","line":50,"function":"getChartsHandler","correlationId":"cor_mgqjcthk_2ggitiq7","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","operation":"list_charts","resourceType":"chart_definitions","userId":"[UUID]","filters":{"is_active":true},"filterCount":1,"results":{"returned":13,"total":13,"chartTypeBreakdown":{"stacked-bar":2,"number":2,"dual-axis":2,"progress-bar":1,"table":1,"horizontal-bar":1,"bar":4},"activeCount":13,"inactiveCount":0},"duration":7,"slow":false,"component":"analytics","_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-14T12:25:59.772Z","level":"INFO","message":"Handler execution completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":192,"function":"eval","correlationId":"cor_mgqjcthk_2ggitiq7","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":7,"userId":"[UUID]","statusCode":200,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
{"@timestamp":"2025-10-14T12:25:59.772Z","level":"INFO","message":"RBAC route completed successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":198,"function":"eval","correlationId":"cor_mgqjcthk_2ggitiq7","method":"GET","path":"/api/admin/analytics/charts","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":168,"userId":"[UUID]","statusCode":200,"totalDuration":168,"_contextMetadata":{"method":"GET","path":"/api/admin/analytics/charts"}}
 GET /api/admin/analytics/charts?is_active=true 200 in 916ms
{"@timestamp":"2025-10-14T12:25:59.787Z","level":"DEBUG","message":"Request sanitization completed","service":"bendcare-os","env":"development","file":"request-sanitization.ts","line":232,"function":"sanitizeRequestBody","duration":1,"hasErrors":false,"errorCount":0}
 âœ“ Compiled /api/admin/analytics/dashboard/[dashboardId]/render in 401ms (2661 modules)
{"@timestamp":"2025-10-14T12:26:00.334Z","level":"INFO","message":"Registering chart type handlers","service":"bendcare-os","env":"development","file":"index.ts","line":43,"function":"registerAllHandlers"}
{"@timestamp":"2025-10-14T12:26:00.335Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"line","totalHandlers":1}
{"@timestamp":"2025-10-14T12:26:00.335Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"bar","totalHandlers":2}
{"@timestamp":"2025-10-14T12:26:00.335Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"pie","totalHandlers":3}
{"@timestamp":"2025-10-14T12:26:00.335Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"table","totalHandlers":4}
{"@timestamp":"2025-10-14T12:26:00.335Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"number","totalHandlers":5}
{"@timestamp":"2025-10-14T12:26:00.336Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"progress-bar","totalHandlers":6}
{"@timestamp":"2025-10-14T12:26:00.336Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"dual-axis","totalHandlers":7}
{"@timestamp":"2025-10-14T12:26:00.336Z","level":"INFO","message":"Chart type handlers registered successfully","service":"bendcare-os","env":"development","file":"index.ts","line":66,"function":"registerAllHandlers","count":7,"types":["line","bar","pie","table","number","progress-bar","dual-axis"]}
{"@timestamp":"2025-10-14T12:26:00.692Z","level":"INFO","message":"Registering chart type handlers","service":"bendcare-os","env":"development","file":"index.ts","line":43,"function":"registerAllHandlers"}
{"@timestamp":"2025-10-14T12:26:00.694Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"line","totalHandlers":1}
{"@timestamp":"2025-10-14T12:26:00.694Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"bar","totalHandlers":2}
{"@timestamp":"2025-10-14T12:26:00.694Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"pie","totalHandlers":3}
{"@timestamp":"2025-10-14T12:26:00.694Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"table","totalHandlers":4}
{"@timestamp":"2025-10-14T12:26:00.694Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"number","totalHandlers":5}
{"@timestamp":"2025-10-14T12:26:00.694Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"progress-bar","totalHandlers":6}
{"@timestamp":"2025-10-14T12:26:00.694Z","level":"INFO","message":"Chart type handler registered","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":24,"function":"ChartTypeRegistry.register","chartType":"dual-axis","totalHandlers":7}
{"@timestamp":"2025-10-14T12:26:00.694Z","level":"INFO","message":"Chart type handlers registered successfully","service":"bendcare-os","env":"development","file":"index.ts","line":66,"function":"registerAllHandlers","count":7,"types":["line","bar","pie","table","number","progress-bar","dual-axis"]}
{"@timestamp":"2025-10-14T12:26:00.708Z","level":"INFO","message":"POST /api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render - RBAC route","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":47,"function":"eval","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1,"component":"api","request":{},"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:00.708Z","level":"INFO","message":"RBAC route initiated","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":48,"function":"eval","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1,"endpoint":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","requiredPermissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"requireAllPermissions":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:00.705Z","level":"INFO","message":"Main database connections closed","service":"bendcare-os","env":"development","file":"index.ts","line":154,"function":"process.closeDb"}
{"@timestamp":"2025-10-14T12:26:00.790Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":83,"type":"api","identifier":"::1","current":1,"remaining":199,"limit":200,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:00.790Z","level":"INFO","message":"Rate limit check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":61,"function":"eval","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":82,"limitType":"api","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:00.790Z","level":"DEBUG","message":"API auth check initiated","service":"bendcare-os","env":"development","file":"global-auth.ts","line":65,"function":"applyGlobalAuth","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":83,"pathname":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:00.827Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":120,"type":"api","identifier":"::1","current":2,"remaining":198,"limit":200,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:00.827Z","level":"DEBUG","message":"Using httpOnly cookie for authentication","service":"bendcare-os","env":"development","file":"global-auth.ts","line":100,"function":"applyGlobalAuth","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":120,"pathname":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:00.827Z","level":"DEBUG","message":"Using access token from httpOnly cookie","service":"bendcare-os","env":"development","file":"auth.ts","line":36,"function":"requireAuth","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":120,"component":"auth","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:00.996Z","level":"DEBUG","message":"Loading user context","service":"bendcare-os","env":"development","file":"user-context.ts","line":304,"function":"getUserContextSafe","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":289,"userId":"[UUID]","operation":"getUserContext","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
Query: select "user_id", "email", "first_name", "last_name", "is_active", "email_verified", "created_at", "updated_at" from "users" where "users"."user_id" = $1 limit $2 -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", 1]
Query: select "user_organizations"."user_organization_id", "user_organizations"."user_id", "user_organizations"."organization_id", "user_organizations"."is_active", "user_organizations"."joined_at", "user_organizations"."created_at", "organizations"."name", "organizations"."slug", "organizations"."parent_organization_id", "organizations"."is_active", "organizations"."created_at", "organizations"."updated_at", "organizations"."deleted_at" from "user_organizations" inner join "organizations" on "user_organizations"."organization_id" = "organizations"."organization_id" where ("user_organizations"."user_id" = $1 and "user_organizations"."is_active" = $2 and "organizations"."is_active" = $3) -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", true, true]
Query: select distinct "user_roles"."user_role_id", "user_roles"."user_id", "user_roles"."role_id", "user_roles"."organization_id", "user_roles"."granted_by", "user_roles"."granted_at", "user_roles"."expires_at", "user_roles"."is_active", "user_roles"."created_at", "roles"."name", "roles"."description", "roles"."organization_id", "roles"."is_system_role", "roles"."is_active", "roles"."created_at", "roles"."updated_at", "roles"."deleted_at", "permissions"."permission_id", "permissions"."name", "permissions"."description", "permissions"."resource", "permissions"."action", "permissions"."scope", "permissions"."is_active", "permissions"."created_at", "permissions"."updated_at" from "user_roles" inner join "roles" on "user_roles"."role_id" = "roles"."role_id" inner join "role_permissions" on "roles"."role_id" = "role_permissions"."role_id" inner join "permissions" on "role_permissions"."permission_id" = "permissions"."permission_id" where ("user_roles"."user_id" = $1 and "user_roles"."is_active" = $2 and "roles"."is_active" = $3 and "permissions"."is_active" = $4) -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", true, true, true]
{"@timestamp":"2025-10-14T12:26:01.017Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"user-context.ts","line":314,"function":"eval","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":310,"userId":"[UUID]","rolesCount":1,"permissionsCount":90,"organizationsCount":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.018Z","level":"INFO","message":"API authentication successful","service":"bendcare-os","env":"development","file":"global-auth.ts","line":122,"function":"applyGlobalAuth","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","pathname":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","userId":"[UUID]","userEmail":"[REDACTED]","authMethod":"httponly_cookie","duration":191,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.018Z","level":"INFO","message":"Global auth check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":71,"function":"eval","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":228,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.018Z","level":"DEBUG","message":"Global authentication completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":74,"function":"eval","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":311,"hasSession":true,"hasUser":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.018Z","level":"INFO","message":"User context retrieved from session","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":132,"function":"eval","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","cached":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.019Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":154,"function":"eval","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":312,"userId":"[UUID]","roleCount":1,"permissionCount":90,"isSuperAdmin":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.020Z","level":"INFO","message":"RBAC permission check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":170,"function":"eval","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","permissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"requireAll":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.020Z","level":"INFO","message":"RBAC permission check passed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":179,"function":"eval","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":313,"userId":"[UUID]","permissions":["analytics:read:all","analytics:read:organization","analytics:read:own"],"rbacDuration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.020Z","level":"INFO","message":"Auth: rbac_check","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":186,"function":"eval","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":313,"component":"auth","action":"rbac_check","success":true,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
Error: Route "/api/admin/analytics/dashboard/[dashboardId]/render" used `params.dashboardId`. `params` should be awaited before using its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis
    at renderDashboardHandler (app/api/admin/analytics/dashboard/[dashboardId]/render/route.ts:47:11)
    at eval (lib/api/rbac-route-handler.ts:238:32)
  45 |   const startTime = Date.now();
  46 |   const { params } = args[0] as RenderDashboardParams;
> 47 |   const { dashboardId } = params;
     |           ^
  48 |
  49 |   log.info('Dashboard batch render request initiated', {
  50 |     dashboardId,
{"@timestamp":"2025-10-14T12:26:01.060Z","level":"INFO","message":"Dashboard batch render request initiated","service":"bendcare-os","env":"development","file":"route.ts","line":25,"function":"renderDashboardHandler","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":353,"dashboardId":"[UUID]","userId":"[UUID]","component":"analytics","operation":"batch_render","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.061Z","level":"INFO","message":"Dashboard universal filters applied","service":"bendcare-os","env":"development","file":"route.ts","line":40,"function":"renderDashboardHandler","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":354,"dashboardId":"[UUID]","filters":{"hasDateRange":false,"organizationId":"[UUID]"},"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.061Z","level":"INFO","message":"Dashboard batch render initiated","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":51,"function":"DashboardRenderer.renderDashboard","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":354,"dashboardId":"[UUID]","userId":"[UUID]","hasUniversalFilters":true,"organizationFilter":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
Query: select "dashboards"."dashboard_id", "dashboards"."dashboard_name", "dashboards"."dashboard_description", "dashboards"."layout_config", "dashboards"."dashboard_category_id", "dashboards"."organization_id", "dashboards"."created_by", "dashboards"."created_at", "dashboards"."updated_at", "dashboards"."is_active", "dashboards"."is_published", "dashboards"."is_default", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "dashboards" left join "chart_categories" on "dashboards"."dashboard_category_id" = "chart_categories"."chart_category_id" left join "users" on "dashboards"."created_by" = "users"."user_id" where "dashboards"."dashboard_id" = $1 limit $2 -- params: ["a0324818-ae41-4bf5-8291-447f30322faa", 1]
Query: select count(*) from "dashboard_charts" where "dashboard_charts"."dashboard_id" = $1 -- params: ["a0324818-ae41-4bf5-8291-447f30322faa"]
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "dashboard_charts"."position_config" from "dashboard_charts" inner join "chart_definitions" on "dashboard_charts"."chart_definition_id" = "chart_definitions"."chart_definition_id" where "dashboard_charts"."dashboard_id" = $1 order by "dashboard_charts"."added_at" -- params: ["a0324818-ae41-4bf5-8291-447f30322faa"]
{"@timestamp":"2025-10-14T12:26:01.066Z","level":"INFO","message":"User has analytics:read:all - no practice_uid filtering","service":"bendcare-os","env":"development","file":"organization-access-service.ts","line":64,"function":"OrganizationAccessService.getAccessiblePracticeUids","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":359,"userId":"[UUID]","permissionScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.066Z","level":"INFO","message":"Super admin can filter by any organization","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":331,"function":"DashboardRenderer.validateOrganizationFilterAccess","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":359,"userId":"[UUID]","requestedOrganizationId":"[UUID]","permissionScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.137Z","level":"DEBUG","message":"Organization hierarchy cache hit","service":"bendcare-os","env":"development","file":"organization-hierarchy-service.ts","line":62,"function":"OrganizationHierarchyService.getAllOrganizations","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","totalOrganizations":44,"duration":70,"cacheHit":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.137Z","level":"INFO","message":"Organization hierarchy resolved","service":"bendcare-os","env":"development","file":"organization-hierarchy-service.ts","line":156,"function":"OrganizationHierarchyService.getOrganizationHierarchy","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","rootOrganizationId":"[UUID]","rootOrganizationName":"test_org_aJIKO88-","totalOrganizations":1,"includesChildren":false,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.137Z","level":"INFO","message":"Hierarchy practice_uids collected","service":"bendcare-os","env":"development","file":"organization-hierarchy-service.ts","line":200,"function":"OrganizationHierarchyService.getHierarchyPracticeUids","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","organizationId":"[UUID]","hierarchySize":1,"practiceUidCount":0,"practiceUids":[],"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.137Z","level":"INFO","message":"Organization practice_uids resolved for dashboard filter","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":390,"function":"DashboardRenderer.getOrganizationPracticeUids","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":430,"organizationId":"[UUID]","practiceUidCount":0,"practiceUids":[],"includesHierarchy":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.137Z","level":"INFO","message":"Dashboard organization filter processed","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":69,"function":"DashboardRenderer.renderDashboard","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":430,"dashboardId":"[UUID]","organizationId":"[UUID]","practiceUidCount":0,"practiceUids":[],"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "chart_definitions"."data_source", "chart_definitions"."chart_config", "chart_definitions"."access_control", "chart_definitions"."data_source_id", "chart_definitions"."chart_category_id", "chart_definitions"."created_by", "chart_definitions"."created_at", "chart_definitions"."updated_at", "chart_definitions"."is_active", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "chart_definitions" left join "chart_categories" on "chart_definitions"."chart_category_id" = "chart_categories"."chart_category_id" left join "users" on "chart_definitions"."created_by" = "users"."user_id" where "chart_definitions"."chart_definition_id" = $1 limit $2 -- params: ["3b78a662-bee2-4128-a9f4-4b42c74a3ee1", 1]
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "chart_definitions"."data_source", "chart_definitions"."chart_config", "chart_definitions"."access_control", "chart_definitions"."data_source_id", "chart_definitions"."chart_category_id", "chart_definitions"."created_by", "chart_definitions"."created_at", "chart_definitions"."updated_at", "chart_definitions"."is_active", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "chart_definitions" left join "chart_categories" on "chart_definitions"."chart_category_id" = "chart_categories"."chart_category_id" left join "users" on "chart_definitions"."created_by" = "users"."user_id" where "chart_definitions"."chart_definition_id" = $1 limit $2 -- params: ["610281e2-0f74-4bdb-a35c-a99892c74881", 1]
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "chart_definitions"."data_source", "chart_definitions"."chart_config", "chart_definitions"."access_control", "chart_definitions"."data_source_id", "chart_definitions"."chart_category_id", "chart_definitions"."created_by", "chart_definitions"."created_at", "chart_definitions"."updated_at", "chart_definitions"."is_active", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "chart_definitions" left join "chart_categories" on "chart_definitions"."chart_category_id" = "chart_categories"."chart_category_id" left join "users" on "chart_definitions"."created_by" = "users"."user_id" where "chart_definitions"."chart_definition_id" = $1 limit $2 -- params: ["b0f26439-c29e-4880-8e87-6903e64564de", 1]
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "chart_definitions"."data_source", "chart_definitions"."chart_config", "chart_definitions"."access_control", "chart_definitions"."data_source_id", "chart_definitions"."chart_category_id", "chart_definitions"."created_by", "chart_definitions"."created_at", "chart_definitions"."updated_at", "chart_definitions"."is_active", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "chart_definitions" left join "chart_categories" on "chart_definitions"."chart_category_id" = "chart_categories"."chart_category_id" left join "users" on "chart_definitions"."created_by" = "users"."user_id" where "chart_definitions"."chart_definition_id" = $1 limit $2 -- params: ["b901581f-b268-4065-bb32-58ca7df3f4f7", 1]
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "chart_definitions"."data_source", "chart_definitions"."chart_config", "chart_definitions"."access_control", "chart_definitions"."data_source_id", "chart_definitions"."chart_category_id", "chart_definitions"."created_by", "chart_definitions"."created_at", "chart_definitions"."updated_at", "chart_definitions"."is_active", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "chart_definitions" left join "chart_categories" on "chart_definitions"."chart_category_id" = "chart_categories"."chart_category_id" left join "users" on "chart_definitions"."created_by" = "users"."user_id" where "chart_definitions"."chart_definition_id" = $1 limit $2 -- params: ["6658f797-9ee7-4b3d-99d0-9fb2381e294e", 1]
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "chart_definitions"."data_source", "chart_definitions"."chart_config", "chart_definitions"."access_control", "chart_definitions"."data_source_id", "chart_definitions"."chart_category_id", "chart_definitions"."created_by", "chart_definitions"."created_at", "chart_definitions"."updated_at", "chart_definitions"."is_active", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "chart_definitions" left join "chart_categories" on "chart_definitions"."chart_category_id" = "chart_categories"."chart_category_id" left join "users" on "chart_definitions"."created_by" = "users"."user_id" where "chart_definitions"."chart_definition_id" = $1 limit $2 -- params: ["0028fc86-2082-4522-b52c-673d75e7814f", 1]
Query: select "chart_definitions"."chart_definition_id", "chart_definitions"."chart_name", "chart_definitions"."chart_description", "chart_definitions"."chart_type", "chart_definitions"."data_source", "chart_definitions"."chart_config", "chart_definitions"."access_control", "chart_definitions"."data_source_id", "chart_definitions"."chart_category_id", "chart_definitions"."created_by", "chart_definitions"."created_at", "chart_definitions"."updated_at", "chart_definitions"."is_active", "chart_categories"."chart_category_id", "chart_categories"."category_name", "chart_categories"."category_description", "chart_categories"."parent_category_id", "chart_categories"."created_at", "chart_categories"."updated_at", "users"."user_id", "users"."email", "users"."first_name", "users"."last_name", "users"."password_hash", "users"."email_verified", "users"."is_active", "users"."provider_uid", "users"."created_at", "users"."updated_at", "users"."deleted_at" from "chart_definitions" left join "chart_categories" on "chart_definitions"."chart_category_id" = "chart_categories"."chart_category_id" left join "users" on "chart_definitions"."created_by" = "users"."user_id" where "chart_definitions"."chart_definition_id" = $1 limit $2 -- params: ["a719ba07-2349-42a0-892b-77a8b8ada856", 1]
{"@timestamp":"2025-10-14T12:26:01.158Z","level":"INFO","message":"Dashboard charts loaded","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":119,"function":"DashboardRenderer.renderDashboard","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":451,"dashboardId":"[UUID]","totalCharts":7,"validCharts":7,"chartTypes":["bar","number","dual-axis","progress-bar","table","stacked-bar","horizontal-bar"],"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.158Z","level":"INFO","message":"Batch chart config prepared","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":209,"function":"eval","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":451,"chartId":"[UUID]","chartType":"bar","chartName":"Charges vs Payments","hasGroupBy":true,"groupByValue":"provider_name","hasDualAxisConfig":false,"hasAggregation":false,"runtimeFilterKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.158Z","level":"INFO","message":"Batch chart config prepared","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":209,"function":"eval","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":451,"chartId":"[UUID]","chartType":"number","chartName":"Big Angry","hasGroupBy":false,"hasDualAxisConfig":false,"hasAggregation":false,"runtimeFilterKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.159Z","level":"INFO","message":"Batch chart config prepared","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":209,"function":"eval","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":452,"chartId":"[UUID]","chartType":"dual-axis","chartName":"dual2","hasGroupBy":true,"groupByValue":"practice","hasDualAxisConfig":true,"hasAggregation":false,"runtimeFilterKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.159Z","level":"INFO","message":"Batch chart config prepared","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":209,"function":"eval","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":452,"chartId":"[UUID]","chartType":"progress-bar","chartName":"Prog","hasGroupBy":true,"groupByValue":"entity_name","hasDualAxisConfig":false,"hasAggregation":false,"runtimeFilterKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.159Z","level":"WARN","message":"Skipping table chart in batch rendering","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":138,"function":"eval","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":452,"chartId":"[UUID]","chartName":"Tab1","reason":"table_charts_use_different_endpoint","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.159Z","level":"INFO","message":"Batch chart config prepared","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":209,"function":"eval","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":452,"chartId":"[UUID]","chartType":"stacked-bar","chartName":"Stacked Bar","hasGroupBy":true,"groupByValue":"provider_name","hasDualAxisConfig":false,"hasAggregation":false,"runtimeFilterKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.159Z","level":"INFO","message":"Batch chart config prepared","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":209,"function":"eval","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":452,"chartId":"[UUID]","chartType":"horizontal-bar","chartName":"Charges by Provider","hasGroupBy":true,"groupByValue":"provider_name","hasDualAxisConfig":false,"hasAggregation":false,"runtimeFilterKeys":"[REDACTED]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.159Z","level":"INFO","message":"Chart configuration resolved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":28,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":452,"chartType":"bar","dataSourceId":1,"hasRuntimeFilters":true,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.159Z","level":"INFO","message":"Chart configuration resolved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":28,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":452,"chartType":"number","dataSourceId":3,"hasRuntimeFilters":true,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.159Z","level":"INFO","message":"Chart configuration resolved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":28,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":452,"chartType":"dual-axis","dataSourceId":3,"hasRuntimeFilters":true,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.159Z","level":"INFO","message":"Chart configuration resolved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":28,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":452,"chartType":"progress-bar","dataSourceId":3,"hasRuntimeFilters":true,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.159Z","level":"INFO","message":"Chart configuration resolved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":28,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":452,"chartType":"stacked-bar","dataSourceId":3,"hasRuntimeFilters":true,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.160Z","level":"INFO","message":"Chart configuration resolved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":28,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":453,"chartType":"horizontal-bar","dataSourceId":1,"hasRuntimeFilters":true,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
Query: select "data_source_id", "data_source_name", "data_source_description", "table_name", "schema_name", "database_type", "connection_config", "is_active", "requires_auth", "created_at", "updated_at", "created_by" from "chart_data_sources" where "chart_data_sources"."data_source_id" = $1 -- params: [1]
Query: select "data_source_id", "data_source_name", "data_source_description", "table_name", "schema_name", "database_type", "connection_config", "is_active", "requires_auth", "created_at", "updated_at", "created_by" from "chart_data_sources" where "chart_data_sources"."data_source_id" = $1 -- params: [3]
Query: select "data_source_id", "data_source_name", "data_source_description", "table_name", "schema_name", "database_type", "connection_config", "is_active", "requires_auth", "created_at", "updated_at", "created_by" from "chart_data_sources" where "chart_data_sources"."data_source_id" = $1 -- params: [3]
Query: select "data_source_id", "data_source_name", "data_source_description", "table_name", "schema_name", "database_type", "connection_config", "is_active", "requires_auth", "created_at", "updated_at", "created_by" from "chart_data_sources" where "chart_data_sources"."data_source_id" = $1 -- params: [3]
Query: select "data_source_id", "data_source_name", "data_source_description", "table_name", "schema_name", "database_type", "connection_config", "is_active", "requires_auth", "created_at", "updated_at", "created_by" from "chart_data_sources" where "chart_data_sources"."data_source_id" = $1 -- params: [3]
Query: select "data_source_id", "data_source_name", "data_source_description", "table_name", "schema_name", "database_type", "connection_config", "is_active", "requires_auth", "created_at", "updated_at", "created_by" from "chart_data_sources" where "chart_data_sources"."data_source_id" = $1 -- params: [1]
Query: select count(*) from "chart_data_source_columns" where ("chart_data_source_columns"."data_source_id" = $1 and "chart_data_source_columns"."is_active" = $2) -- params: [3, true]
Query: select count(*) from "chart_data_source_columns" where ("chart_data_source_columns"."data_source_id" = $1 and "chart_data_source_columns"."is_active" = $2) -- params: [1, true]
Query: select count(*) from "chart_data_source_columns" where ("chart_data_source_columns"."data_source_id" = $1 and "chart_data_source_columns"."is_active" = $2) -- params: [3, true]
Query: select count(*) from "chart_data_source_columns" where ("chart_data_source_columns"."data_source_id" = $1 and "chart_data_source_columns"."is_active" = $2) -- params: [3, true]
Query: select count(*) from "chart_data_source_columns" where ("chart_data_source_columns"."data_source_id" = $1 and "chart_data_source_columns"."is_active" = $2) -- params: [3, true]
Query: select count(*) from "chart_data_source_columns" where ("chart_data_source_columns"."data_source_id" = $1 and "chart_data_source_columns"."is_active" = $2) -- params: [1, true]
{"@timestamp":"2025-10-14T12:26:01.165Z","level":"INFO","message":"Data source access check passed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":207,"function":"ChartDataOrchestrator.verifyDataSourceAccess","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":458,"dataSourceId":3,"dataSourceName":"App Measures with Entities","userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.165Z","level":"INFO","message":"Data source access verified","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":36,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":458,"dataSourceId":3,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.165Z","level":"INFO","message":"Runtime filters merged","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":42,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":458,"chartType":"progress-bar","hasStartDate":true,"hasEndDate":true,"hasPracticeUid":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.165Z","level":"INFO","message":"Chart handler retrieved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":55,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":458,"chartType":"progress-bar","handlerType":"progress-bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.165Z","level":"INFO","message":"Chart configuration validated","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":64,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":458,"chartType":"progress-bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.165Z","level":"INFO","message":"User has analytics:read:all - no practice_uid filtering","service":"bendcare-os","env":"development","file":"organization-access-service.ts","line":64,"function":"OrganizationAccessService.getAccessiblePracticeUids","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":458,"userId":"[UUID]","permissionScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.166Z","level":"DEBUG","message":"Chart security context built","service":"bendcare-os","env":"development","file":"base-handler.ts","line":203,"function":"ProgressBarChartHandler.buildChartContext","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","userId":"[UUID]","permissionScope":"all","practiceUidCount":0,"providerUid":null,"includesHierarchy":false,"organizationCount":0,"duration":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.166Z","level":"INFO","message":"Fetching chart data with security context","service":"bendcare-os","env":"development","file":"base-handler.ts","line":45,"function":"ProgressBarChartHandler.fetchData","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":459,"chartType":"progress-bar","dataSourceId":3,"userId":"[UUID]","permissionScope":"all","practiceUidCount":0,"providerUidCount":0,"includesHierarchy":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.166Z","level":"INFO","message":"Building analytics query","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":266,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":459,"params":{"data_source_id":3,"start_date":"2025-01-01","end_date":"2025-10-14","limit":10000,"measure":"Top Procedures","frequency":"Monthly","advanced_filters":[]},"userId":"[UUID]","contextPractices":[],"contextProviders":[],"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.166Z","level":"INFO","message":"Data source access check passed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":207,"function":"ChartDataOrchestrator.verifyDataSourceAccess","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":459,"dataSourceId":3,"dataSourceName":"App Measures with Entities","userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.166Z","level":"INFO","message":"Data source access verified","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":36,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":459,"dataSourceId":3,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.166Z","level":"INFO","message":"Runtime filters merged","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":42,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":459,"chartType":"number","hasStartDate":true,"hasEndDate":true,"hasPracticeUid":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.166Z","level":"INFO","message":"Chart handler retrieved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":55,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":459,"chartType":"number","handlerType":"number","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.166Z","level":"INFO","message":"Chart configuration validated","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":64,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":459,"chartType":"number","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.167Z","level":"INFO","message":"User has analytics:read:all - no practice_uid filtering","service":"bendcare-os","env":"development","file":"organization-access-service.ts","line":64,"function":"OrganizationAccessService.getAccessiblePracticeUids","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":460,"userId":"[UUID]","permissionScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.167Z","level":"DEBUG","message":"Chart security context built","service":"bendcare-os","env":"development","file":"base-handler.ts","line":203,"function":"MetricChartHandler.buildChartContext","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","userId":"[UUID]","permissionScope":"all","practiceUidCount":0,"providerUid":null,"includesHierarchy":false,"organizationCount":0,"duration":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.167Z","level":"INFO","message":"Fetching chart data with security context","service":"bendcare-os","env":"development","file":"base-handler.ts","line":45,"function":"MetricChartHandler.fetchData","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":460,"chartType":"number","dataSourceId":3,"userId":"[UUID]","permissionScope":"all","practiceUidCount":0,"providerUidCount":0,"includesHierarchy":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.167Z","level":"INFO","message":"Building analytics query","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":266,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":460,"params":{"data_source_id":3,"start_date":"2025-01-01","end_date":"2025-10-14","limit":10000,"measure":"Cash Transfer","frequency":"Monthly","advanced_filters":[]},"userId":"[UUID]","contextPractices":[],"contextProviders":[],"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.167Z","level":"INFO","message":"Data source access check passed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":207,"function":"ChartDataOrchestrator.verifyDataSourceAccess","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":460,"dataSourceId":1,"dataSourceName":"Practice Analytics","userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.167Z","level":"INFO","message":"Data source access verified","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":36,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":460,"dataSourceId":1,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.167Z","level":"INFO","message":"Runtime filters merged","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":42,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":460,"chartType":"bar","hasStartDate":true,"hasEndDate":true,"hasPracticeUid":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.167Z","level":"INFO","message":"Chart handler retrieved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":55,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":460,"chartType":"bar","handlerType":"bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.167Z","level":"INFO","message":"Chart configuration validated","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":64,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":460,"chartType":"bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.167Z","level":"INFO","message":"User has analytics:read:all - no practice_uid filtering","service":"bendcare-os","env":"development","file":"organization-access-service.ts","line":64,"function":"OrganizationAccessService.getAccessiblePracticeUids","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":460,"userId":"[UUID]","permissionScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.167Z","level":"DEBUG","message":"Chart security context built","service":"bendcare-os","env":"development","file":"base-handler.ts","line":203,"function":"BarChartHandler.buildChartContext","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","userId":"[UUID]","permissionScope":"all","practiceUidCount":0,"providerUid":null,"includesHierarchy":false,"organizationCount":0,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.167Z","level":"INFO","message":"Fetching chart data with security context","service":"bendcare-os","env":"development","file":"base-handler.ts","line":45,"function":"BarChartHandler.fetchData","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":460,"chartType":"bar","dataSourceId":1,"userId":"[UUID]","permissionScope":"all","practiceUidCount":0,"providerUidCount":0,"includesHierarchy":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.167Z","level":"INFO","message":"Building efficient multiple series analytics query","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":574,"function":"AnalyticsQueryBuilder.queryMultipleSeries","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":460,"seriesCount":2,"measures":["Charges by Provider","Payments by Provider"],"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.168Z","level":"INFO","message":"Data source access check passed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":207,"function":"ChartDataOrchestrator.verifyDataSourceAccess","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":461,"dataSourceId":3,"dataSourceName":"App Measures with Entities","userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.168Z","level":"INFO","message":"Data source access verified","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":36,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":461,"dataSourceId":3,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.168Z","level":"INFO","message":"Runtime filters merged","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":42,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":461,"chartType":"dual-axis","hasStartDate":true,"hasEndDate":true,"hasPracticeUid":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.168Z","level":"INFO","message":"Chart handler retrieved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":55,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":461,"chartType":"dual-axis","handlerType":"dual-axis","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.168Z","level":"INFO","message":"Chart configuration validated","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":64,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":461,"chartType":"dual-axis","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.168Z","level":"INFO","message":"Fetching dual-axis data in parallel","service":"bendcare-os","env":"development","file":"combo-handler.ts","line":45,"function":"ComboChartHandler.fetchData","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":461,"chartType":"dual-axis","primaryMeasure":"Cancellations","secondaryMeasure":"Cash Transfer","userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.168Z","level":"INFO","message":"User has analytics:read:all - no practice_uid filtering","service":"bendcare-os","env":"development","file":"organization-access-service.ts","line":64,"function":"OrganizationAccessService.getAccessiblePracticeUids","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":461,"userId":"[UUID]","permissionScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.168Z","level":"INFO","message":"User has analytics:read:all - no practice_uid filtering","service":"bendcare-os","env":"development","file":"organization-access-service.ts","line":64,"function":"OrganizationAccessService.getAccessiblePracticeUids","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":461,"userId":"[UUID]","permissionScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.169Z","level":"DEBUG","message":"Chart security context built","service":"bendcare-os","env":"development","file":"base-handler.ts","line":203,"function":"ComboChartHandler.buildChartContext","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","userId":"[UUID]","permissionScope":"all","practiceUidCount":0,"providerUid":null,"includesHierarchy":false,"organizationCount":0,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.169Z","level":"DEBUG","message":"Chart security context built","service":"bendcare-os","env":"development","file":"base-handler.ts","line":203,"function":"ComboChartHandler.buildChartContext","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","userId":"[UUID]","permissionScope":"all","practiceUidCount":0,"providerUid":null,"includesHierarchy":false,"organizationCount":0,"duration":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.169Z","level":"INFO","message":"Fetching chart data with security context","service":"bendcare-os","env":"development","file":"base-handler.ts","line":45,"function":"ComboChartHandler.fetchData","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":462,"chartType":"dual-axis","dataSourceId":3,"userId":"[UUID]","permissionScope":"all","practiceUidCount":0,"providerUidCount":0,"includesHierarchy":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.169Z","level":"INFO","message":"Building analytics query","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":266,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":462,"params":{"data_source_id":3,"start_date":"2025-01-01","end_date":"2025-10-14","limit":10000,"measure":"Cancellations","frequency":"Monthly","advanced_filters":[]},"userId":"[UUID]","contextPractices":[],"contextProviders":[],"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.169Z","level":"INFO","message":"Fetching chart data with security context","service":"bendcare-os","env":"development","file":"base-handler.ts","line":45,"function":"ComboChartHandler.fetchData","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":462,"chartType":"dual-axis","dataSourceId":3,"userId":"[UUID]","permissionScope":"all","practiceUidCount":0,"providerUidCount":0,"includesHierarchy":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.169Z","level":"INFO","message":"Building analytics query","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":266,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":462,"params":{"data_source_id":3,"start_date":"2025-01-01","end_date":"2025-10-14","limit":10000,"measure":"Cash Transfer","frequency":"Monthly","advanced_filters":[]},"userId":"[UUID]","contextPractices":[],"contextProviders":[],"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.169Z","level":"INFO","message":"Data source access check passed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":207,"function":"ChartDataOrchestrator.verifyDataSourceAccess","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":462,"dataSourceId":3,"dataSourceName":"App Measures with Entities","userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.169Z","level":"INFO","message":"Data source access verified","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":36,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":462,"dataSourceId":3,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.169Z","level":"INFO","message":"Runtime filters merged","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":42,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":462,"chartType":"stacked-bar","hasStartDate":true,"hasEndDate":true,"hasPracticeUid":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.169Z","level":"DEBUG","message":"Handler found via canHandle() method","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":52,"function":"ChartTypeRegistry.getHandler","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":462,"chartType":"stacked-bar","handlerType":"bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.169Z","level":"INFO","message":"Chart handler retrieved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":55,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":462,"chartType":"stacked-bar","handlerType":"bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.169Z","level":"INFO","message":"Chart configuration validated","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":64,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":462,"chartType":"stacked-bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.170Z","level":"INFO","message":"User has analytics:read:all - no practice_uid filtering","service":"bendcare-os","env":"development","file":"organization-access-service.ts","line":64,"function":"OrganizationAccessService.getAccessiblePracticeUids","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":463,"userId":"[UUID]","permissionScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.170Z","level":"DEBUG","message":"Chart security context built","service":"bendcare-os","env":"development","file":"base-handler.ts","line":203,"function":"BarChartHandler.buildChartContext","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","userId":"[UUID]","permissionScope":"all","practiceUidCount":0,"providerUid":null,"includesHierarchy":false,"organizationCount":0,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.170Z","level":"INFO","message":"Fetching chart data with security context","service":"bendcare-os","env":"development","file":"base-handler.ts","line":45,"function":"BarChartHandler.fetchData","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":463,"chartType":"bar","dataSourceId":3,"userId":"[UUID]","permissionScope":"all","practiceUidCount":0,"providerUidCount":0,"includesHierarchy":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.170Z","level":"INFO","message":"Building analytics query","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":266,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":463,"params":{"data_source_id":3,"start_date":"2025-01-01","end_date":"2025-10-14","limit":10000,"measure":"Cash Transfer","frequency":"Monthly","advanced_filters":[]},"userId":"[UUID]","contextPractices":[],"contextProviders":[],"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.170Z","level":"INFO","message":"Data source access check passed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":207,"function":"ChartDataOrchestrator.verifyDataSourceAccess","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":463,"dataSourceId":1,"dataSourceName":"Practice Analytics","userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.170Z","level":"INFO","message":"Data source access verified","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":36,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":463,"dataSourceId":1,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.170Z","level":"INFO","message":"Runtime filters merged","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":42,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":463,"chartType":"horizontal-bar","hasStartDate":true,"hasEndDate":true,"hasPracticeUid":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.170Z","level":"DEBUG","message":"Handler found via canHandle() method","service":"bendcare-os","env":"development","file":"chart-type-registry.ts","line":52,"function":"ChartTypeRegistry.getHandler","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":463,"chartType":"horizontal-bar","handlerType":"bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.170Z","level":"INFO","message":"Chart handler retrieved","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":55,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":463,"chartType":"horizontal-bar","handlerType":"bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.170Z","level":"INFO","message":"Chart configuration validated","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":64,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":463,"chartType":"horizontal-bar","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.170Z","level":"INFO","message":"User has analytics:read:all - no practice_uid filtering","service":"bendcare-os","env":"development","file":"organization-access-service.ts","line":64,"function":"OrganizationAccessService.getAccessiblePracticeUids","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":463,"userId":"[UUID]","permissionScope":"all","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.170Z","level":"DEBUG","message":"Chart security context built","service":"bendcare-os","env":"development","file":"base-handler.ts","line":203,"function":"BarChartHandler.buildChartContext","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","userId":"[UUID]","permissionScope":"all","practiceUidCount":0,"providerUid":null,"includesHierarchy":false,"organizationCount":0,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.170Z","level":"INFO","message":"Fetching chart data with security context","service":"bendcare-os","env":"development","file":"base-handler.ts","line":45,"function":"BarChartHandler.fetchData","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":463,"chartType":"bar","dataSourceId":1,"userId":"[UUID]","permissionScope":"all","practiceUidCount":0,"providerUidCount":0,"includesHierarchy":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.171Z","level":"INFO","message":"Building analytics query","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":266,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":464,"params":{"data_source_id":1,"start_date":"2025-01-01","end_date":"2025-10-14","limit":10000,"measure":"Charges by Provider","frequency":"Monthly","advanced_filters":[]},"userId":"[UUID]","contextPractices":[],"contextProviders":[],"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.229Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":522,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.229Z","level":"INFO","message":"Super admin access - no practice_uid filtering applied","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":160,"function":"AnalyticsQueryBuilder.buildWhereClause","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":522,"userId":"[UUID]","permissionScope":"all","filterType":"none","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
ðŸ” EXECUTING SQL: {
  sql: '\n' +
    '        SELECT id, practice_uid, practice, practice_primary, provider_uid, provider_name, entity_type, entity_id, entity_name, measure, measure_type as measure_type, time_period as frequency, date_value as date_index, display_date, numeric_value as measure_value, text_value, metadata, created_at\n' +
    '        FROM ih.agg_chart_data\n' +
    '        WHERE measure = $1 AND time_period = $2 AND date_value >= $3 AND date_value <= $4\n' +
    '        ORDER BY date_value ASC\n' +
    '      ',
  parameters: [ 'Top Procedures', 'Monthly', '2025-01-01', '2025-10-14' ],
  paramCount: 4
}
{"@timestamp":"2025-10-14T12:26:01.232Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":525,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.232Z","level":"INFO","message":"Super admin access - no practice_uid filtering applied","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":160,"function":"AnalyticsQueryBuilder.buildWhereClause","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":525,"userId":"[UUID]","permissionScope":"all","filterType":"none","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
ðŸ” EXECUTING SQL: {
  sql: '\n' +
    '        SELECT id, practice_uid, practice, practice_primary, provider_uid, provider_name, entity_type, entity_id, entity_name, measure, measure_type as measure_type, time_period as frequency, date_value as date_index, display_date, numeric_value as measure_value, text_value, metadata, created_at\n' +
    '        FROM ih.agg_chart_data\n' +
    '        WHERE measure = $1 AND time_period = $2 AND date_value >= $3 AND date_value <= $4\n' +
    '        ORDER BY date_value ASC\n' +
    '      ',
  parameters: [ 'Cash Transfer', 'Monthly', '2025-01-01', '2025-10-14' ],
  paramCount: 4
}
{"@timestamp":"2025-10-14T12:26:01.233Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":526,"component":"chart-config-cache","dataSourceId":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.233Z","level":"INFO","message":"Super admin access - no practice_uid filtering applied","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":160,"function":"AnalyticsQueryBuilder.buildWhereClause","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":526,"userId":"[UUID]","permissionScope":"all","filterType":"none","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
ðŸ” EXECUTING SQL: {
  sql: '\n' +
    '      SELECT practice, practice_primary, practice_uid, provider_name, measure, frequency as frequency, date_index as date_index, measure_value as measure_value, measure_type as measure_type\n' +
    '      FROM ih.agg_app_measures\n' +
    '      WHERE measure = ANY($1) AND frequency = $2 AND date_index >= $3 AND date_index <= $4\n' +
    '      ORDER BY measure, date_index ASC\n' +
    '    ',
  parameters: [
    [ 'Charges by Provider', 'Payments by Provider' ],
    'Monthly',
    '2025-01-01',
    '2025-10-14'
  ],
  paramCount: 4
}
{"@timestamp":"2025-10-14T12:26:01.233Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":526,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.233Z","level":"INFO","message":"Super admin access - no practice_uid filtering applied","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":160,"function":"AnalyticsQueryBuilder.buildWhereClause","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":526,"userId":"[UUID]","permissionScope":"all","filterType":"none","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
ðŸ” EXECUTING SQL: {
  sql: '\n' +
    '        SELECT id, practice_uid, practice, practice_primary, provider_uid, provider_name, entity_type, entity_id, entity_name, measure, measure_type as measure_type, time_period as frequency, date_value as date_index, display_date, numeric_value as measure_value, text_value, metadata, created_at\n' +
    '        FROM ih.agg_chart_data\n' +
    '        WHERE measure = $1 AND time_period = $2 AND date_value >= $3 AND date_value <= $4\n' +
    '        ORDER BY date_value ASC\n' +
    '      ',
  parameters: [ 'Cancellations', 'Monthly', '2025-01-01', '2025-10-14' ],
  paramCount: 4
}
{"@timestamp":"2025-10-14T12:26:01.263Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":556,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.263Z","level":"INFO","message":"Super admin access - no practice_uid filtering applied","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":160,"function":"AnalyticsQueryBuilder.buildWhereClause","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":556,"userId":"[UUID]","permissionScope":"all","filterType":"none","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
ðŸ” EXECUTING SQL: {
  sql: '\n' +
    '        SELECT id, practice_uid, practice, practice_primary, provider_uid, provider_name, entity_type, entity_id, entity_name, measure, measure_type as measure_type, time_period as frequency, date_value as date_index, display_date, numeric_value as measure_value, text_value, metadata, created_at\n' +
    '        FROM ih.agg_chart_data\n' +
    '        WHERE measure = $1 AND time_period = $2 AND date_value >= $3 AND date_value <= $4\n' +
    '        ORDER BY date_value ASC\n' +
    '      ',
  parameters: [ 'Cash Transfer', 'Monthly', '2025-01-01', '2025-10-14' ],
  paramCount: 4
}
{"@timestamp":"2025-10-14T12:26:01.264Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":557,"component":"chart-config-cache","dataSourceId":3,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.264Z","level":"INFO","message":"Super admin access - no practice_uid filtering applied","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":160,"function":"AnalyticsQueryBuilder.buildWhereClause","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":557,"userId":"[UUID]","permissionScope":"all","filterType":"none","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
ðŸ” EXECUTING SQL: {
  sql: '\n' +
    '        SELECT id, practice_uid, practice, practice_primary, provider_uid, provider_name, entity_type, entity_id, entity_name, measure, measure_type as measure_type, time_period as frequency, date_value as date_index, display_date, numeric_value as measure_value, text_value, metadata, created_at\n' +
    '        FROM ih.agg_chart_data\n' +
    '        WHERE measure = $1 AND time_period = $2 AND date_value >= $3 AND date_value <= $4\n' +
    '        ORDER BY date_value ASC\n' +
    '      ',
  parameters: [ 'Cash Transfer', 'Monthly', '2025-01-01', '2025-10-14' ],
  paramCount: 4
}
{"@timestamp":"2025-10-14T12:26:01.264Z","level":"DEBUG","message":"Data source config cache hit","service":"bendcare-os","env":"development","file":"chart-config-cache.ts","line":50,"function":"ChartConfigCacheService.getDataSourceConfig","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":557,"component":"chart-config-cache","dataSourceId":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:01.264Z","level":"INFO","message":"Super admin access - no practice_uid filtering applied","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":160,"function":"AnalyticsQueryBuilder.buildWhereClause","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":557,"userId":"[UUID]","permissionScope":"all","filterType":"none","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
ðŸ” EXECUTING SQL: {
  sql: '\n' +
    '        SELECT practice, practice_primary, practice_uid, provider_name, measure, frequency as frequency, date_index as date_index, measure_value as measure_value, measure_type as measure_type\n' +
    '        FROM ih.agg_app_measures\n' +
    '        WHERE measure = $1 AND frequency = $2 AND date_index >= $3 AND date_index <= $4\n' +
    '        ORDER BY date_index ASC\n' +
    '      ',
  parameters: [ 'Charges by Provider', 'Monthly', '2025-01-01', '2025-10-14' ],
  paramCount: 4
}
âœ… QUERY RESULT: {
  duration: '910ms',
  rowCount: 46,
  sampleData: {
    id: 22824,
    practice_uid: 114,
    practice: 'Family Arthritis Center',
    practice_primary: 'Busch, Howard',
    provider_uid: 145,
    provider_name: 'Busch-Feuer, Rachael',
    entity_type: 'Provider',
    entity_id: '145',
    entity_name: 'Busch-Feuer, Rachael',
    measure: 'Cash Transfer',
    measure_type: 'currency',
    frequency: 'Monthly',
    date_index: '2025-01-31',
    display_date: 'January 2025',
    measure_value: '143781.79',
    text_value: null,
    metadata: null,
    created_at: '2025-10-08 13:01:26.748293+00'
  }
}
ðŸ” EXECUTING SQL: {
  sql: '\n' +
    '        SELECT\n' +
    '          CASE\n' +
    "            WHEN measure_type = 'currency' THEN SUM(numeric_value)::text\n" +
    '            ELSE COUNT(*)::text\n' +
    '          END as total,\n' +
    '          measure_type as measure_type\n' +
    '        FROM ih.agg_chart_data\n' +
    '        WHERE measure = $1 AND time_period = $2 AND date_value >= $3 AND date_value <= $4\n' +
    '        GROUP BY measure_type\n' +
    '      ',
  parameters: [ 'Cash Transfer', 'Monthly', '2025-01-01', '2025-10-14' ],
  paramCount: 4
}
âœ… QUERY RESULT: {
  duration: '885ms',
  rowCount: 46,
  sampleData: {
    id: 22824,
    practice_uid: 114,
    practice: 'Family Arthritis Center',
    practice_primary: 'Busch, Howard',
    provider_uid: 145,
    provider_name: 'Busch-Feuer, Rachael',
    entity_type: 'Provider',
    entity_id: '145',
    entity_name: 'Busch-Feuer, Rachael',
    measure: 'Cash Transfer',
    measure_type: 'currency',
    frequency: 'Monthly',
    date_index: '2025-01-31',
    display_date: 'January 2025',
    measure_value: '143781.79',
    text_value: null,
    metadata: null,
    created_at: '2025-10-08 13:01:26.748293+00'
  }
}
ðŸ” EXECUTING SQL: {
  sql: '\n' +
    '        SELECT\n' +
    '          CASE\n' +
    "            WHEN measure_type = 'currency' THEN SUM(numeric_value)::text\n" +
    '            ELSE COUNT(*)::text\n' +
    '          END as total,\n' +
    '          measure_type as measure_type\n' +
    '        FROM ih.agg_chart_data\n' +
    '        WHERE measure = $1 AND time_period = $2 AND date_value >= $3 AND date_value <= $4\n' +
    '        GROUP BY measure_type\n' +
    '      ',
  parameters: [ 'Cash Transfer', 'Monthly', '2025-01-01', '2025-10-14' ],
  paramCount: 4
}
âœ… QUERY RESULT: {
  duration: '956ms',
  rowCount: 46,
  sampleData: {
    id: 22824,
    practice_uid: 114,
    practice: 'Family Arthritis Center',
    practice_primary: 'Busch, Howard',
    provider_uid: 145,
    provider_name: 'Busch-Feuer, Rachael',
    entity_type: 'Provider',
    entity_id: '145',
    entity_name: 'Busch-Feuer, Rachael',
    measure: 'Cash Transfer',
    measure_type: 'currency',
    frequency: 'Monthly',
    date_index: '2025-01-31',
    display_date: 'January 2025',
    measure_value: '143781.79',
    text_value: null,
    metadata: null,
    created_at: '2025-10-08 13:01:26.748293+00'
  }
}
ðŸ” EXECUTING SQL: {
  sql: '\n' +
    '        SELECT\n' +
    '          CASE\n' +
    "            WHEN measure_type = 'currency' THEN SUM(numeric_value)::text\n" +
    '            ELSE COUNT(*)::text\n' +
    '          END as total,\n' +
    '          measure_type as measure_type\n' +
    '        FROM ih.agg_chart_data\n' +
    '        WHERE measure = $1 AND time_period = $2 AND date_value >= $3 AND date_value <= $4\n' +
    '        GROUP BY measure_type\n' +
    '      ',
  parameters: [ 'Cash Transfer', 'Monthly', '2025-01-01', '2025-10-14' ],
  paramCount: 4
}
âœ… QUERY RESULT: {
  duration: '996ms',
  rowCount: 1501,
  sampleData: {
    practice: 'Arthritis & Rheumatology Care Cente',
    practice_primary: 'Relan, Manish',
    practice_uid: 138,
    provider_name: 'Relan, Manish',
    measure: 'Charges by Provider',
    frequency: 'Monthly',
    date_index: '2025-02-28',
    measure_value: '687699',
    measure_type: 'currency'
  }
}
ðŸ” EXECUTING SQL: {
  sql: '\n' +
    '        SELECT\n' +
    '          CASE\n' +
    "            WHEN measure_type = 'currency' THEN SUM(measure_value)::text\n" +
    '            ELSE COUNT(*)::text\n' +
    '          END as total,\n' +
    '          measure_type as measure_type\n' +
    '        FROM ih.agg_app_measures\n' +
    '        WHERE measure = $1 AND frequency = $2 AND date_index >= $3 AND date_index <= $4\n' +
    '        GROUP BY measure_type\n' +
    '      ',
  parameters: [ 'Charges by Provider', 'Monthly', '2025-01-01', '2025-10-14' ],
  paramCount: 4
}
âœ… QUERY RESULT: {
  duration: '1027ms',
  rowCount: 48,
  sampleData: {
    id: 21626,
    practice_uid: 114,
    practice: 'Family Arthritis Center',
    practice_primary: 'Busch, Howard',
    provider_uid: 420,
    provider_name: 'Ray, Madina',
    entity_type: 'Provider',
    entity_id: '420',
    entity_name: 'Ray, Madina',
    measure: 'Cancellations',
    measure_type: 'count',
    frequency: 'Monthly',
    date_index: '2025-01-31',
    display_date: 'January 2025',
    measure_value: '7.00',
    text_value: null,
    metadata: null,
    created_at: '2025-10-08 13:01:26.224414+00'
  }
}
ðŸ” EXECUTING SQL: {
  sql: '\n' +
    '        SELECT\n' +
    '          CASE\n' +
    "            WHEN measure_type = 'currency' THEN SUM(numeric_value)::text\n" +
    '            ELSE COUNT(*)::text\n' +
    '          END as total,\n' +
    '          measure_type as measure_type\n' +
    '        FROM ih.agg_chart_data\n' +
    '        WHERE measure = $1 AND time_period = $2 AND date_value >= $3 AND date_value <= $4\n' +
    '        GROUP BY measure_type\n' +
    '      ',
  parameters: [ 'Cancellations', 'Monthly', '2025-01-01', '2025-10-14' ],
  paramCount: 4
}
âœ… QUERY RESULT: {
  duration: '1033ms',
  rowCount: 1154,
  sampleData: {
    id: 26467,
    practice_uid: 114,
    practice: 'Family Arthritis Center',
    practice_primary: 'Busch, Howard',
    provider_uid: 420,
    provider_name: 'Ray, Madina',
    entity_type: 'Procedures',
    entity_id: 'J1745',
    entity_name: 'Remicade',
    measure: 'Top Procedures',
    measure_type: 'count',
    frequency: 'Monthly',
    date_index: '2025-01-06',
    display_date: '2025-01-06 00:00:00+00',
    measure_value: '1.00',
    text_value: null,
    metadata: null,
    created_at: '2025-10-08 14:03:21.509173+00'
  }
}
ðŸ” EXECUTING SQL: {
  sql: '\n' +
    '        SELECT\n' +
    '          CASE\n' +
    "            WHEN measure_type = 'currency' THEN SUM(numeric_value)::text\n" +
    '            ELSE COUNT(*)::text\n' +
    '          END as total,\n' +
    '          measure_type as measure_type\n' +
    '        FROM ih.agg_chart_data\n' +
    '        WHERE measure = $1 AND time_period = $2 AND date_value >= $3 AND date_value <= $4\n' +
    '        GROUP BY measure_type\n' +
    '      ',
  parameters: [ 'Top Procedures', 'Monthly', '2025-01-01', '2025-10-14' ],
  paramCount: 4
}
âœ… QUERY RESULT: {
  duration: '157ms',
  rowCount: 1,
  sampleData: { total: '5289376.44', measure_type: 'currency' }
}
{"@timestamp":"2025-10-14T12:26:02.301Z","level":"INFO","message":"Analytics query completed","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":402,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1594,"queryTime":1133,"resultCount":46,"totalCount":5289376,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.301Z","level":"INFO","message":"Chart data fetched successfully","service":"bendcare-os","env":"development","file":"base-handler.ts","line":58,"function":"MetricChartHandler.fetchData","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1594,"chartType":"number","recordCount":46,"queryTimeMs":1133,"fetchDuration":1135,"securityFiltersApplied":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.302Z","level":"INFO","message":"Chart data fetched","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":71,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1595,"chartType":"number","recordCount":46,"fetchDuration":1135,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.302Z","level":"INFO","message":"Transforming metric chart data","service":"bendcare-os","env":"development","file":"metric-handler.ts","line":84,"function":"MetricChartHandler.transform","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1595,"chartType":"number","recordCount":46,"aggregationType":"sum","valueColumn":"measure_value","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.303Z","level":"INFO","message":"Data aggregated","service":"bendcare-os","env":"development","file":"metric-handler.ts","line":68,"function":"MetricChartHandler.aggregateData","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","aggregationType":"sum","valueColumn":"measure_value","valueCount":46,"result":5289376.44,"duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.303Z","level":"INFO","message":"Metric chart data transformed","service":"bendcare-os","env":"development","file":"metric-handler.ts","line":133,"function":"MetricChartHandler.transform","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","chartType":"number","duration":1,"aggregationType":"sum","aggregatedValue":5289376.44,"measureType":"currency","datasetCount":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.303Z","level":"INFO","message":"Chart data transformed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":80,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1596,"chartType":"number","datasetCount":1,"labelCount":0,"transformDuration":1,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.304Z","level":"INFO","message":"Chart data orchestration completed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":111,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1597,"chartType":"number","totalDuration":1145,"fetchDuration":1135,"transformDuration":1,"recordCount":46,"hasColumns":false,"columnCount":0,"hasFormattedData":false,"formattedRowCount":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
âœ… QUERY RESULT: {
  duration: '120ms',
  rowCount: 1,
  sampleData: { total: '5289376.44', measure_type: 'currency' }
}
{"@timestamp":"2025-10-14T12:26:02.341Z","level":"INFO","message":"Analytics query completed","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":402,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1634,"queryTime":1171,"resultCount":46,"totalCount":5289376,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.341Z","level":"INFO","message":"Chart data fetched successfully","service":"bendcare-os","env":"development","file":"base-handler.ts","line":58,"function":"BarChartHandler.fetchData","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1634,"chartType":"bar","recordCount":46,"queryTimeMs":1171,"fetchDuration":1172,"securityFiltersApplied":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.341Z","level":"INFO","message":"Chart data fetched","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":71,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1634,"chartType":"stacked-bar","recordCount":46,"fetchDuration":1172,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.342Z","level":"INFO","message":"Transforming bar chart data","service":"bendcare-os","env":"development","file":"bar-chart-handler.ts","line":41,"function":"BarChartHandler.transform","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1635,"chartType":"stacked-bar","recordCount":46,"groupBy":"provider_name","colorPalette":"blue","stackingMode":"normal","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.350Z","level":"INFO","message":"Bar chart data transformed","service":"bendcare-os","env":"development","file":"bar-chart-handler.ts","line":70,"function":"BarChartHandler.transform","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","chartType":"stacked-bar","duration":8,"datasetCount":6,"labelCount":9,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.350Z","level":"INFO","message":"Chart data transformed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":80,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1643,"chartType":"stacked-bar","datasetCount":6,"labelCount":9,"transformDuration":8,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.351Z","level":"INFO","message":"Chart data orchestration completed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":111,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1644,"chartType":"stacked-bar","totalDuration":1192,"fetchDuration":1172,"transformDuration":8,"recordCount":46,"hasColumns":false,"columnCount":0,"hasFormattedData":false,"formattedRowCount":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
âœ… QUERY RESULT: {
  duration: '203ms',
  rowCount: 1,
  sampleData: { total: '5289376.44', measure_type: 'currency' }
}
{"@timestamp":"2025-10-14T12:26:02.351Z","level":"INFO","message":"Analytics query completed","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":402,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1644,"queryTime":1182,"resultCount":46,"totalCount":5289376,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.351Z","level":"INFO","message":"Chart data fetched successfully","service":"bendcare-os","env":"development","file":"base-handler.ts","line":58,"function":"ComboChartHandler.fetchData","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1644,"chartType":"dual-axis","recordCount":46,"queryTimeMs":1182,"fetchDuration":1183,"securityFiltersApplied":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
âœ… QUERY RESULT: {
  duration: '91ms',
  rowCount: 1,
  sampleData: { total: '1057348789', measure_type: 'currency' }
}
{"@timestamp":"2025-10-14T12:26:02.351Z","level":"INFO","message":"Analytics query completed","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":402,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1644,"queryTime":1181,"resultCount":1501,"totalCount":1057348789,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.351Z","level":"INFO","message":"Chart data fetched successfully","service":"bendcare-os","env":"development","file":"base-handler.ts","line":58,"function":"BarChartHandler.fetchData","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1644,"chartType":"bar","recordCount":1501,"queryTimeMs":1181,"fetchDuration":1181,"securityFiltersApplied":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.351Z","level":"INFO","message":"Chart data fetched","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":71,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1644,"chartType":"horizontal-bar","recordCount":1501,"fetchDuration":1181,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.351Z","level":"INFO","message":"Transforming bar chart data","service":"bendcare-os","env":"development","file":"bar-chart-handler.ts","line":41,"function":"BarChartHandler.transform","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1644,"chartType":"horizontal-bar","recordCount":1501,"groupBy":"provider_name","colorPalette":"purple","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.353Z","level":"INFO","message":"Bar chart data transformed","service":"bendcare-os","env":"development","file":"bar-chart-handler.ts","line":70,"function":"BarChartHandler.transform","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","chartType":"horizontal-bar","duration":2,"datasetCount":1,"labelCount":289,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.353Z","level":"INFO","message":"Chart data transformed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":80,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1646,"chartType":"horizontal-bar","datasetCount":1,"labelCount":289,"transformDuration":2,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.353Z","level":"INFO","message":"Chart data orchestration completed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":111,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1646,"chartType":"horizontal-bar","totalDuration":1194,"fetchDuration":1181,"transformDuration":2,"recordCount":1501,"hasColumns":false,"columnCount":0,"hasFormattedData":false,"formattedRowCount":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
âœ… QUERY RESULT: {
  duration: '116ms',
  rowCount: 1,
  sampleData: { total: '48', measure_type: 'count' }
}
{"@timestamp":"2025-10-14T12:26:02.378Z","level":"INFO","message":"Analytics query completed","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":402,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1671,"queryTime":1208,"resultCount":48,"totalCount":48,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.378Z","level":"INFO","message":"Chart data fetched successfully","service":"bendcare-os","env":"development","file":"base-handler.ts","line":58,"function":"ComboChartHandler.fetchData","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1671,"chartType":"dual-axis","recordCount":48,"queryTimeMs":1208,"fetchDuration":1210,"securityFiltersApplied":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.378Z","level":"INFO","message":"Dual-axis data fetched successfully","service":"bendcare-os","env":"development","file":"combo-handler.ts","line":66,"function":"ComboChartHandler.fetchData","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","primaryCount":48,"secondaryCount":46,"totalCount":94,"duration":1210,"parallelFetch":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.378Z","level":"INFO","message":"Chart data fetched","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":71,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1671,"chartType":"dual-axis","recordCount":94,"fetchDuration":1210,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.378Z","level":"INFO","message":"Dual-axis data transformation completed","service":"bendcare-os","env":"development","file":"combo-handler.ts","line":193,"function":"ComboChartHandler.transform","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","labelCount":9,"primaryDataPoints":48,"secondaryDataPoints":46,"primaryMeasureType":"count","secondaryMeasureType":"currency","duration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.379Z","level":"INFO","message":"Chart data transformed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":80,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1672,"chartType":"dual-axis","datasetCount":2,"labelCount":9,"transformDuration":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.379Z","level":"INFO","message":"Chart data orchestration completed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":111,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1672,"chartType":"dual-axis","totalDuration":1220,"fetchDuration":1210,"transformDuration":0,"recordCount":94,"hasColumns":false,"columnCount":0,"hasFormattedData":false,"formattedRowCount":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
âœ… QUERY RESULT: {
  duration: '253ms',
  rowCount: 1,
  sampleData: { total: '1154', measure_type: 'count' }
}
{"@timestamp":"2025-10-14T12:26:02.518Z","level":"INFO","message":"Analytics query completed","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":402,"function":"AnalyticsQueryBuilder.queryMeasures","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1811,"queryTime":1351,"resultCount":1154,"totalCount":1154,"userId":"[UUID]","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.519Z","level":"INFO","message":"Chart data fetched successfully","service":"bendcare-os","env":"development","file":"base-handler.ts","line":58,"function":"ProgressBarChartHandler.fetchData","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1812,"chartType":"progress-bar","recordCount":1154,"queryTimeMs":1351,"fetchDuration":1353,"securityFiltersApplied":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.519Z","level":"INFO","message":"Chart data fetched","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":71,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1812,"chartType":"progress-bar","recordCount":1154,"fetchDuration":1354,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.520Z","level":"INFO","message":"Transforming progress bar chart data","service":"bendcare-os","env":"development","file":"progress-bar-handler.ts","line":73,"function":"ProgressBarChartHandler.transform","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1813,"recordCount":1154,"aggregationType":"sum","groupBy":"entity_name","hasTarget":false,"valueColumn":"measure_value","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.520Z","level":"DEBUG","message":"Sample raw data records","service":"bendcare-os","env":"development","file":"progress-bar-handler.ts","line":99,"function":"ProgressBarChartHandler.transform","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1813,"sampleCount":3,"samples":[{"groupBy":"Remicade","valueColumn":"1.00","valueType":"string"},{"groupBy":"Orencia","valueColumn":"2.00","valueType":"string"},{"groupBy":"Saphnelo","valueColumn":"1.00","valueType":"string"}],"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.522Z","level":"INFO","message":"Data grouped for progress bars","service":"bendcare-os","env":"development","file":"progress-bar-handler.ts","line":120,"function":"ProgressBarChartHandler.transform","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1815,"groupCount":10,"groups":["Remicade","Orencia","Saphnelo","Cimzia","Celestone Soluspan","Simponi Aria","Evenity","Actemra","Benlysta","Reclast"],"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.522Z","level":"DEBUG","message":"Data aggregated","service":"bendcare-os","env":"development","file":"progress-bar-handler.ts","line":55,"function":"ProgressBarChartHandler.aggregateData","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1815,"aggregationType":"sum","valueCount":80,"sampleValues":[1,3,4],"result":206,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.523Z","level":"DEBUG","message":"Data aggregated","service":"bendcare-os","env":"development","file":"progress-bar-handler.ts","line":55,"function":"ProgressBarChartHandler.aggregateData","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1816,"aggregationType":"sum","valueCount":138,"sampleValues":[2,2,3],"result":524,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.523Z","level":"DEBUG","message":"Data aggregated","service":"bendcare-os","env":"development","file":"progress-bar-handler.ts","line":55,"function":"ProgressBarChartHandler.aggregateData","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1816,"aggregationType":"sum","valueCount":86,"sampleValues":[1,4,1],"result":157,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.523Z","level":"DEBUG","message":"Data aggregated","service":"bendcare-os","env":"development","file":"progress-bar-handler.ts","line":55,"function":"ProgressBarChartHandler.aggregateData","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1816,"aggregationType":"sum","valueCount":123,"sampleValues":[2,1,5],"result":369,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.523Z","level":"DEBUG","message":"Data aggregated","service":"bendcare-os","env":"development","file":"progress-bar-handler.ts","line":55,"function":"ProgressBarChartHandler.aggregateData","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1816,"aggregationType":"sum","valueCount":101,"sampleValues":[1,3,1],"result":162,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.523Z","level":"DEBUG","message":"Data aggregated","service":"bendcare-os","env":"development","file":"progress-bar-handler.ts","line":55,"function":"ProgressBarChartHandler.aggregateData","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1816,"aggregationType":"sum","valueCount":110,"sampleValues":[2,4,2],"result":392,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.524Z","level":"DEBUG","message":"Data aggregated","service":"bendcare-os","env":"development","file":"progress-bar-handler.ts","line":55,"function":"ProgressBarChartHandler.aggregateData","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1817,"aggregationType":"sum","valueCount":144,"sampleValues":[3,10,4],"result":434,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.524Z","level":"DEBUG","message":"Data aggregated","service":"bendcare-os","env":"development","file":"progress-bar-handler.ts","line":55,"function":"ProgressBarChartHandler.aggregateData","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1817,"aggregationType":"sum","valueCount":157,"sampleValues":[3,11,2],"result":631,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.524Z","level":"DEBUG","message":"Data aggregated","service":"bendcare-os","env":"development","file":"progress-bar-handler.ts","line":55,"function":"ProgressBarChartHandler.aggregateData","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1817,"aggregationType":"sum","valueCount":112,"sampleValues":[8,2,8],"result":497,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.524Z","level":"DEBUG","message":"Data aggregated","service":"bendcare-os","env":"development","file":"progress-bar-handler.ts","line":55,"function":"ProgressBarChartHandler.aggregateData","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1817,"aggregationType":"sum","valueCount":103,"sampleValues":[1,1,2],"result":195,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.524Z","level":"INFO","message":"Dynamic target calculated for progress bars","service":"bendcare-os","env":"development","file":"progress-bar-handler.ts","line":137,"function":"ProgressBarChartHandler.transform","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1817,"groupCount":10,"dynamicTarget":3567,"usingDynamicTarget":true,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.525Z","level":"DEBUG","message":"Progress bar groups calculated","service":"bendcare-os","env":"development","file":"progress-bar-handler.ts","line":154,"function":"ProgressBarChartHandler.transform","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1818,"sampleGroups":[{"label":"Actemra","value":631,"percentage":"17.69%"},{"label":"Orencia","value":524,"percentage":"14.69%"},{"label":"Benlysta","value":497,"percentage":"13.93%"}],"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.525Z","level":"INFO","message":"Progress bar chart data transformed","service":"bendcare-os","env":"development","file":"progress-bar-handler.ts","line":184,"function":"ProgressBarChartHandler.transform","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":5,"aggregationType":"sum","groupCount":10,"datasetCount":1,"sampleLabels":["Actemra","Orencia","Benlysta"],"sampleRawValues":[631,524,497],"samplePercentages":[17.689935520044855,14.690215867675919,13.93327726380712],"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.525Z","level":"INFO","message":"Chart data transformed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":80,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1818,"chartType":"progress-bar","datasetCount":1,"labelCount":10,"transformDuration":6,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.525Z","level":"INFO","message":"Chart data orchestration completed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":111,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1818,"chartType":"progress-bar","totalDuration":1366,"fetchDuration":1354,"transformDuration":6,"recordCount":1154,"hasColumns":false,"columnCount":0,"hasFormattedData":false,"formattedRowCount":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
âœ… QUERY RESULT: {
  duration: '1293ms',
  rowCount: 3081,
  sampleData: {
    practice: 'Sierra Pacific Arth Rheumatology Centers',
    practice_primary: 'Watrous, Daniel',
    practice_uid: 56,
    provider_name: 'Scott, Frank',
    measure: 'Charges by Provider',
    frequency: 'Monthly',
    date_index: '2025-02-28',
    measure_value: '269485',
    measure_type: 'currency'
  }
}
ðŸ” EXECUTING SQL: {
  sql: '\n' +
    '      SELECT COUNT(*) as count\n' +
    '      FROM ih.agg_app_measures\n' +
    '      WHERE measure = ANY($1) AND frequency = $2 AND date_index >= $3 AND date_index <= $4\n' +
    '    ',
  parameters: [
    [ 'Charges by Provider', 'Payments by Provider' ],
    'Monthly',
    '2025-01-01',
    '2025-10-14'
  ],
  paramCount: 4
}
âœ… QUERY RESULT: { duration: '70ms', rowCount: 1, sampleData: { count: '3081' } }
{"@timestamp":"2025-10-14T12:26:02.599Z","level":"INFO","message":"Efficient multiple series query completed","service":"bendcare-os","env":"development","file":"analytics-query-builder.ts","line":707,"function":"AnalyticsQueryBuilder.queryMultipleSeries","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1892,"seriesCount":2,"totalRecords":3081,"queryTime":1431,"userId":"[UUID]","measuresQueried":["Charges by Provider","Payments by Provider"],"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.599Z","level":"INFO","message":"Chart data fetched successfully","service":"bendcare-os","env":"development","file":"base-handler.ts","line":58,"function":"BarChartHandler.fetchData","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1892,"chartType":"bar","recordCount":3081,"queryTimeMs":1431,"fetchDuration":1432,"securityFiltersApplied":false,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.599Z","level":"INFO","message":"Chart data fetched","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":71,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1892,"chartType":"bar","recordCount":3081,"fetchDuration":1432,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.600Z","level":"INFO","message":"Transforming bar chart data","service":"bendcare-os","env":"development","file":"bar-chart-handler.ts","line":41,"function":"BarChartHandler.transform","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1893,"chartType":"bar","recordCount":3081,"groupBy":"provider_name","colorPalette":"default","_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.605Z","level":"INFO","message":"Bar chart data transformed","service":"bendcare-os","env":"development","file":"bar-chart-handler.ts","line":70,"function":"BarChartHandler.transform","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","chartType":"bar","duration":6,"datasetCount":2,"labelCount":6,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.606Z","level":"INFO","message":"Chart data transformed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":80,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1899,"chartType":"bar","datasetCount":2,"labelCount":6,"transformDuration":6,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.606Z","level":"INFO","message":"Chart data orchestration completed","service":"bendcare-os","env":"development","file":"chart-data-orchestrator.ts","line":111,"function":"ChartDataOrchestrator.orchestrate","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1899,"chartType":"bar","totalDuration":1448,"fetchDuration":1432,"transformDuration":6,"recordCount":3081,"hasColumns":false,"columnCount":0,"hasFormattedData":false,"formattedRowCount":0,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.606Z","level":"INFO","message":"Dashboard batch render completed","service":"bendcare-os","env":"development","file":"dashboard-renderer.ts","line":285,"function":"DashboardRenderer.renderDashboard","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dashboardId":"[UUID]","chartsRendered":6,"cacheHits":0,"cacheMisses":6,"totalQueryTime":7484,"parallelDuration":1447,"duration":1545,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.607Z","level":"INFO","message":"Dashboard batch render completed","service":"bendcare-os","env":"development","file":"route.ts","line":58,"function":"renderDashboardHandler","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dashboardId":"[UUID]","userId":"[UUID]","component":"analytics","operation":"batch_render","duration":1587,"metrics":{"chartsRendered":6,"queriesExecuted":6,"cacheHits":0,"cacheMisses":6,"cacheHitRate":0,"totalQueryTime":7484,"parallelExecution":true,"filtersApplied":1,"nocache":false},"slow":false,"performance":{"target":2000,"actual":1587,"overTarget":false},"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.615Z","level":"INFO","message":"Handler execution completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":192,"function":"eval","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1594,"userId":"[UUID]","statusCode":200,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
{"@timestamp":"2025-10-14T12:26:02.615Z","level":"INFO","message":"RBAC route completed successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":198,"function":"eval","correlationId":"cor_mgqjcu7c_zfm6tdum","method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1908,"userId":"[UUID]","statusCode":200,"totalDuration":1908,"_contextMetadata":{"method":"POST","path":"/api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render"}}
 POST /api/admin/analytics/dashboard/a0324818-ae41-4bf5-8291-447f30322faa/render 200 in 2829ms
 â—‹ Compiling /api/admin/data-sources/[id]/query ...
 âœ“ Compiled /api/admin/data-sources/[id]/query in 891ms (2672 modules)
{"@timestamp":"2025-10-14T12:26:03.757Z","level":"INFO","message":"GET /api/organizations - RBAC route","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":47,"function":"eval","correlationId":"cor_mgqjcwf6_nytlr538","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"component":"api","request":{},"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-14T12:26:03.758Z","level":"INFO","message":"RBAC route initiated","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":48,"function":"eval","correlationId":"cor_mgqjcwf6_nytlr538","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1,"endpoint":"/api/organizations","requiredPermissions":["organizations:read:own","organizations:read:organization","organizations:read:all"],"requireAllPermissions":false,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-14T12:26:03.801Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgqjcwf6_nytlr538","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":44,"type":"api","identifier":"::1","current":3,"remaining":197,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-14T12:26:03.802Z","level":"INFO","message":"Rate limit check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":61,"function":"eval","correlationId":"cor_mgqjcwf6_nytlr538","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":44,"limitType":"api","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-14T12:26:03.802Z","level":"DEBUG","message":"API auth check initiated","service":"bendcare-os","env":"development","file":"global-auth.ts","line":65,"function":"applyGlobalAuth","correlationId":"cor_mgqjcwf6_nytlr538","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":45,"pathname":"/api/organizations","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-14T12:26:03.836Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgqjcwf6_nytlr538","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":79,"type":"api","identifier":"::1","current":4,"remaining":196,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-14T12:26:03.836Z","level":"DEBUG","message":"Using httpOnly cookie for authentication","service":"bendcare-os","env":"development","file":"global-auth.ts","line":100,"function":"applyGlobalAuth","correlationId":"cor_mgqjcwf6_nytlr538","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":79,"pathname":"/api/organizations","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-14T12:26:03.836Z","level":"DEBUG","message":"Using access token from httpOnly cookie","service":"bendcare-os","env":"development","file":"auth.ts","line":36,"function":"requireAuth","correlationId":"cor_mgqjcwf6_nytlr538","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":79,"component":"auth","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-14T12:26:03.911Z","level":"DEBUG","message":"Loading user context","service":"bendcare-os","env":"development","file":"user-context.ts","line":304,"function":"getUserContextSafe","correlationId":"cor_mgqjcwf6_nytlr538","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":154,"userId":"[UUID]","operation":"getUserContext","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
Query: select "user_id", "email", "first_name", "last_name", "is_active", "email_verified", "created_at", "updated_at" from "users" where "users"."user_id" = $1 limit $2 -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", 1]
Query: select "user_organizations"."user_organization_id", "user_organizations"."user_id", "user_organizations"."organization_id", "user_organizations"."is_active", "user_organizations"."joined_at", "user_organizations"."created_at", "organizations"."name", "organizations"."slug", "organizations"."parent_organization_id", "organizations"."is_active", "organizations"."created_at", "organizations"."updated_at", "organizations"."deleted_at" from "user_organizations" inner join "organizations" on "user_organizations"."organization_id" = "organizations"."organization_id" where ("user_organizations"."user_id" = $1 and "user_organizations"."is_active" = $2 and "organizations"."is_active" = $3) -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", true, true]
Query: select distinct "user_roles"."user_role_id", "user_roles"."user_id", "user_roles"."role_id", "user_roles"."organization_id", "user_roles"."granted_by", "user_roles"."granted_at", "user_roles"."expires_at", "user_roles"."is_active", "user_roles"."created_at", "roles"."name", "roles"."description", "roles"."organization_id", "roles"."is_system_role", "roles"."is_active", "roles"."created_at", "roles"."updated_at", "roles"."deleted_at", "permissions"."permission_id", "permissions"."name", "permissions"."description", "permissions"."resource", "permissions"."action", "permissions"."scope", "permissions"."is_active", "permissions"."created_at", "permissions"."updated_at" from "user_roles" inner join "roles" on "user_roles"."role_id" = "roles"."role_id" inner join "role_permissions" on "roles"."role_id" = "role_permissions"."role_id" inner join "permissions" on "role_permissions"."permission_id" = "permissions"."permission_id" where ("user_roles"."user_id" = $1 and "user_roles"."is_active" = $2 and "roles"."is_active" = $3 and "permissions"."is_active" = $4) -- params: ["cfd640bd-fcb6-4a78-ab0f-0bc8f0ab8d0f", true, true, true]
{"@timestamp":"2025-10-14T12:26:03.924Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"user-context.ts","line":314,"function":"eval","correlationId":"cor_mgqjcwf6_nytlr538","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":167,"userId":"[UUID]","rolesCount":1,"permissionsCount":90,"organizationsCount":0,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-14T12:26:03.924Z","level":"INFO","message":"API authentication successful","service":"bendcare-os","env":"development","file":"global-auth.ts","line":122,"function":"applyGlobalAuth","correlationId":"cor_mgqjcwf6_nytlr538","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","pathname":"/api/organizations","userId":"[UUID]","userEmail":"[REDACTED]","authMethod":"httponly_cookie","duration":88,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-14T12:26:03.924Z","level":"INFO","message":"Global auth check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":71,"function":"eval","correlationId":"cor_mgqjcwf6_nytlr538","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":122,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-14T12:26:03.924Z","level":"DEBUG","message":"Global authentication completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":74,"function":"eval","correlationId":"cor_mgqjcwf6_nytlr538","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":167,"hasSession":true,"hasUser":true,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-14T12:26:03.924Z","level":"INFO","message":"User context retrieved from session","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":132,"function":"eval","correlationId":"cor_mgqjcwf6_nytlr538","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","cached":true,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-14T12:26:03.924Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":154,"function":"eval","correlationId":"cor_mgqjcwf6_nytlr538","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":167,"userId":"[UUID]","roleCount":1,"permissionCount":90,"isSuperAdmin":true,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-14T12:26:03.925Z","level":"INFO","message":"RBAC permission check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":170,"function":"eval","correlationId":"cor_mgqjcwf6_nytlr538","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","permissions":["organizations:read:own","organizations:read:organization","organizations:read:all"],"requireAll":false,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-14T12:26:03.925Z","level":"INFO","message":"RBAC permission check passed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":179,"function":"eval","correlationId":"cor_mgqjcwf6_nytlr538","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":168,"userId":"[UUID]","permissions":["organizations:read:own","organizations:read:organization","organizations:read:all"],"rbacDuration":0,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-14T12:26:03.925Z","level":"INFO","message":"Auth: rbac_check","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":186,"function":"eval","correlationId":"cor_mgqjcwf6_nytlr538","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":168,"component":"auth","action":"rbac_check","success":true,"userId":"[UUID]","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
Query: select "organizations"."organization_id", "organizations"."name", "organizations"."slug", "organizations"."parent_organization_id", "organizations"."is_active", "organizations"."created_at", "organizations"."updated_at", "organizations"."deleted_at", "practices"."practice_id", "practices"."domain", "practices"."status", "practices"."template_id" from "organizations" left join "practices" on "organizations"."organization_id" = "practices"."practice_id" where ("organizations"."is_active" = $1 and "organizations"."deleted_at" is null and "organizations"."is_active" = $2) order by "organizations"."created_at" desc -- params: [true, true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["d9e5bd24-b104-4ff5-a219-678eedb31aaa", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["d9e5bd24-b104-4ff5-a219-678eedb31aaa", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["4e23ee8f-33b1-4a6a-a371-0437d01c40d6", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["4e23ee8f-33b1-4a6a-a371-0437d01c40d6", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["c2fc33f6-1aa3-4f13-af4f-0ba70aa26502", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["c2fc33f6-1aa3-4f13-af4f-0ba70aa26502", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["7b747a0d-9c72-4d28-9f8b-4b4772f1b207", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["7b747a0d-9c72-4d28-9f8b-4b4772f1b207", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["43ca9f7c-ad3d-475c-8488-9f336dfe2670", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["43ca9f7c-ad3d-475c-8488-9f336dfe2670", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["b5555393-4fa7-4c4e-888a-51df14c926fa", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["b5555393-4fa7-4c4e-888a-51df14c926fa", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["782213de-c77c-4d4b-96ec-0ecc726a3a6f", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["782213de-c77c-4d4b-96ec-0ecc726a3a6f", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["e6f56c97-ca51-4ecb-9b8a-7e83b0e92951", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["e6f56c97-ca51-4ecb-9b8a-7e83b0e92951", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["669eb7e0-0e5e-422a-9a96-63f131a6a967", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["669eb7e0-0e5e-422a-9a96-63f131a6a967", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["fcfa2cee-7aa4-425c-857f-f846264cae32", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["fcfa2cee-7aa4-425c-857f-f846264cae32", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["746eed9d-8ba9-4c16-a575-3f7ce9c385af", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["746eed9d-8ba9-4c16-a575-3f7ce9c385af", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["9514bf48-e5d3-4373-ae4e-f98e55e3dd6f", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["9514bf48-e5d3-4373-ae4e-f98e55e3dd6f", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["2ed596e4-e76d-4b18-87d8-73c734b804ca", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["2ed596e4-e76d-4b18-87d8-73c734b804ca", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["b5d849fe-23fc-43aa-bd6d-c3604c802d6a", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["b5d849fe-23fc-43aa-bd6d-c3604c802d6a", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["9229292d-ac42-4db4-b502-e855dbe4226e", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["9229292d-ac42-4db4-b502-e855dbe4226e", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["119c4772-85ac-42c8-bcc9-9c0e2705d788", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["119c4772-85ac-42c8-bcc9-9c0e2705d788", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["b5fbb298-5306-4fe0-9fb8-9f8e58e2c69f", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["b5fbb298-5306-4fe0-9fb8-9f8e58e2c69f", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["f2bb8b5c-3c21-48e3-91d6-8a5c73524255", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["f2bb8b5c-3c21-48e3-91d6-8a5c73524255", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["79314eb5-9667-47cc-920d-ef824c7c7e8e", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["79314eb5-9667-47cc-920d-ef824c7c7e8e", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["a4d679f5-e27c-4641-af35-49de7d472ead", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["a4d679f5-e27c-4641-af35-49de7d472ead", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["8a17c879-6c34-4213-950e-f86b17276c99", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["8a17c879-6c34-4213-950e-f86b17276c99", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["5478581f-b7f2-4a81-95e6-e9b476e85f45", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["5478581f-b7f2-4a81-95e6-e9b476e85f45", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["d2fb3efa-dc52-412d-aa1b-0007263e1e8b", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["d2fb3efa-dc52-412d-aa1b-0007263e1e8b", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["8cf7ab1a-714c-4c15-89fb-be188ac79996", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["8cf7ab1a-714c-4c15-89fb-be188ac79996", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["05fca3fd-38d6-41c2-8343-1035e1f7fde8", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["05fca3fd-38d6-41c2-8343-1035e1f7fde8", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["297bfaba-257b-4566-9146-3de6f69cd311", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["297bfaba-257b-4566-9146-3de6f69cd311", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["42dea213-bad3-41d1-90c5-88da8fd0859c", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["42dea213-bad3-41d1-90c5-88da8fd0859c", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["9b0e28f4-edec-4edf-ab8f-493df3863136", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["9b0e28f4-edec-4edf-ab8f-493df3863136", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["c73ec1e3-f010-437b-82d2-029ba25b188e", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["c73ec1e3-f010-437b-82d2-029ba25b188e", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["aee86b6c-a02d-4522-9d52-e71c15bc80d1", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["aee86b6c-a02d-4522-9d52-e71c15bc80d1", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["a09ec951-85bb-45c6-a62f-a152b4262320", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["a09ec951-85bb-45c6-a62f-a152b4262320", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["fb0a01ea-e3db-4967-93be-0924bd9a380c", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["fb0a01ea-e3db-4967-93be-0924bd9a380c", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["d8f0ef2e-0d4c-4685-85d1-ebcecea39aa3", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["d8f0ef2e-0d4c-4685-85d1-ebcecea39aa3", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["885ccab9-84ae-4cc5-b2e2-782c7b6d3437", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["885ccab9-84ae-4cc5-b2e2-782c7b6d3437", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["a8e277ca-d473-4263-8563-d5c618ae11e0", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["a8e277ca-d473-4263-8563-d5c618ae11e0", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["e917cfd6-ea45-4e32-846f-42a624e77d00", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["e917cfd6-ea45-4e32-846f-42a624e77d00", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["2b670095-76e2-4ef9-a319-9128d703cd64", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["2b670095-76e2-4ef9-a319-9128d703cd64", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["9344cc12-cab3-417a-ba0b-34226ccc430a", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["9344cc12-cab3-417a-ba0b-34226ccc430a", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["60d3139e-5749-427d-b958-7710c823d3f1", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["60d3139e-5749-427d-b958-7710c823d3f1", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["6ba4ff08-2178-4fac-9302-0ef6347ac7e1", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["6ba4ff08-2178-4fac-9302-0ef6347ac7e1", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["0ce0edbe-d3ee-4543-bb9c-3c710450882b", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["0ce0edbe-d3ee-4543-bb9c-3c710450882b", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["7b70e645-82f2-4b18-8b22-db946991f6d5", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["7b70e645-82f2-4b18-8b22-db946991f6d5", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["640c5969-74bc-4189-a455-81bf26f74829", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["640c5969-74bc-4189-a455-81bf26f74829", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["13f5a859-91ba-46ad-a4d1-40fb7a2996f2", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["13f5a859-91ba-46ad-a4d1-40fb7a2996f2", true]
{"@timestamp":"2025-10-14T12:26:03.985Z","level":"INFO","message":"organizations list query completed - returned 44 organizations","service":"bendcare-os","env":"development","file":"route.ts","line":67,"function":"getOrganizationsHandler","correlationId":"cor_mgqjcwf6_nytlr538","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","operation":"list_organizations","resourceType":"organizations","userId":"[UUID]","isSuperAdmin":true,"filters":{"is_active":true},"filterCount":1,"results":{"returned":44,"active":44,"inactive":0,"page":1,"pageSize":10},"sort":{"field":"created_at","direction":"desc"},"duration":59,"slow":false,"component":"business-logic","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-14T12:26:03.985Z","level":"INFO","message":"Handler execution completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":192,"function":"eval","correlationId":"cor_mgqjcwf6_nytlr538","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":60,"userId":"[UUID]","statusCode":200,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-14T12:26:03.985Z","level":"INFO","message":"RBAC route completed successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":198,"function":"eval","correlationId":"cor_mgqjcwf6_nytlr538","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":228,"userId":"[UUID]","statusCode":200,"totalDuration":228,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
 GET /api/organizations?is_active=true 200 in 1326ms
{"@timestamp":"2025-10-14T12:26:04.005Z","level":"INFO","message":"GET /api/organizations - RBAC route","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":47,"function":"eval","correlationId":"cor_mgqjcxg7_jjbf9833","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"component":"api","request":{},"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-14T12:26:04.005Z","level":"INFO","message":"RBAC route initiated","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":48,"function":"eval","correlationId":"cor_mgqjcxg7_jjbf9833","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"endpoint":"/api/organizations","requiredPermissions":["organizations:read:own","organizations:read:organization","organizations:read:all"],"requireAllPermissions":false,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-14T12:26:04.107Z","level":"INFO","message":"GET /api/admin/data-sources/388/query - RBAC route","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":47,"function":"eval","correlationId":"cor_mgqjcwfu_81zcygg3","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"component":"api","request":{},"_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:04.107Z","level":"INFO","message":"RBAC route initiated","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":48,"function":"eval","correlationId":"cor_mgqjcwfu_81zcygg3","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"endpoint":"/api/admin/data-sources/388/query","requiredPermissions":["data-sources:read:organization","data-sources:read:all"],"requireAllPermissions":false,"_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:04.107Z","level":"INFO","message":"GET /api/admin/data-sources/388/query - RBAC route","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":47,"function":"eval","correlationId":"cor_mgqjcwhf_b575m5t1","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"component":"api","request":{},"_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:04.107Z","level":"INFO","message":"RBAC route initiated","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":48,"function":"eval","correlationId":"cor_mgqjcwhf_b575m5t1","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"endpoint":"/api/admin/data-sources/388/query","requiredPermissions":["data-sources:read:organization","data-sources:read:all"],"requireAllPermissions":false,"_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:04.104Z","level":"INFO","message":"Main database connections closed","service":"bendcare-os","env":"development","file":"index.ts","line":154,"function":"process.closeDb"}
{"@timestamp":"2025-10-14T12:26:04.115Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgqjcxg7_jjbf9833","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":110,"type":"api","identifier":"::1","current":5,"remaining":195,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-14T12:26:04.115Z","level":"INFO","message":"Rate limit check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":61,"function":"eval","correlationId":"cor_mgqjcxg7_jjbf9833","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":110,"limitType":"api","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-14T12:26:04.115Z","level":"DEBUG","message":"API auth check initiated","service":"bendcare-os","env":"development","file":"global-auth.ts","line":65,"function":"applyGlobalAuth","correlationId":"cor_mgqjcxg7_jjbf9833","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":110,"pathname":"/api/organizations","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-14T12:26:04.143Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgqjcwfu_81zcygg3","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":36,"type":"api","identifier":"::1","current":6,"remaining":194,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:04.143Z","level":"INFO","message":"Rate limit check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":61,"function":"eval","correlationId":"cor_mgqjcwfu_81zcygg3","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":36,"limitType":"api","_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:04.143Z","level":"DEBUG","message":"API auth check initiated","service":"bendcare-os","env":"development","file":"global-auth.ts","line":65,"function":"applyGlobalAuth","correlationId":"cor_mgqjcwfu_81zcygg3","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":36,"pathname":"/api/admin/data-sources/388/query","_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:04.143Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgqjcwhf_b575m5t1","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":36,"type":"api","identifier":"::1","current":7,"remaining":193,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:04.143Z","level":"INFO","message":"Rate limit check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":61,"function":"eval","correlationId":"cor_mgqjcwhf_b575m5t1","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":36,"limitType":"api","_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:04.143Z","level":"DEBUG","message":"API auth check initiated","service":"bendcare-os","env":"development","file":"global-auth.ts","line":65,"function":"applyGlobalAuth","correlationId":"cor_mgqjcwhf_b575m5t1","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":36,"pathname":"/api/admin/data-sources/388/query","_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:04.152Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgqjcxg7_jjbf9833","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":147,"type":"api","identifier":"::1","current":8,"remaining":192,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-14T12:26:04.152Z","level":"DEBUG","message":"Using httpOnly cookie for authentication","service":"bendcare-os","env":"development","file":"global-auth.ts","line":100,"function":"applyGlobalAuth","correlationId":"cor_mgqjcxg7_jjbf9833","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":147,"pathname":"/api/organizations","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-14T12:26:04.152Z","level":"DEBUG","message":"Using access token from httpOnly cookie","service":"bendcare-os","env":"development","file":"auth.ts","line":36,"function":"requireAuth","correlationId":"cor_mgqjcxg7_jjbf9833","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":147,"component":"auth","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-14T12:26:04.176Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgqjcwfu_81zcygg3","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":69,"type":"api","identifier":"::1","current":9,"remaining":191,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:04.176Z","level":"DEBUG","message":"Using httpOnly cookie for authentication","service":"bendcare-os","env":"development","file":"global-auth.ts","line":100,"function":"applyGlobalAuth","correlationId":"cor_mgqjcwfu_81zcygg3","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":69,"pathname":"/api/admin/data-sources/388/query","_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:04.176Z","level":"DEBUG","message":"Using access token from httpOnly cookie","service":"bendcare-os","env":"development","file":"auth.ts","line":36,"function":"requireAuth","correlationId":"cor_mgqjcwfu_81zcygg3","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":69,"component":"auth","_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:04.177Z","level":"DEBUG","message":"Rate limit check passed","service":"bendcare-os","env":"development","file":"rate-limit.ts","line":94,"function":"applyRateLimit","correlationId":"cor_mgqjcwhf_b575m5t1","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":70,"type":"api","identifier":"::1","current":10,"remaining":190,"limit":200,"_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:04.177Z","level":"DEBUG","message":"Using httpOnly cookie for authentication","service":"bendcare-os","env":"development","file":"global-auth.ts","line":100,"function":"applyGlobalAuth","correlationId":"cor_mgqjcwhf_b575m5t1","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":70,"pathname":"/api/admin/data-sources/388/query","_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:04.177Z","level":"DEBUG","message":"Using access token from httpOnly cookie","service":"bendcare-os","env":"development","file":"auth.ts","line":36,"function":"requireAuth","correlationId":"cor_mgqjcwhf_b575m5t1","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":70,"component":"auth","_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:04.219Z","level":"DEBUG","message":"User context cache hit","service":"bendcare-os","env":"development","file":"user-context.ts","line":288,"function":"getUserContextSafe","correlationId":"cor_mgqjcxg7_jjbf9833","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":214,"userId":"[UUID]","operation":"getUserContext","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-14T12:26:04.219Z","level":"INFO","message":"API authentication successful","service":"bendcare-os","env":"development","file":"global-auth.ts","line":122,"function":"applyGlobalAuth","correlationId":"cor_mgqjcxg7_jjbf9833","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","pathname":"/api/organizations","userId":"[UUID]","userEmail":"[REDACTED]","authMethod":"httponly_cookie","duration":67,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-14T12:26:04.220Z","level":"INFO","message":"Global auth check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":71,"function":"eval","correlationId":"cor_mgqjcxg7_jjbf9833","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":104,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-14T12:26:04.220Z","level":"DEBUG","message":"Global authentication completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":74,"function":"eval","correlationId":"cor_mgqjcxg7_jjbf9833","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":215,"hasSession":true,"hasUser":true,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-14T12:26:04.220Z","level":"INFO","message":"User context retrieved from session","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":132,"function":"eval","correlationId":"cor_mgqjcxg7_jjbf9833","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","cached":true,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-14T12:26:04.220Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":154,"function":"eval","correlationId":"cor_mgqjcxg7_jjbf9833","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":215,"userId":"[UUID]","roleCount":1,"permissionCount":90,"isSuperAdmin":true,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-14T12:26:04.220Z","level":"INFO","message":"RBAC permission check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":170,"function":"eval","correlationId":"cor_mgqjcxg7_jjbf9833","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","permissions":["organizations:read:own","organizations:read:organization","organizations:read:all"],"requireAll":false,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-14T12:26:04.220Z","level":"INFO","message":"RBAC permission check passed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":179,"function":"eval","correlationId":"cor_mgqjcxg7_jjbf9833","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":215,"userId":"[UUID]","permissions":["organizations:read:own","organizations:read:organization","organizations:read:all"],"rbacDuration":0,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-14T12:26:04.220Z","level":"INFO","message":"Auth: rbac_check","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":186,"function":"eval","correlationId":"cor_mgqjcxg7_jjbf9833","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":215,"component":"auth","action":"rbac_check","success":true,"userId":"[UUID]","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
Query: select "organizations"."organization_id", "organizations"."name", "organizations"."slug", "organizations"."parent_organization_id", "organizations"."is_active", "organizations"."created_at", "organizations"."updated_at", "organizations"."deleted_at", "practices"."practice_id", "practices"."domain", "practices"."status", "practices"."template_id" from "organizations" left join "practices" on "organizations"."organization_id" = "practices"."practice_id" where ("organizations"."is_active" = $1 and "organizations"."deleted_at" is null and "organizations"."is_active" = $2) order by "organizations"."created_at" desc -- params: [true, true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["d9e5bd24-b104-4ff5-a219-678eedb31aaa", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["d9e5bd24-b104-4ff5-a219-678eedb31aaa", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["4e23ee8f-33b1-4a6a-a371-0437d01c40d6", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["4e23ee8f-33b1-4a6a-a371-0437d01c40d6", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["c2fc33f6-1aa3-4f13-af4f-0ba70aa26502", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["c2fc33f6-1aa3-4f13-af4f-0ba70aa26502", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["7b747a0d-9c72-4d28-9f8b-4b4772f1b207", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["7b747a0d-9c72-4d28-9f8b-4b4772f1b207", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["43ca9f7c-ad3d-475c-8488-9f336dfe2670", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["43ca9f7c-ad3d-475c-8488-9f336dfe2670", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["b5555393-4fa7-4c4e-888a-51df14c926fa", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["b5555393-4fa7-4c4e-888a-51df14c926fa", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["782213de-c77c-4d4b-96ec-0ecc726a3a6f", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["782213de-c77c-4d4b-96ec-0ecc726a3a6f", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["e6f56c97-ca51-4ecb-9b8a-7e83b0e92951", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["e6f56c97-ca51-4ecb-9b8a-7e83b0e92951", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["669eb7e0-0e5e-422a-9a96-63f131a6a967", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["669eb7e0-0e5e-422a-9a96-63f131a6a967", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["fcfa2cee-7aa4-425c-857f-f846264cae32", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["fcfa2cee-7aa4-425c-857f-f846264cae32", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["746eed9d-8ba9-4c16-a575-3f7ce9c385af", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["746eed9d-8ba9-4c16-a575-3f7ce9c385af", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["9514bf48-e5d3-4373-ae4e-f98e55e3dd6f", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["9514bf48-e5d3-4373-ae4e-f98e55e3dd6f", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["2ed596e4-e76d-4b18-87d8-73c734b804ca", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["2ed596e4-e76d-4b18-87d8-73c734b804ca", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["b5d849fe-23fc-43aa-bd6d-c3604c802d6a", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["b5d849fe-23fc-43aa-bd6d-c3604c802d6a", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["9229292d-ac42-4db4-b502-e855dbe4226e", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["9229292d-ac42-4db4-b502-e855dbe4226e", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["119c4772-85ac-42c8-bcc9-9c0e2705d788", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["119c4772-85ac-42c8-bcc9-9c0e2705d788", true]
{"@timestamp":"2025-10-14T12:26:04.248Z","level":"DEBUG","message":"User context cache hit","service":"bendcare-os","env":"development","file":"user-context.ts","line":288,"function":"getUserContextSafe","correlationId":"cor_mgqjcwfu_81zcygg3","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":141,"userId":"[UUID]","operation":"getUserContext","_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:04.248Z","level":"INFO","message":"API authentication successful","service":"bendcare-os","env":"development","file":"global-auth.ts","line":122,"function":"applyGlobalAuth","correlationId":"cor_mgqjcwfu_81zcygg3","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","pathname":"/api/admin/data-sources/388/query","userId":"[UUID]","userEmail":"[REDACTED]","authMethod":"httponly_cookie","duration":72,"_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:04.248Z","level":"INFO","message":"Global auth check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":71,"function":"eval","correlationId":"cor_mgqjcwfu_81zcygg3","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":105,"_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:04.248Z","level":"DEBUG","message":"Global authentication completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":74,"function":"eval","correlationId":"cor_mgqjcwfu_81zcygg3","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":141,"hasSession":true,"hasUser":true,"_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:04.248Z","level":"INFO","message":"User context retrieved from session","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":132,"function":"eval","correlationId":"cor_mgqjcwfu_81zcygg3","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","cached":true,"_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:04.248Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":154,"function":"eval","correlationId":"cor_mgqjcwfu_81zcygg3","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":141,"userId":"[UUID]","roleCount":1,"permissionCount":90,"isSuperAdmin":true,"_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:04.248Z","level":"INFO","message":"RBAC permission check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":170,"function":"eval","correlationId":"cor_mgqjcwfu_81zcygg3","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","permissions":["data-sources:read:organization","data-sources:read:all"],"requireAll":false,"_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:04.248Z","level":"INFO","message":"RBAC permission check passed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":179,"function":"eval","correlationId":"cor_mgqjcwfu_81zcygg3","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":141,"userId":"[UUID]","permissions":["data-sources:read:organization","data-sources:read:all"],"rbacDuration":0,"_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:04.248Z","level":"INFO","message":"Auth: rbac_check","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":186,"function":"eval","correlationId":"cor_mgqjcwfu_81zcygg3","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":141,"component":"auth","action":"rbac_check","success":true,"userId":"[UUID]","_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:04.249Z","level":"INFO","message":"Data source query request initiated","service":"bendcare-os","env":"development","file":"route.ts","line":97,"function":"queryDataSourceHandler","correlationId":"cor_mgqjcwfu_81zcygg3","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":142,"requestingUserId":"[UUID]","dataSourceId":388,"limit":1000,"startDate":"2025-01-01","endDate":"2025-10-06","practiceUid":null,"advancedFiltersCount":0,"_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
Query: select "data_source_id", "data_source_name", "data_source_description", "table_name", "schema_name", "database_type", "connection_config", "is_active", "requires_auth", "created_at", "updated_at", "created_by" from "chart_data_sources" where "chart_data_sources"."data_source_id" = $1 -- params: [388]
{"@timestamp":"2025-10-14T12:26:04.249Z","level":"DEBUG","message":"User context cache hit","service":"bendcare-os","env":"development","file":"user-context.ts","line":288,"function":"getUserContextSafe","correlationId":"cor_mgqjcwhf_b575m5t1","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":142,"userId":"[UUID]","operation":"getUserContext","_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:04.250Z","level":"INFO","message":"API authentication successful","service":"bendcare-os","env":"development","file":"global-auth.ts","line":122,"function":"applyGlobalAuth","correlationId":"cor_mgqjcwhf_b575m5t1","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","pathname":"/api/admin/data-sources/388/query","userId":"[UUID]","userEmail":"[REDACTED]","authMethod":"httponly_cookie","duration":72,"_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:04.250Z","level":"INFO","message":"Global auth check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":71,"function":"eval","correlationId":"cor_mgqjcwhf_b575m5t1","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":107,"_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:04.250Z","level":"DEBUG","message":"Global authentication completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":74,"function":"eval","correlationId":"cor_mgqjcwhf_b575m5t1","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":143,"hasSession":true,"hasUser":true,"_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:04.250Z","level":"INFO","message":"User context retrieved from session","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":132,"function":"eval","correlationId":"cor_mgqjcwhf_b575m5t1","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","cached":true,"_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:04.250Z","level":"DEBUG","message":"User context loaded successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":154,"function":"eval","correlationId":"cor_mgqjcwhf_b575m5t1","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":143,"userId":"[UUID]","roleCount":1,"permissionCount":90,"isSuperAdmin":true,"_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:04.250Z","level":"INFO","message":"RBAC permission check completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":170,"function":"eval","correlationId":"cor_mgqjcwhf_b575m5t1","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":0,"userId":"[UUID]","permissions":["data-sources:read:organization","data-sources:read:all"],"requireAll":false,"_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:04.250Z","level":"INFO","message":"RBAC permission check passed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":179,"function":"eval","correlationId":"cor_mgqjcwhf_b575m5t1","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":143,"userId":"[UUID]","permissions":["data-sources:read:organization","data-sources:read:all"],"rbacDuration":0,"_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:04.250Z","level":"INFO","message":"Auth: rbac_check","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":186,"function":"eval","correlationId":"cor_mgqjcwhf_b575m5t1","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":143,"component":"auth","action":"rbac_check","success":true,"userId":"[UUID]","_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:04.250Z","level":"INFO","message":"Data source query request initiated","service":"bendcare-os","env":"development","file":"route.ts","line":97,"function":"queryDataSourceHandler","correlationId":"cor_mgqjcwhf_b575m5t1","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":143,"requestingUserId":"[UUID]","dataSourceId":388,"limit":1000,"startDate":"2025-01-01","endDate":"2025-10-06","practiceUid":null,"advancedFiltersCount":0,"_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
Query: select "data_source_id", "data_source_name", "data_source_description", "table_name", "schema_name", "database_type", "connection_config", "is_active", "requires_auth", "created_at", "updated_at", "created_by" from "chart_data_sources" where "chart_data_sources"."data_source_id" = $1 -- params: [388]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["b5fbb298-5306-4fe0-9fb8-9f8e58e2c69f", true]
Query: select count(*) from "chart_data_source_columns" where ("chart_data_source_columns"."data_source_id" = $1 and "chart_data_source_columns"."is_active" = $2) -- params: [388, true]
Query: select count(*) from "chart_data_source_columns" where ("chart_data_source_columns"."data_source_id" = $1 and "chart_data_source_columns"."is_active" = $2) -- params: [388, true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["b5fbb298-5306-4fe0-9fb8-9f8e58e2c69f", true]
{"@timestamp":"2025-10-14T12:26:04.252Z","level":"INFO","message":"Data source columns query initiated","service":"bendcare-os","env":"development","file":"rbac-data-sources-service.ts","line":476,"function":"RBACDataSourcesService.getDataSourceColumns","correlationId":"cor_mgqjcwhf_b575m5t1","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":145,"userId":"[UUID]","dataSourceId":388,"isActive":true,"_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
Query: select "column_id", "data_source_id", "column_name", "display_name", "column_description", "data_type", "is_filterable", "is_groupable", "is_measure", "is_dimension", "is_date_field", "is_measure_type", "is_time_period", "format_type", "sort_order", "default_aggregation", "display_icon", "icon_type", "icon_color_mode", "icon_color", "icon_mapping", "is_sensitive", "access_level", "allowed_values", "validation_rules", "example_value", "is_active", "created_at", "updated_at" from "chart_data_source_columns" where ("chart_data_source_columns"."data_source_id" = $1 and "chart_data_source_columns"."is_active" = $2) order by "chart_data_source_columns"."sort_order", "chart_data_source_columns"."column_name" limit $3 -- params: [388, true, 100]
{"@timestamp":"2025-10-14T12:26:04.253Z","level":"INFO","message":"Data source columns query initiated","service":"bendcare-os","env":"development","file":"rbac-data-sources-service.ts","line":476,"function":"RBACDataSourcesService.getDataSourceColumns","correlationId":"cor_mgqjcwfu_81zcygg3","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":146,"userId":"[UUID]","dataSourceId":388,"isActive":true,"_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
Query: select "column_id", "data_source_id", "column_name", "display_name", "column_description", "data_type", "is_filterable", "is_groupable", "is_measure", "is_dimension", "is_date_field", "is_measure_type", "is_time_period", "format_type", "sort_order", "default_aggregation", "display_icon", "icon_type", "icon_color_mode", "icon_color", "icon_mapping", "is_sensitive", "access_level", "allowed_values", "validation_rules", "example_value", "is_active", "created_at", "updated_at" from "chart_data_source_columns" where ("chart_data_source_columns"."data_source_id" = $1 and "chart_data_source_columns"."is_active" = $2) order by "chart_data_source_columns"."sort_order", "chart_data_source_columns"."column_name" limit $3 -- params: [388, true, 100]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["f2bb8b5c-3c21-48e3-91d6-8a5c73524255", true]
{"@timestamp":"2025-10-14T12:26:04.254Z","level":"INFO","message":"Data source columns query completed","service":"bendcare-os","env":"development","file":"rbac-data-sources-service.ts","line":501,"function":"RBACDataSourcesService.getDataSourceColumns","correlationId":"cor_mgqjcwhf_b575m5t1","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","userId":"[UUID]","dataSourceId":388,"columnCount":9,"duration":2,"_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:04.255Z","level":"INFO","message":"Executing data source query","service":"bendcare-os","env":"development","file":"route.ts","line":269,"function":"queryDataSourceHandler","correlationId":"cor_mgqjcwhf_b575m5t1","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":148,"dataSourceId":388,"tableName":"ih.agg_table_data","columnsCount":9,"hasFilters":true,"_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
Query: SELECT entity_type, date_value, practice, practice_primary, entity_name, entity_text, entity_subtext, entity_id, created_at FROM ih.agg_table_data WHERE "date_value" >= $1 AND "date_value" <= $2 LIMIT 1000 -- params: ["2025-01-01", "2025-10-06"]
{"@timestamp":"2025-10-14T12:26:04.257Z","level":"INFO","message":"Data source columns query completed","service":"bendcare-os","env":"development","file":"rbac-data-sources-service.ts","line":501,"function":"RBACDataSourcesService.getDataSourceColumns","correlationId":"cor_mgqjcwfu_81zcygg3","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","userId":"[UUID]","dataSourceId":388,"columnCount":9,"duration":4,"_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:04.257Z","level":"INFO","message":"Executing data source query","service":"bendcare-os","env":"development","file":"route.ts","line":269,"function":"queryDataSourceHandler","correlationId":"cor_mgqjcwfu_81zcygg3","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":150,"dataSourceId":388,"tableName":"ih.agg_table_data","columnsCount":9,"hasFilters":true,"_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
Query: SELECT entity_type, date_value, practice, practice_primary, entity_name, entity_text, entity_subtext, entity_id, created_at FROM ih.agg_table_data WHERE "date_value" >= $1 AND "date_value" <= $2 LIMIT 1000 -- params: ["2025-01-01", "2025-10-06"]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["f2bb8b5c-3c21-48e3-91d6-8a5c73524255", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["79314eb5-9667-47cc-920d-ef824c7c7e8e", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["79314eb5-9667-47cc-920d-ef824c7c7e8e", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["a4d679f5-e27c-4641-af35-49de7d472ead", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["a4d679f5-e27c-4641-af35-49de7d472ead", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["8a17c879-6c34-4213-950e-f86b17276c99", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["8a17c879-6c34-4213-950e-f86b17276c99", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["5478581f-b7f2-4a81-95e6-e9b476e85f45", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["5478581f-b7f2-4a81-95e6-e9b476e85f45", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["d2fb3efa-dc52-412d-aa1b-0007263e1e8b", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["d2fb3efa-dc52-412d-aa1b-0007263e1e8b", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["8cf7ab1a-714c-4c15-89fb-be188ac79996", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["8cf7ab1a-714c-4c15-89fb-be188ac79996", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["05fca3fd-38d6-41c2-8343-1035e1f7fde8", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["05fca3fd-38d6-41c2-8343-1035e1f7fde8", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["297bfaba-257b-4566-9146-3de6f69cd311", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["297bfaba-257b-4566-9146-3de6f69cd311", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["42dea213-bad3-41d1-90c5-88da8fd0859c", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["42dea213-bad3-41d1-90c5-88da8fd0859c", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["9b0e28f4-edec-4edf-ab8f-493df3863136", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["9b0e28f4-edec-4edf-ab8f-493df3863136", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["c73ec1e3-f010-437b-82d2-029ba25b188e", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["c73ec1e3-f010-437b-82d2-029ba25b188e", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["aee86b6c-a02d-4522-9d52-e71c15bc80d1", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["aee86b6c-a02d-4522-9d52-e71c15bc80d1", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["a09ec951-85bb-45c6-a62f-a152b4262320", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["a09ec951-85bb-45c6-a62f-a152b4262320", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["fb0a01ea-e3db-4967-93be-0924bd9a380c", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["fb0a01ea-e3db-4967-93be-0924bd9a380c", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["d8f0ef2e-0d4c-4685-85d1-ebcecea39aa3", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["d8f0ef2e-0d4c-4685-85d1-ebcecea39aa3", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["885ccab9-84ae-4cc5-b2e2-782c7b6d3437", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["885ccab9-84ae-4cc5-b2e2-782c7b6d3437", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["a8e277ca-d473-4263-8563-d5c618ae11e0", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["a8e277ca-d473-4263-8563-d5c618ae11e0", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["e917cfd6-ea45-4e32-846f-42a624e77d00", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["e917cfd6-ea45-4e32-846f-42a624e77d00", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["2b670095-76e2-4ef9-a319-9128d703cd64", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["2b670095-76e2-4ef9-a319-9128d703cd64", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["9344cc12-cab3-417a-ba0b-34226ccc430a", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["9344cc12-cab3-417a-ba0b-34226ccc430a", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["60d3139e-5749-427d-b958-7710c823d3f1", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["60d3139e-5749-427d-b958-7710c823d3f1", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["6ba4ff08-2178-4fac-9302-0ef6347ac7e1", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["6ba4ff08-2178-4fac-9302-0ef6347ac7e1", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["0ce0edbe-d3ee-4543-bb9c-3c710450882b", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["0ce0edbe-d3ee-4543-bb9c-3c710450882b", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["7b70e645-82f2-4b18-8b22-db946991f6d5", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["7b70e645-82f2-4b18-8b22-db946991f6d5", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["640c5969-74bc-4189-a455-81bf26f74829", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["640c5969-74bc-4189-a455-81bf26f74829", true]
Query: select count(*) from "user_organizations" where ("user_organizations"."organization_id" = $1 and "user_organizations"."is_active" = $2) -- params: ["13f5a859-91ba-46ad-a4d1-40fb7a2996f2", true]
Query: select "organization_id", "name", "slug", "parent_organization_id", "is_active", "created_at", "updated_at", "deleted_at" from "organizations" where ("organizations"."parent_organization_id" = $1 and "organizations"."is_active" = $2 and "organizations"."deleted_at" is null) -- params: ["13f5a859-91ba-46ad-a4d1-40fb7a2996f2", true]
{"@timestamp":"2025-10-14T12:26:04.300Z","level":"INFO","message":"organizations list query completed - returned 44 organizations","service":"bendcare-os","env":"development","file":"route.ts","line":67,"function":"getOrganizationsHandler","correlationId":"cor_mgqjcxg7_jjbf9833","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","operation":"list_organizations","resourceType":"organizations","userId":"[UUID]","isSuperAdmin":true,"filters":{"is_active":true},"filterCount":1,"results":{"returned":44,"active":44,"inactive":0,"page":1,"pageSize":10},"sort":{"field":"created_at","direction":"desc"},"duration":80,"slow":false,"component":"business-logic","_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-14T12:26:04.300Z","level":"INFO","message":"Handler execution completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":192,"function":"eval","correlationId":"cor_mgqjcxg7_jjbf9833","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":80,"userId":"[UUID]","statusCode":200,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
{"@timestamp":"2025-10-14T12:26:04.300Z","level":"INFO","message":"RBAC route completed successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":198,"function":"eval","correlationId":"cor_mgqjcxg7_jjbf9833","method":"GET","path":"/api/organizations","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":295,"userId":"[UUID]","statusCode":200,"totalDuration":295,"_contextMetadata":{"method":"GET","path":"/api/organizations"}}
 GET /api/organizations?is_active=true 200 in 309ms
{"@timestamp":"2025-10-14T12:26:05.138Z","level":"INFO","message":"Data source query completed","service":"bendcare-os","env":"development","file":"route.ts","line":278,"function":"queryDataSourceHandler","correlationId":"cor_mgqjcwhf_b575m5t1","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dataSourceId":388,"rowCount":5,"duration":888,"_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:05.138Z","level":"INFO","message":"Handler execution completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":192,"function":"eval","correlationId":"cor_mgqjcwhf_b575m5t1","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":888,"userId":"[UUID]","statusCode":200,"_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:05.138Z","level":"INFO","message":"RBAC route completed successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":198,"function":"eval","correlationId":"cor_mgqjcwhf_b575m5t1","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1031,"userId":"[UUID]","statusCode":200,"totalDuration":1031,"_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
 GET /api/admin/data-sources/388/query?start_date=2025-01-01&end_date=2025-10-06&practice=114&limit=1000&_t=1760444762702 200 in 2392ms
{"@timestamp":"2025-10-14T12:26:05.139Z","level":"INFO","message":"Data source query completed","service":"bendcare-os","env":"development","file":"route.ts","line":278,"function":"queryDataSourceHandler","correlationId":"cor_mgqjcwfu_81zcygg3","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","dataSourceId":388,"rowCount":5,"duration":890,"_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:05.139Z","level":"INFO","message":"Handler execution completed","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":192,"function":"eval","correlationId":"cor_mgqjcwfu_81zcygg3","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":891,"userId":"[UUID]","statusCode":200,"_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
{"@timestamp":"2025-10-14T12:26:05.139Z","level":"INFO","message":"RBAC route completed successfully","service":"bendcare-os","env":"development","file":"rbac-route-handler.ts","line":198,"function":"eval","correlationId":"cor_mgqjcwfu_81zcygg3","method":"GET","path":"/api/admin/data-sources/388/query","ipAddress":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","duration":1033,"userId":"[UUID]","statusCode":200,"totalDuration":1032,"_contextMetadata":{"method":"GET","path":"/api/admin/data-sources/388/query"}}
 GET /api/admin/data-sources/388/query?start_date=2025-01-01&end_date=2025-10-06&practice=114&limit=1000&_t=1760444762668 200 in 2450ms